<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time Series Analysis - Course Website</title>

    <!-- MathJax for beautiful math rendering -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>

    <style>
        :root {
            --main-blue: #1A3A6E;
            --accent-blue: #2A528C;
            --ida-red: #DC3545;
            --forest: #2E7D32;
            --dark-gray: #333;
            --light-gray: #f5f5f5;
            --white: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark-gray);
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--main-blue) 0%, var(--accent-blue) 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        /* Navigation */
        nav {
            background: var(--dark-gray);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background 0.3s;
        }

        nav a:hover {
            background: var(--main-blue);
        }

        /* Language Switcher */
        .lang-switcher {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-left: auto;
            padding-left: 2rem;
        }

        .lang-btn {
            padding: 0.4rem 0.8rem;
            border: 2px solid white;
            border-radius: 4px;
            background: transparent;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .lang-btn:hover {
            background: white;
            color: var(--dark-gray);
        }

        .lang-btn.active {
            background: white;
            color: var(--main-blue);
        }

        /* Main Content */
        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        section {
            margin-bottom: 3rem;
        }

        h2 {
            color: var(--main-blue);
            border-bottom: 3px solid var(--ida-red);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }

        /* Course Info */
        .course-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .info-card {
            background: var(--light-gray);
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid var(--main-blue);
            overflow-x: auto;
        }

        .info-card h3 {
            color: var(--main-blue);
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .info-card p {
            overflow-wrap: break-word;
            word-wrap: break-word;
            font-size: 0.95rem;
        }

        /* Chapter Cards */
        .chapters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .chapter-card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .chapter-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .chapter-header {
            background: var(--main-blue);
            color: white;
            padding: 1rem;
        }

        .chapter-header h3 {
            margin: 0;
        }

        .chapter-body {
            padding: 1.5rem;
        }

        .chapter-body ul {
            list-style: none;
            margin-bottom: 1rem;
        }

        .chapter-body li {
            padding: 0.3rem 0;
            padding-left: 1.5rem;
            position: relative;
        }

        .chapter-body li::before {
            content: ">";
            color: var(--ida-red);
            position: absolute;
            left: 0;
            font-weight: bold;
        }

        .chapter-links {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .btn {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            text-decoration: none;
            font-size: 0.9rem;
            transition: background 0.3s;
        }

        .btn-primary {
            background: var(--main-blue);
            color: white;
        }

        .btn-primary:hover {
            background: var(--accent-blue);
        }

        .btn-secondary {
            background: var(--forest);
            color: white;
        }

        .btn-secondary:hover {
            background: #1b5e20;
        }

        .btn-outline {
            border: 2px solid var(--main-blue);
            color: var(--main-blue);
            background: white;
        }

        .btn-outline:hover {
            background: var(--main-blue);
            color: white;
        }

        .btn-colab {
            background: #F9AB00;
            color: #333;
        }

        .btn-colab:hover {
            background: #E09600;
        }

        .colab-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.3rem;
            background: #F9AB00;
            color: #333;
            padding: 0.3rem 0.6rem;
            border-radius: 4px;
            font-size: 0.8rem;
            text-decoration: none;
            margin-left: 0.5rem;
            transition: background 0.3s;
        }

        .colab-badge:hover {
            background: #E09600;
        }

        .colab-badge img {
            height: 16px;
        }

        /* Quiz Section */
        .quiz-container {
            background: var(--light-gray);
            padding: 2rem;
            border-radius: 8px;
        }

        .quiz-question {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            border-left: 4px solid var(--main-blue);
        }

        .quiz-question h4 {
            color: var(--main-blue);
            margin-bottom: 1rem;
        }

        .quiz-options {
            list-style: none;
        }

        .quiz-options li {
            padding: 0.5rem;
            margin: 0.3rem 0;
            cursor: pointer;
            border-radius: 4px;
            transition: background 0.3s;
        }

        .quiz-options li:hover {
            background: #e3f2fd;
        }

        .quiz-options input[type="radio"] {
            margin-right: 0.5rem;
        }

        .answer-reveal {
            display: none;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 4px;
        }

        .answer-correct {
            background: #c8e6c9;
            border-left: 4px solid var(--forest);
        }

        .answer-incorrect {
            background: #ffcdd2;
            border-left: 4px solid var(--ida-red);
        }

        /* Resources */
        .resources-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .resource-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: white;
            border-radius: 8px;
            border: 1px solid #ddd;
            text-decoration: none;
            color: var(--dark-gray);
            transition: background 0.3s;
        }

        .resource-item:hover {
            background: var(--light-gray);
        }

        .resource-icon {
            width: 40px;
            height: 40px;
            background: var(--main-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        /* Footer */
        footer {
            background: var(--dark-gray);
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            nav ul {
                flex-direction: column;
                align-items: center;
                gap: 0.5rem;
            }

            header h1 {
                font-size: 1.8rem;
            }

            .chapter-links {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <div style="display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto; padding: 0 2rem;">
            <a href="https://www.ase.ro" target="_blank"><img src="logos/ase_logo.png" alt="ASE Logo" style="height: 60px; background: white; padding: 5px; border-radius: 4px;"></a>
            <div style="text-align: center; flex: 1;">
                <h1>Time Series Analysis and Forecasting</h1>
                <p>Bachelor program | Faculty of Cybernetics, Statistics and Economic Informatics | Bucharest University of Economic Studies, Romania</p>
            </div>
            <a href="https://www.theida.net/" target="_blank"><img src="logos/ida_logo.png" alt="IDA Logo" style="height: 60px; background: white; padding: 5px; border-radius: 4px;"></a>
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#chapters">Chapters</a></li>
            <li><a href="#quizzes">Quizzes</a></li>
            <li><a href="#resources">Resources</a></li>
            <li><a href="#contact">Contact</a></li>
            <li class="lang-switcher">
                <a href="index.html" class="lang-btn active">EN</a>
                <a href="index_ro.html" class="lang-btn">RO</a>
            </li>
        </ul>
    </nav>

    <main>
        <section id="home">
            <h2>Course Overview</h2>
            <div class="course-info">
                <div class="info-card">
                    <h3>Course</h3>
                    <p>Time Series Analysis and Forecasting</p>
                    <p>Bucharest University of Economic Studies</p>
                </div>
                <div class="info-card">
                    <h3>Duration</h3>
                    <p><strong>Lectures:</strong> 2 hours/week</p>
                    <p><strong>Seminars:</strong> 2 hours/week</p>
                </div>
                <div class="info-card">
                    <h3>Prerequisites</h3>
                    <p>Statistics, Probability Theory</p>
                    <p>Linear Algebra, Python Programming</p>
                </div>
                <div class="info-card">
                    <h3>Assessment</h3>
                    <p>Final Exam: 70%</p>
                    <p>Projects & Assignments: 30%</p>
                </div>
            </div>

            <h3>Learning Objectives</h3>
            <p>By the end of this course, you will be able to:</p>
            <ul style="margin-left: 2rem; margin-top: 1rem;">
                <li>Understand stationarity, autocorrelation (ACF), and partial autocorrelation (PACF)</li>
                <li>Apply decomposition methods and exponential smoothing (SES, Holt, Holt-Winters)</li>
                <li>Build and diagnose ARMA and ARIMA models using Box-Jenkins methodology</li>
                <li>Model seasonal time series with SARIMA</li>
                <li>Model volatility clustering with GARCH, EGARCH, and GJR-GARCH</li>
                <li>Calculate Value at Risk (VaR) using volatility forecasts</li>
                <li>Analyze multivariate systems with VAR models and Granger causality tests</li>
                <li>Interpret Impulse Response Functions and Forecast Error Variance Decomposition</li>
                <li>Test for cointegration and estimate VECM models</li>
                <li>Implement time series analysis and forecasting in Python</li>
            </ul>

            <h3 style="margin-top: 2rem;">Key Formulas</h3>
            <div class="course-info" style="margin-top: 1rem;">
                <div class="info-card">
                    <h3>Decomposition</h3>
                    <p><strong>Additive:</strong> $X_t = T_t + S_t + \varepsilon_t$</p>
                    <p><strong>Multiplicative:</strong> $X_t = T_t \times S_t \times \varepsilon_t$</p>
                </div>
                <div class="info-card">
                    <h3>Stationarity</h3>
                    <p>$\mathbb{E}[X_t] = \mu$ (constant)</p>
                    <p>$\text{Var}(X_t) = \sigma^2$ (constant)</p>
                    <p>$\text{Cov}(X_t, X_{t+h}) = \gamma(h)$</p>
                </div>
                <div class="info-card">
                    <h3>AR(p) Model</h3>
                    <p>$X_t = c + \sum_{i=1}^{p}\phi_i X_{t-i} + \varepsilon_t$</p>
                    <p>Stationary if roots outside unit circle</p>
                </div>
                <div class="info-card">
                    <h3>MA(q) Model</h3>
                    <p>$X_t = \mu + \sum_{j=1}^{q}\theta_j\varepsilon_{t-j} + \varepsilon_t$</p>
                    <p>Always stationary</p>
                </div>
                <div class="info-card">
                    <h3>ARIMA(p,d,q)</h3>
                    <p>$\phi(L)(1-L)^d X_t = \theta(L)\varepsilon_t$</p>
                    <p>$d$ = differencing order</p>
                </div>
                <div class="info-card">
                    <h3>SARIMA</h3>
                    <p>$(p,d,q) \times (P,D,Q)_s$</p>
                    <p>Seasonal + non-seasonal ARIMA</p>
                </div>
                <div class="info-card">
                    <h3>VAR(p) Model</h3>
                    <p>$\mathbf{Y}_t = \mathbf{c} + \sum_{i=1}^{p}\mathbf{A}_i\mathbf{Y}_{t-i} + \boldsymbol{\varepsilon}_t$</p>
                    <p>Multivariate AR extension</p>
                </div>
                <div class="info-card">
                    <h3>Granger Causality</h3>
                    <p>$X \rightarrow Y$: past $X$ predicts $Y$</p>
                    <p>$H_0$: lagged $X$ coefficients = 0</p>
                </div>
                <div class="info-card">
                    <h3>GARCH(1,1)</h3>
                    <p>$\sigma_t^2 = \omega + \alpha \varepsilon_{t-1}^2 + \beta \sigma_{t-1}^2$</p>
                    <p>Volatility clustering model</p>
                </div>
                <div class="info-card">
                    <h3>Value at Risk</h3>
                    <p>$\text{VaR}_\alpha = \mu + z_\alpha \cdot \sigma_t$</p>
                    <p>Risk measure at confidence $\alpha$</p>
                </div>
                <div class="info-card">
                    <h3>Cointegration</h3>
                    <p>$Y_t = \beta X_t + u_t$, $u_t \sim I(0)$</p>
                    <p>Long-run equilibrium relationship</p>
                </div>
                <div class="info-card">
                    <h3>Model Selection</h3>
                    <p>AIC $= -2\log L + 2k$</p>
                    <p>BIC $= -2\log L + k\log n$</p>
                </div>
                <div class="info-card">
                    <h3>Forecast Metrics</h3>
                    <p>RMSE $= \sqrt{\frac{1}{n}\sum(y_t - \hat{y}_t)^2}$</p>
                    <p>MAPE $= \frac{100}{n}\sum|\frac{y_t - \hat{y}_t}{y_t}|$</p>
                </div>
                <div class="info-card">
                    <h3>Prophet Model</h3>
                    <p>$y(t) = g(t) + s(t) + h(t) + \varepsilon_t$</p>
                    <p>Trend + Seasonality + Holidays</p>
                </div>
                <div class="info-card">
                    <h3>TBATS</h3>
                    <p>Trigonometric + Box-Cox + ARMA</p>
                    <p>Multiple seasonality via Fourier</p>
                </div>
            </div>
        </section>

        <section id="chapters">
            <h2>Course Chapters</h2>
            <div class="chapters-grid">
                <div class="chapter-card">
                    <div class="chapter-header">
                        <h3>Chapter 0: Fundamentals</h3>
                    </div>
                    <div class="chapter-body">
                        <ul>
                            <li>What is a Time Series?</li>
                            <li>Time Series Decomposition</li>
                            <li>Exponential Smoothing Methods</li>
                            <li>Forecast Evaluation</li>
                            <li>Modeling Seasonality</li>
                            <li>Handling Trend and Seasonality</li>
                        </ul>
                        <div class="chapter-links">
                            <a href="EN/chapter0_fundamentals.pdf" class="btn btn-primary">Lecture Slides</a>
                            <a href="EN/chapter0_seminar.pdf" class="btn btn-secondary">Seminar</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Course_Notebooks/chapter0_lecture_notebook.ipynb" class="btn btn-outline" target="_blank">Lecture Notebook</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Seminar_Notebooks/chapter0_seminar_notebook.ipynb" class="btn btn-outline" target="_blank">Seminar Notebook</a>
                        </div>
                    </div>
                </div>

                <div class="chapter-card">
                    <div class="chapter-header">
                        <h3>Chapter 1: Stochastic Processes & Stationarity</h3>
                    </div>
                    <div class="chapter-body">
                        <ul>
                            <li>Stochastic Processes</li>
                            <li>Stationarity (Strict & Weak)</li>
                            <li>White Noise and Random Walk</li>
                            <li>Autocorrelation Functions (ACF/PACF)</li>
                            <li>Lag Operator and Differencing</li>
                            <li>Testing for Stationarity (ADF, KPSS)</li>
                        </ul>
                        <div class="chapter-links">
                            <a href="EN/chapter1_intro_timeseries.pdf" class="btn btn-primary">Lecture Slides</a>
                            <a href="EN/chapter1_seminar.pdf" class="btn btn-secondary">Seminar</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Course_Notebooks/chapter1_lecture_notebook.ipynb" class="btn btn-outline" target="_blank">Lecture Notebook</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Seminar_Notebooks/chapter1_seminar_notebook.ipynb" class="btn btn-outline" target="_blank">Seminar Notebook</a>
                        </div>
                    </div>
                </div>

                <div class="chapter-card">
                    <div class="chapter-header">
                        <h3>Chapter 2: ARMA Models</h3>
                    </div>
                    <div class="chapter-body">
                        <ul>
                            <li>Autoregressive (AR) Models</li>
                            <li>Moving Average (MA) Models</li>
                            <li>ARMA Model Identification</li>
                            <li>Parameter Estimation</li>
                            <li>Model Diagnostics</li>
                            <li>Forecasting with ARMA</li>
                        </ul>
                        <div class="chapter-links">
                            <a href="EN/chapter2_arma_models.pdf" class="btn btn-primary">Lecture Slides</a>
                            <a href="EN/chapter2_seminar.pdf" class="btn btn-secondary">Seminar</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Course_Notebooks/chapter2_lecture_notebook.ipynb" class="btn btn-outline" target="_blank">Lecture Notebook</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Seminar_Notebooks/chapter2_seminar_notebook.ipynb" class="btn btn-outline" target="_blank">Seminar Notebook</a>
                        </div>
                    </div>
                </div>

                <div class="chapter-card">
                    <div class="chapter-header">
                        <h3>Chapter 3: ARIMA Models</h3>
                    </div>
                    <div class="chapter-body">
                        <ul>
                            <li>Non-Stationarity & Unit Roots</li>
                            <li>Differencing & Integration</li>
                            <li>ARIMA(p,d,q) Models</li>
                            <li>Unit Root Tests (ADF, KPSS)</li>
                            <li>Box-Jenkins Methodology</li>
                            <li>Forecasting with ARIMA</li>
                        </ul>
                        <div class="chapter-links">
                            <a href="EN/chapter3_arima_models.pdf" class="btn btn-primary">Lecture Slides</a>
                            <a href="EN/chapter3_seminar.pdf" class="btn btn-secondary">Seminar</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Course_Notebooks/chapter3_lecture_notebook.ipynb" class="btn btn-outline" target="_blank">Lecture Notebook</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Seminar_Notebooks/chapter3_seminar_notebook.ipynb" class="btn btn-outline" target="_blank">Seminar Notebook</a>
                        </div>
                    </div>
                </div>

                <div class="chapter-card">
                    <div class="chapter-header">
                        <h3>Chapter 4: SARIMA Models</h3>
                    </div>
                    <div class="chapter-body">
                        <ul>
                            <li>Seasonality in Time Series</li>
                            <li>Seasonal Decomposition</li>
                            <li>Seasonal Differencing</li>
                            <li>SARIMA$(p,d,q) \times (P,D,Q)_s$</li>
                            <li>Airline Model</li>
                            <li>Seasonal Forecasting</li>
                        </ul>
                        <div class="chapter-links">
                            <a href="EN/chapter4_sarima_models.pdf" class="btn btn-primary">Lecture Slides</a>
                            <a href="EN/chapter4_seminar.pdf" class="btn btn-secondary">Seminar</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Course_Notebooks/chapter4_lecture_notebook.ipynb" class="btn btn-outline" target="_blank">Lecture Notebook</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Seminar_Notebooks/chapter4_seminar_notebook.ipynb" class="btn btn-outline" target="_blank">Seminar Notebook</a>
                        </div>
                    </div>
                </div>

                <div class="chapter-card">
                    <div class="chapter-header">
                        <h3>Chapter 5: Volatility Models ARCH/GARCH</h3>
                    </div>
                    <div class="chapter-body">
                        <ul>
                            <li>Stylized Facts of Financial Returns</li>
                            <li>Volatility Clustering & Heteroskedasticity</li>
                            <li>ARCH Model (Engle, 1982)</li>
                            <li>GARCH Model (Bollerslev, 1986)</li>
                            <li>Asymmetric Models: EGARCH, GJR-GARCH, TGARCH</li>
                            <li>Volatility Forecasting & Value at Risk</li>
                        </ul>
                        <div class="chapter-links">
                            <a href="RO/chapter5_garch_volatility_ro.pdf" class="btn btn-primary">Lecture Slides</a>
                            <a href="EN/chapter5_garch_seminar.pdf" class="btn btn-secondary">Seminar</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Course_Notebooks/chapter5_garch_lecture_notebook.ipynb" class="btn btn-outline" target="_blank">Lecture Notebook</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Seminar_Notebooks/chapter5_garch_seminar_notebook.ipynb" class="btn btn-outline" target="_blank">Seminar Notebook</a>
                        </div>
                    </div>
                </div>

                <div class="chapter-card">
                    <div class="chapter-header">
                        <h3>Chapter 6: VAR Models & Granger Causality</h3>
                    </div>
                    <div class="chapter-body">
                        <ul>
                            <li>Vector Autoregression (VAR)</li>
                            <li>Granger Causality Testing</li>
                            <li>Impulse Response Functions</li>
                            <li>Forecast Error Variance Decomposition</li>
                            <li>VAR Diagnostics & Forecasting</li>
                            <li>Structural VAR (SVAR) Introduction</li>
                        </ul>
                        <div class="chapter-links">
                            <a href="EN/chapter6_var_granger.pdf" class="btn btn-primary">Lecture Slides</a>
                            <a href="EN/chapter6_seminar.pdf" class="btn btn-secondary">Seminar</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Course_Notebooks/chapter6_lecture_notebook.ipynb" class="btn btn-outline" target="_blank">Lecture Notebook</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Seminar_Notebooks/chapter6_seminar_notebook.ipynb" class="btn btn-outline" target="_blank">Seminar Notebook</a>
                        </div>
                    </div>
                </div>

                <div class="chapter-card">
                    <div class="chapter-header">
                        <h3>Chapter 7: Cointegration & VECM</h3>
                    </div>
                    <div class="chapter-body">
                        <ul>
                            <li>Spurious Regression Problem</li>
                            <li>Cointegration Concept</li>
                            <li>Engle-Granger Two-Step Method</li>
                            <li>Johansen Cointegration Test</li>
                            <li>Vector Error Correction Model (VECM)</li>
                            <li>VECM Estimation & Interpretation</li>
                        </ul>
                        <div class="chapter-links">
                            <a href="EN/chapter7_cointegration_vecm.pdf" class="btn btn-primary">Lecture Slides</a>
                            <a href="EN/chapter7_seminar.pdf" class="btn btn-secondary">Seminar</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Course_Notebooks/chapter7_lecture_notebook.ipynb" class="btn btn-outline" target="_blank">Lecture Notebook</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Seminar_Notebooks/chapter7_seminar_notebook.ipynb" class="btn btn-outline" target="_blank">Seminar Notebook</a>
                        </div>
                    </div>
                </div>

                <div class="chapter-card">
                    <div class="chapter-header">
                        <h3>Chapter 8: Modern Extensions</h3>
                    </div>
                    <div class="chapter-body">
                        <ul>
                            <li>ARFIMA Models & Long Memory</li>
                            <li>Hurst Exponent & Fractional Differencing</li>
                            <li>Machine Learning for Time Series</li>
                            <li>Random Forest with Lag Features</li>
                            <li>LSTM Networks for Sequential Data</li>
                            <li>Time Series Cross-Validation</li>
                        </ul>
                        <div class="chapter-links">
                            <a href="EN/chapter8_modern_extensions.pdf" class="btn btn-primary">Lecture Slides</a>
                            <a href="EN/chapter8_seminar.pdf" class="btn btn-secondary">Seminar</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Course_Notebooks/chapter8_lecture_notebook.ipynb" class="btn btn-outline" target="_blank">Lecture Notebook</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Seminar_Notebooks/chapter8_seminar_notebook.ipynb" class="btn btn-outline" target="_blank">Seminar Notebook</a>
                        </div>
                    </div>
                </div>

                <div class="chapter-card">
                    <div class="chapter-header">
                        <h3>Chapter 9: Prophet & TBATS</h3>
                    </div>
                    <div class="chapter-body">
                        <ul>
                            <li>Multiple Seasonality Challenge</li>
                            <li>TBATS: Trigonometric Seasonality</li>
                            <li>Fourier Terms & Box-Cox Transform</li>
                            <li>Prophet: Decomposable Models</li>
                            <li>Trend Changepoints & Holidays</li>
                            <li>Forecasting with Uncertainty</li>
                        </ul>
                        <div class="chapter-links">
                            <a href="EN/chapter9_prophet_tbats.pdf" class="btn btn-primary">Lecture Slides</a>
                            <a href="EN/chapter9_seminar.pdf" class="btn btn-secondary">Seminar</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Course_Notebooks/chapter9_lecture_notebook.ipynb" class="btn btn-outline" target="_blank">Lecture Notebook</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Seminar_Notebooks/chapter9_seminar_notebook.ipynb" class="btn btn-outline" target="_blank">Seminar Notebook</a>
                        </div>
                    </div>
                </div>

                <div class="chapter-card">
                    <div class="chapter-header">
                        <h3>Chapter 10: Comprehensive Review</h3>
                    </div>
                    <div class="chapter-body">
                        <ul>
                            <li>Complete Analysis Workflow</li>
                            <li>Case Study: Bitcoin (ARIMA-GARCH Volatility)</li>
                            <li>Case Study: Sunspots (11-Year Cycle, SARIMA)</li>
                            <li>Case Study: US Unemployment (Structural Breaks)</li>
                            <li>Model Selection Decision Guide</li>
                            <li>Forecast Evaluation Metrics</li>
                        </ul>
                        <div class="chapter-links">
                            <a href="EN/chapter10_comprehensive_review.pdf" class="btn btn-primary">Lecture Slides</a>
                            <a href="https://github.com/danpele/Time-Series-Analysis/blob/main/EN/Course_Notebooks/chapter10_lecture_notebook.ipynb" class="btn btn-outline" target="_blank">Lecture Notebook</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="quizzes">
            <h2>Interactive Quizzes</h2>

            <!-- GitHub Login Section (shown when NOT logged in) -->
            <div id="github-login-section" style="margin-bottom: 1.5rem; padding: 2rem; background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); text-align: center;">
                <p style="margin-bottom: 1rem; color: #555; font-size: 1.05rem;">Please log in with your GitHub account to access the quizzes.</p>
                <button onclick="loginWithGitHub()" style="padding: 0.75rem 2rem; background: #24292f; color: white; border: none; border-radius: 8px; font-size: 1.1rem; cursor: pointer; display: inline-flex; align-items: center; gap: 0.6rem; transition: background 0.2s;">
                    <svg height="20" width="20" viewBox="0 0 16 16" fill="white"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/></svg>
                    Login with GitHub
                </button>
            </div>

            <!-- Logged-in Section (shown AFTER login) -->
            <div id="github-logged-in-section" style="margin-bottom: 1.5rem; padding: 1.5rem; background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); display: none; align-items: center; flex-wrap: wrap; justify-content: center; gap: 1.5rem;">
                <div style="display: flex; align-items: center; gap: 0.75rem;">
                    <img id="github-avatar" src="" alt="avatar" style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid var(--main-blue);">
                    <div>
                        <strong id="github-display-name" style="color: var(--main-blue);"></strong>
                        <span id="github-username" style="color: #666; font-size: 0.9rem; margin-left: 0.3rem;"></span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <label for="student-group" style="font-weight: bold; color: var(--main-blue);">Group:</label>
                    <input type="text" id="student-group" placeholder="e.g. A1" style="padding: 0.5rem 1rem; border: 2px solid #dee2e6; border-radius: 6px; font-size: 1rem; width: 120px;">
                </div>
                <button onclick="saveGroup()" style="padding: 0.5rem 1.5rem; background: var(--main-blue); color: white; border: none; border-radius: 6px; font-size: 1rem; cursor: pointer;">Save</button>
                <span id="student-saved" style="color: var(--forest); font-weight: bold; display: none;">&#10003; Saved</span>
                <button onclick="logoutGitHub()" style="padding: 0.5rem 1.2rem; background: #dc3545; color: white; border: none; border-radius: 6px; font-size: 0.9rem; cursor: pointer;">Logout</button>
            </div>

            <!-- Quiz content (hidden until logged in) -->
            <div id="quiz-content" style="display: none;">

            <!-- Chapter Selector Tabs -->
            <div class="chapter-tabs" style="margin-bottom: 2rem; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; padding: 1rem; background: var(--light-gray); border-radius: 8px;">
                <button class="tab-btn active" onclick="showChapter(0)" id="tab-ch0" style="padding: 1rem 2rem; font-size: 1.1rem; cursor: pointer; border: 3px solid var(--main-blue); background: var(--main-blue); color: white; border-radius: 8px; font-weight: bold; transition: all 0.3s; box-shadow: 0 2px 8px rgba(0,0,0,0.2);">Chapter 0</button>
                <button class="tab-btn" onclick="showChapter(1)" id="tab-ch1" style="padding: 1rem 2rem; font-size: 1.1rem; cursor: pointer; border: 3px solid var(--main-blue); background: white; color: var(--main-blue); border-radius: 8px; font-weight: bold; transition: all 0.3s;">Chapter 1</button>
                <button class="tab-btn" onclick="showChapter(2)" id="tab-ch2" style="padding: 1rem 2rem; font-size: 1.1rem; cursor: pointer; border: 3px solid var(--main-blue); background: white; color: var(--main-blue); border-radius: 8px; font-weight: bold; transition: all 0.3s;">Chapter 2</button>
                <button class="tab-btn" onclick="showChapter(3)" id="tab-ch3" style="padding: 1rem 2rem; font-size: 1.1rem; cursor: pointer; border: 3px solid var(--main-blue); background: white; color: var(--main-blue); border-radius: 8px; font-weight: bold; transition: all 0.3s;">Chapter 3</button>
                <button class="tab-btn" onclick="showChapter(4)" id="tab-ch4" style="padding: 1rem 2rem; font-size: 1.1rem; cursor: pointer; border: 3px solid var(--main-blue); background: white; color: var(--main-blue); border-radius: 8px; font-weight: bold; transition: all 0.3s;">Chapter 4</button>
                <button class="tab-btn" onclick="showChapter(5)" id="tab-ch5" style="padding: 1rem 2rem; font-size: 1.1rem; cursor: pointer; border: 3px solid var(--main-blue); background: white; color: var(--main-blue); border-radius: 8px; font-weight: bold; transition: all 0.3s;">Chapter 5</button>
                <button class="tab-btn" onclick="showChapter(6)" id="tab-ch6" style="padding: 1rem 2rem; font-size: 1.1rem; cursor: pointer; border: 3px solid var(--main-blue); background: white; color: var(--main-blue); border-radius: 8px; font-weight: bold; transition: all 0.3s;">Chapter 6</button>
                <button class="tab-btn" onclick="showChapter(7)" id="tab-ch7" style="padding: 1rem 2rem; font-size: 1.1rem; cursor: pointer; border: 3px solid var(--main-blue); background: white; color: var(--main-blue); border-radius: 8px; font-weight: bold; transition: all 0.3s;">Chapter 7</button>
                <button class="tab-btn" onclick="showChapter(8)" id="tab-ch8" style="padding: 1rem 2rem; font-size: 1.1rem; cursor: pointer; border: 3px solid var(--main-blue); background: white; color: var(--main-blue); border-radius: 8px; font-weight: bold; transition: all 0.3s;">Chapter 8</button>
                <button class="tab-btn" onclick="showChapter(9)" id="tab-ch9" style="padding: 1rem 2rem; font-size: 1.1rem; cursor: pointer; border: 3px solid var(--main-blue); background: white; color: var(--main-blue); border-radius: 8px; font-weight: bold; transition: all 0.3s;">Chapter 9</button>
                <button class="tab-btn" onclick="showChapter(10)" id="tab-ch10" style="padding: 1rem 2rem; font-size: 1.1rem; cursor: pointer; border: 3px solid var(--main-blue); background: white; color: var(--main-blue); border-radius: 8px; font-weight: bold; transition: all 0.3s;">Chapter 10</button>
            </div>
            <p style="text-align: center; color: #666; margin-bottom: 1.5rem;"><em>Click on a chapter tab above to switch between quizzes</em></p>

            <!-- Chapter 0 Quizzes -->
            <div class="quiz-container" id="chapter0-quizzes">
                <h3 style="margin-bottom: 1.5rem;">Chapter 0: Fundamentals</h3>

                <!-- Question 1 -->
                <div class="quiz-question">
                    <h4>Question 1: Decomposition Methods</h4>
                    <p>What is the difference between additive and multiplicative decomposition?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch0', 1, 'A')"><input type="radio" name="ch0q1"> A) Additive is for growing trends, multiplicative for constant trends</li>
                        <li onclick="checkAnswer('ch0', 1, 'B')"><input type="radio" name="ch0q1"> B) Additive when seasonal amplitude is constant; multiplicative when it grows with the level</li>
                        <li onclick="checkAnswer('ch0', 1, 'C')"><input type="radio" name="ch0q1"> C) They are the same, just different notation</li>
                        <li onclick="checkAnswer('ch0', 1, 'D')"><input type="radio" name="ch0q1"> D) Additive uses logs, multiplicative uses levels</li>
                    </ul>
                    <div class="feedback" id="ch0-feedback1"></div>
                </div>

                <!-- Question 2 -->
                <div class="quiz-question">
                    <h4>Question 2: Exponential Smoothing</h4>
                    <p>When should you use Holt-Winters instead of simple exponential smoothing?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch0', 2, 'A')"><input type="radio" name="ch0q2"> A) When data has no trend</li>
                        <li onclick="checkAnswer('ch0', 2, 'B')"><input type="radio" name="ch0q2"> B) When data has both trend AND seasonality</li>
                        <li onclick="checkAnswer('ch0', 2, 'C')"><input type="radio" name="ch0q2"> C) When you want faster computation</li>
                        <li onclick="checkAnswer('ch0', 2, 'D')"><input type="radio" name="ch0q2"> D) When the series is stationary</li>
                    </ul>
                    <div class="feedback" id="ch0-feedback2"></div>
                </div>

                <!-- Question 3 -->
                <div class="quiz-question">
                    <h4>Question 3: Cross-Validation</h4>
                    <p>Why can't we use standard k-fold cross-validation for time series?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch0', 3, 'A')"><input type="radio" name="ch0q3"> A) Time series data is too large</li>
                        <li onclick="checkAnswer('ch0', 3, 'B')"><input type="radio" name="ch0q3"> B) It would use future data to predict the past (data leakage)</li>
                        <li onclick="checkAnswer('ch0', 3, 'C')"><input type="radio" name="ch0q3"> C) K-fold only works for classification</li>
                        <li onclick="checkAnswer('ch0', 3, 'D')"><input type="radio" name="ch0q3"> D) There's no difference, we can use k-fold normally</li>
                    </ul>
                    <div class="feedback" id="ch0-feedback3"></div>
                </div>

                <!-- Question 4 -->
                <div class="quiz-question">
                    <h4>Question 4: Smoothing Parameter</h4>
                    <p>What does Î± = 0.9 mean in exponential smoothing?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch0', 4, 'A')"><input type="radio" name="ch0q4"> A) 90% of data is ignored</li>
                        <li onclick="checkAnswer('ch0', 4, 'B')"><input type="radio" name="ch0q4"> B) High weight on recent observations, forecast reacts quickly but is more volatile</li>
                        <li onclick="checkAnswer('ch0', 4, 'C')"><input type="radio" name="ch0q4"> C) The model is 90% accurate</li>
                        <li onclick="checkAnswer('ch0', 4, 'D')"><input type="radio" name="ch0q4"> D) Heavy smoothing with slow reaction to changes</li>
                    </ul>
                    <div class="feedback" id="ch0-feedback4"></div>
                </div>

                <!-- Question 5 -->
                <div class="quiz-question">
                    <h4>Question 5: Trend Types</h4>
                    <p>How do you distinguish between deterministic and stochastic trend?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch0', 5, 'A')"><input type="radio" name="ch0q5"> A) Deterministic trends are always linear</li>
                        <li onclick="checkAnswer('ch0', 5, 'B')"><input type="radio" name="ch0q5"> B) Deterministic is predictable (use regression); stochastic has random walk component (use differencing)</li>
                        <li onclick="checkAnswer('ch0', 5, 'C')"><input type="radio" name="ch0q5"> C) You cannot distinguish them</li>
                        <li onclick="checkAnswer('ch0', 5, 'D')"><input type="radio" name="ch0q5"> D) Stochastic trends only appear in financial data</li>
                    </ul>
                    <div class="feedback" id="ch0-feedback5"></div>
                </div>

                <!-- Question 6 -->
                <div class="quiz-question">
                    <h4>Question 6: Moving Average</h4>
                    <p>What is the main purpose of a centered moving average in time series analysis?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch0', 6, 'A')"><input type="radio" name="ch0q6"> A) To make predictions about future values</li>
                        <li onclick="checkAnswer('ch0', 6, 'B')"><input type="radio" name="ch0q6"> B) To extract the trend component by smoothing out noise and seasonality</li>
                        <li onclick="checkAnswer('ch0', 6, 'C')"><input type="radio" name="ch0q6"> C) To increase the variance of the series</li>
                        <li onclick="checkAnswer('ch0', 6, 'D')"><input type="radio" name="ch0q6"> D) To detect outliers</li>
                    </ul>
                    <div class="feedback" id="ch0-feedback6"></div>
                </div>

                <!-- Question 7 -->
                <div class="quiz-question">
                    <h4>Question 7: STL Decomposition</h4>
                    <p>What is the main advantage of STL decomposition over classical decomposition?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch0', 7, 'A')"><input type="radio" name="ch0q7"> A) It's faster to compute</li>
                        <li onclick="checkAnswer('ch0', 7, 'B')"><input type="radio" name="ch0q7"> B) It allows seasonality to change over time and is robust to outliers</li>
                        <li onclick="checkAnswer('ch0', 7, 'C')"><input type="radio" name="ch0q7"> C) It doesn't require any parameters</li>
                        <li onclick="checkAnswer('ch0', 7, 'D')"><input type="radio" name="ch0q7"> D) It only works with monthly data</li>
                    </ul>
                    <div class="feedback" id="ch0-feedback7"></div>
                </div>

                <!-- Question 8 -->
                <div class="quiz-question">
                    <h4>Question 8: Forecast Error Metrics</h4>
                    <p>Which error metric is scale-independent and allows comparison across different time series?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch0', 8, 'A')"><input type="radio" name="ch0q8"> A) Mean Absolute Error (MAE)</li>
                        <li onclick="checkAnswer('ch0', 8, 'B')"><input type="radio" name="ch0q8"> B) Mean Absolute Percentage Error (MAPE)</li>
                        <li onclick="checkAnswer('ch0', 8, 'C')"><input type="radio" name="ch0q8"> C) Root Mean Squared Error (RMSE)</li>
                        <li onclick="checkAnswer('ch0', 8, 'D')"><input type="radio" name="ch0q8"> D) Sum of Squared Errors (SSE)</li>
                    </ul>
                    <div class="feedback" id="ch0-feedback8"></div>
                </div>

                <!-- Question 9 -->
                <div class="quiz-question">
                    <h4>Question 9: Holt's Linear Method</h4>
                    <p>What components does Holt's linear method model?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch0', 9, 'A')"><input type="radio" name="ch0q9"> A) Level only</li>
                        <li onclick="checkAnswer('ch0', 9, 'B')"><input type="radio" name="ch0q9"> B) Level and trend</li>
                        <li onclick="checkAnswer('ch0', 9, 'C')"><input type="radio" name="ch0q9"> C) Level, trend, and seasonality</li>
                        <li onclick="checkAnswer('ch0', 9, 'D')"><input type="radio" name="ch0q9"> D) Seasonality only</li>
                    </ul>
                    <div class="feedback" id="ch0-feedback9"></div>
                </div>

                <!-- Question 10 -->
                <div class="quiz-question">
                    <h4>Question 10: Seasonal Period</h4>
                    <p>For monthly data with yearly seasonality, what is the seasonal period (m)?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch0', 10, 'A')"><input type="radio" name="ch0q10"> A) m = 4</li>
                        <li onclick="checkAnswer('ch0', 10, 'B')"><input type="radio" name="ch0q10"> B) m = 12</li>
                        <li onclick="checkAnswer('ch0', 10, 'C')"><input type="radio" name="ch0q10"> C) m = 52</li>
                        <li onclick="checkAnswer('ch0', 10, 'D')"><input type="radio" name="ch0q10"> D) m = 365</li>
                    </ul>
                    <div class="feedback" id="ch0-feedback10"></div>
                </div>

                <!-- Question 11 -->
                <div class="quiz-question">
                    <h4>Question 11: Train-Test Split</h4>
                    <p>In time series forecasting, how should you split data into training and test sets?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch0', 11, 'A')"><input type="radio" name="ch0q11"> A) Randomly shuffle and split</li>
                        <li onclick="checkAnswer('ch0', 11, 'B')"><input type="radio" name="ch0q11"> B) Use earlier observations for training, later observations for testing</li>
                        <li onclick="checkAnswer('ch0', 11, 'C')"><input type="radio" name="ch0q11"> C) Alternate between training and test observations</li>
                        <li onclick="checkAnswer('ch0', 11, 'D')"><input type="radio" name="ch0q11"> D) Use the middle portion for testing</li>
                    </ul>
                    <div class="feedback" id="ch0-feedback11"></div>
                </div>

                <!-- Question 12 -->
                <div class="quiz-question">
                    <h4>Question 12: RMSE vs MAE</h4>
                    <p>When is RMSE preferred over MAE?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch0', 12, 'A')"><input type="radio" name="ch0q12"> A) When all errors should be weighted equally</li>
                        <li onclick="checkAnswer('ch0', 12, 'B')"><input type="radio" name="ch0q12"> B) When large errors are particularly undesirable and should be penalized more</li>
                        <li onclick="checkAnswer('ch0', 12, 'C')"><input type="radio" name="ch0q12"> C) When the data has many outliers</li>
                        <li onclick="checkAnswer('ch0', 12, 'D')"><input type="radio" name="ch0q12"> D) When you want a percentage-based metric</li>
                    </ul>
                    <div class="feedback" id="ch0-feedback12"></div>
                </div>

                <!-- Question 13 -->
                <div class="quiz-question">
                    <h4>Question 13: Seasonality Detection</h4>
                    <p>How can you visually detect seasonality in a time series?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch0', 13, 'A')"><input type="radio" name="ch0q13"> A) Look for a straight line pattern</li>
                        <li onclick="checkAnswer('ch0', 13, 'B')"><input type="radio" name="ch0q13"> B) Look for repeating patterns at regular intervals or use seasonal subseries plots</li>
                        <li onclick="checkAnswer('ch0', 13, 'C')"><input type="radio" name="ch0q13"> C) Check if the mean is zero</li>
                        <li onclick="checkAnswer('ch0', 13, 'D')"><input type="radio" name="ch0q13"> D) Calculate the standard deviation</li>
                    </ul>
                    <div class="feedback" id="ch0-feedback13"></div>
                </div>

                <!-- Question 14 -->
                <div class="quiz-question">
                    <h4>Question 14: Damped Trend</h4>
                    <p>What is the purpose of the damping parameter in Holt's method?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch0', 14, 'A')"><input type="radio" name="ch0q14"> A) To make the trend grow faster</li>
                        <li onclick="checkAnswer('ch0', 14, 'B')"><input type="radio" name="ch0q14"> B) To flatten the trend in the long run, preventing unrealistic extrapolation</li>
                        <li onclick="checkAnswer('ch0', 14, 'C')"><input type="radio" name="ch0q14"> C) To remove seasonality</li>
                        <li onclick="checkAnswer('ch0', 14, 'D')"><input type="radio" name="ch0q14"> D) To increase computational speed</li>
                    </ul>
                    <div class="feedback" id="ch0-feedback14"></div>
                </div>

                <!-- Question 15 -->
                <div class="quiz-question">
                    <h4>Question 15: Log Transformation</h4>
                    <p>When is a logarithmic transformation appropriate for time series data?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch0', 15, 'A')"><input type="radio" name="ch0q15"> A) When the series has negative values</li>
                        <li onclick="checkAnswer('ch0', 15, 'B')"><input type="radio" name="ch0q15"> B) When variance increases with the level (heteroscedasticity) or for multiplicative patterns</li>
                        <li onclick="checkAnswer('ch0', 15, 'C')"><input type="radio" name="ch0q15"> C) When the data is already stationary</li>
                        <li onclick="checkAnswer('ch0', 15, 'D')"><input type="radio" name="ch0q15"> D) When you want to increase the variance</li>
                    </ul>
                    <div class="feedback" id="ch0-feedback15"></div>
                </div>

                <!-- Question 16 -->
                <div class="quiz-question">
                    <h4>Question 16: Forecast Horizon</h4>
                    <p>What typically happens to forecast accuracy as the forecast horizon increases?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch0', 16, 'A')"><input type="radio" name="ch0q16"> A) Accuracy improves with more data to average</li>
                        <li onclick="checkAnswer('ch0', 16, 'B')"><input type="radio" name="ch0q16"> B) Accuracy decreases due to increased uncertainty</li>
                        <li onclick="checkAnswer('ch0', 16, 'C')"><input type="radio" name="ch0q16"> C) Accuracy remains constant</li>
                        <li onclick="checkAnswer('ch0', 16, 'D')"><input type="radio" name="ch0q16"> D) It depends only on the model, not the horizon</li>
                    </ul>
                    <div class="feedback" id="ch0-feedback16"></div>
                </div>

                <!-- Question 17 -->
                <div class="quiz-question">
                    <h4>Question 17: Naive Forecast</h4>
                    <p>What is a naive forecast and why is it useful?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch0', 17, 'A')"><input type="radio" name="ch0q17"> A) The most complex model available; useful for maximum accuracy</li>
                        <li onclick="checkAnswer('ch0', 17, 'B')"><input type="radio" name="ch0q17"> B) Using the last observation as forecast; useful as a benchmark to beat</li>
                        <li onclick="checkAnswer('ch0', 17, 'C')"><input type="radio" name="ch0q17"> C) Using the mean of all observations; useful for trending data</li>
                        <li onclick="checkAnswer('ch0', 17, 'D')"><input type="radio" name="ch0q17"> D) A random forecast; useful for testing</li>
                    </ul>
                    <div class="feedback" id="ch0-feedback17"></div>
                </div>

                <!-- Question 18 -->
                <div class="quiz-question">
                    <h4>Question 18: Seasonal Naive</h4>
                    <p>For monthly data, what does the seasonal naive method forecast for next January?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch0', 18, 'A')"><input type="radio" name="ch0q18"> A) The value from last December</li>
                        <li onclick="checkAnswer('ch0', 18, 'B')"><input type="radio" name="ch0q18"> B) The value from last January (same month, previous year)</li>
                        <li onclick="checkAnswer('ch0', 18, 'C')"><input type="radio" name="ch0q18"> C) The average of all months</li>
                        <li onclick="checkAnswer('ch0', 18, 'D')"><input type="radio" name="ch0q18"> D) Zero</li>
                    </ul>
                    <div class="feedback" id="ch0-feedback18"></div>
                </div>

                <!-- Question 19 -->
                <div class="quiz-question">
                    <h4>Question 19: Residual Analysis</h4>
                    <p>What should residuals from a good forecasting model look like?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch0', 19, 'A')"><input type="radio" name="ch0q19"> A) Show a clear trend pattern</li>
                        <li onclick="checkAnswer('ch0', 19, 'B')"><input type="radio" name="ch0q19"> B) Be uncorrelated with zero mean (white noise-like)</li>
                        <li onclick="checkAnswer('ch0', 19, 'C')"><input type="radio" name="ch0q19"> C) Have increasing variance over time</li>
                        <li onclick="checkAnswer('ch0', 19, 'D')"><input type="radio" name="ch0q19"> D) Be perfectly equal to zero</li>
                    </ul>
                    <div class="feedback" id="ch0-feedback19"></div>
                </div>

                <!-- Question 20 -->
                <div class="quiz-question">
                    <h4>Question 20: ETS Framework</h4>
                    <p>In the ETS(A,A,A) model notation, what do the three letters represent?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch0', 20, 'A')"><input type="radio" name="ch0q20"> A) Additive error, Additive trend, Additive seasonality</li>
                        <li onclick="checkAnswer('ch0', 20, 'B')"><input type="radio" name="ch0q20"> B) Average, Average, Average</li>
                        <li onclick="checkAnswer('ch0', 20, 'C')"><input type="radio" name="ch0q20"> C) Alpha, Alpha, Alpha parameters</li>
                        <li onclick="checkAnswer('ch0', 20, 'D')"><input type="radio" name="ch0q20"> D) Autocorrelation at lags 1, 2, 3</li>
                    </ul>
                    <div class="feedback" id="ch0-feedback20"></div>
                </div>

                <div style="margin-top: 2rem; text-align: center;">
                    <p id="score-display-ch0" style="font-size: 1.2rem; margin-bottom: 1rem; font-weight: bold;"></p>
                    <button onclick="calculateScore('ch0')" class="btn btn-secondary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none; margin-right: 1rem;">Check Score</button>
                    <button onclick="resetQuiz('ch0')" class="btn btn-primary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none;">Reset Quiz</button>
                </div>
            </div>

            <!-- Chapter 1 Quizzes -->
            <div class="quiz-container" id="chapter1-quizzes" style="display: none;">
                <h3 style="margin-bottom: 1.5rem;">Chapter 1: Introduction to Time Series</h3>

                <!-- Question 1 -->
                <div class="quiz-question" id="q1">
                    <h4>Question 1: Time Series Basics</h4>
                    <p>Which of the following is NOT a characteristic of time series data?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 1, 'A')"><input type="radio" name="q1"> A) Observations are ordered in time</li>
                        <li onclick="checkAnswer('ch1', 1, 'B')"><input type="radio" name="q1"> B) Consecutive observations are typically correlated</li>
                        <li onclick="checkAnswer('ch1', 1, 'C')"><input type="radio" name="q1"> C) Observations are independent and identically distributed</li>
                        <li onclick="checkAnswer('ch1', 1, 'D')"><input type="radio" name="q1"> D) The data has a natural temporal ordering</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer1-correct">
                        <strong>Correct!</strong> Time series observations are typically DEPENDENT (autocorrelated), not i.i.d.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer1-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Time series observations are typically dependent, not independent.
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="quiz-question" id="q2">
                    <h4>Question 2: Data Types</h4>
                    <p>Which type of data has multiple units observed over multiple time periods?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 2, 'A')"><input type="radio" name="q2"> A) Cross-sectional data</li>
                        <li onclick="checkAnswer('ch1', 2, 'B')"><input type="radio" name="q2"> B) Time series data</li>
                        <li onclick="checkAnswer('ch1', 2, 'C')"><input type="radio" name="q2"> C) Panel data</li>
                        <li onclick="checkAnswer('ch1', 2, 'D')"><input type="radio" name="q2"> D) Pooled data</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer2-correct">
                        <strong>Correct!</strong> Panel data (longitudinal data) has both cross-sectional and time dimensions.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer2-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Panel data combines multiple units across multiple time periods.
                    </div>
                </div>

                <!-- Question 3 -->
                <div class="quiz-question" id="q3">
                    <h4>Question 3: Decomposition</h4>
                    <p>When should you use multiplicative decomposition instead of additive?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 3, 'A')"><input type="radio" name="q3"> A) When the seasonal pattern has constant amplitude</li>
                        <li onclick="checkAnswer('ch1', 3, 'B')"><input type="radio" name="q3"> B) When the variance is stable over time</li>
                        <li onclick="checkAnswer('ch1', 3, 'C')"><input type="radio" name="q3"> C) When seasonal fluctuations grow with the level</li>
                        <li onclick="checkAnswer('ch1', 3, 'D')"><input type="radio" name="q3"> D) When there is no trend component</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer3-correct">
                        <strong>Correct!</strong> In multiplicative decomposition $X_t = T_t \times S_t \times \varepsilon_t$, the seasonal effect scales with the level.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer3-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Use multiplicative when seasonal peaks grow with the series level.
                    </div>
                </div>

                <!-- Question 4 -->
                <div class="quiz-question" id="q4">
                    <h4>Question 4: Seasonal Component</h4>
                    <p>In multiplicative decomposition, if $S_t = 1.15$ for July, this means:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 4, 'A')"><input type="radio" name="q4"> A) July values are 1.15 units above average</li>
                        <li onclick="checkAnswer('ch1', 4, 'B')"><input type="radio" name="q4"> B) July values are 15% above average</li>
                        <li onclick="checkAnswer('ch1', 4, 'C')"><input type="radio" name="q4"> C) July values are 115% of the trend</li>
                        <li onclick="checkAnswer('ch1', 4, 'D')"><input type="radio" name="q4"> D) Both B and C are correct</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer4-correct">
                        <strong>Correct!</strong> In multiplicative models, $S_t = 1.15$ means 15% above average, or equivalently, 115% of the trend value.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer4-incorrect">
                        <strong>Incorrect.</strong> The correct answer is D. $S_t = 1.15$ means both 15% above average AND 115% of trend.
                    </div>
                </div>

                <!-- Question 5 -->
                <div class="quiz-question" id="q5">
                    <h4>Question 5: Moving Average</h4>
                    <p>What is the main purpose of using a centered moving average in decomposition?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 5, 'A')"><input type="radio" name="q5"> A) To forecast future values</li>
                        <li onclick="checkAnswer('ch1', 5, 'B')"><input type="radio" name="q5"> B) To estimate the trend component</li>
                        <li onclick="checkAnswer('ch1', 5, 'C')"><input type="radio" name="q5"> C) To remove outliers</li>
                        <li onclick="checkAnswer('ch1', 5, 'D')"><input type="radio" name="q5"> D) To test for stationarity</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer5-correct">
                        <strong>Correct!</strong> Moving averages smooth out seasonal and random fluctuations to reveal the underlying trend.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer5-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Moving averages are used to estimate trend by smoothing.
                    </div>
                </div>

                <!-- Question 6 -->
                <div class="quiz-question" id="q6">
                    <h4>Question 6: Simple Exponential Smoothing</h4>
                    <p>In SES with $\alpha = 0.1$, what happens?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 6, 'A')"><input type="radio" name="q6"> A) Forecasts react quickly to recent changes</li>
                        <li onclick="checkAnswer('ch1', 6, 'B')"><input type="radio" name="q6"> B) Forecasts are smooth and stable</li>
                        <li onclick="checkAnswer('ch1', 6, 'C')"><input type="radio" name="q6"> C) Only the most recent observation matters</li>
                        <li onclick="checkAnswer('ch1', 6, 'D')"><input type="radio" name="q6"> D) The model captures seasonality</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer6-correct">
                        <strong>Correct!</strong> Low $\alpha$ means more weight on historical data, producing smoother, more stable forecasts.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer6-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Low $\alpha$ = smooth forecasts, high $\alpha$ = reactive forecasts.
                    </div>
                </div>

                <!-- Question 7 -->
                <div class="quiz-question" id="q7">
                    <h4>Question 7: Holt's Method</h4>
                    <p>Holt's linear trend method extends SES by adding:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 7, 'A')"><input type="radio" name="q7"> A) A seasonal component</li>
                        <li onclick="checkAnswer('ch1', 7, 'B')"><input type="radio" name="q7"> B) A trend component</li>
                        <li onclick="checkAnswer('ch1', 7, 'C')"><input type="radio" name="q7"> C) A cyclical component</li>
                        <li onclick="checkAnswer('ch1', 7, 'D')"><input type="radio" name="q7"> D) An error correction term</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer7-correct">
                        <strong>Correct!</strong> Holt's method adds a trend equation: $b_t = \beta^*(\ell_t - \ell_{t-1}) + (1-\beta^*)b_{t-1}$
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer7-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Holt adds trend; Holt-Winters adds both trend and seasonality.
                    </div>
                </div>

                <!-- Question 8 -->
                <div class="quiz-question" id="q8">
                    <h4>Question 8: Holt-Winters</h4>
                    <p>For monthly data with trend and seasonality, which method is most appropriate?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 8, 'A')"><input type="radio" name="q8"> A) Simple Exponential Smoothing</li>
                        <li onclick="checkAnswer('ch1', 8, 'B')"><input type="radio" name="q8"> B) Holt's Linear Method</li>
                        <li onclick="checkAnswer('ch1', 8, 'C')"><input type="radio" name="q8"> C) Holt-Winters Method</li>
                        <li onclick="checkAnswer('ch1', 8, 'D')"><input type="radio" name="q8"> D) Moving Average</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer8-correct">
                        <strong>Correct!</strong> Holt-Winters captures level, trend, AND seasonality with three smoothing equations.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer8-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Only Holt-Winters handles both trend and seasonality.
                    </div>
                </div>

                <!-- Question 9 -->
                <div class="quiz-question" id="q9">
                    <h4>Question 9: Forecast Metrics</h4>
                    <p>Which metric is scale-independent and useful for comparing forecasts across different series?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 9, 'A')"><input type="radio" name="q9"> A) Mean Absolute Error (MAE)</li>
                        <li onclick="checkAnswer('ch1', 9, 'B')"><input type="radio" name="q9"> B) Root Mean Squared Error (RMSE)</li>
                        <li onclick="checkAnswer('ch1', 9, 'C')"><input type="radio" name="q9"> C) Mean Absolute Percentage Error (MAPE)</li>
                        <li onclick="checkAnswer('ch1', 9, 'D')"><input type="radio" name="q9"> D) Mean Squared Error (MSE)</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer9-correct">
                        <strong>Correct!</strong> MAPE $= \frac{100}{n}\sum\left|\frac{e_t}{X_t}\right|$ expresses errors as percentages, making it scale-independent.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer9-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. MAPE is in percentage units, while MAE/RMSE/MSE depend on the scale.
                    </div>
                </div>

                <!-- Question 10 -->
                <div class="quiz-question" id="q10">
                    <h4>Question 10: Train/Test Split</h4>
                    <p>What is the purpose of the validation set in time series modeling?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 10, 'A')"><input type="radio" name="q10"> A) To estimate model parameters</li>
                        <li onclick="checkAnswer('ch1', 10, 'B')"><input type="radio" name="q10"> B) To tune hyperparameters and compare models</li>
                        <li onclick="checkAnswer('ch1', 10, 'C')"><input type="radio" name="q10"> C) To report final model performance</li>
                        <li onclick="checkAnswer('ch1', 10, 'D')"><input type="radio" name="q10"> D) To detect outliers</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer10-correct">
                        <strong>Correct!</strong> Validation set is for model selection and hyperparameter tuning. Test set is for final evaluation only!
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer10-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Training = fit parameters, Validation = tune/compare, Test = final evaluation.
                    </div>
                </div>

                <!-- Question 11 -->
                <div class="quiz-question" id="q11">
                    <h4>Question 11: Residual Diagnostics</h4>
                    <p>Good forecast residuals should have which property?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 11, 'A')"><input type="radio" name="q11"> A) Strong autocorrelation</li>
                        <li onclick="checkAnswer('ch1', 11, 'B')"><input type="radio" name="q11"> B) Increasing variance over time</li>
                        <li onclick="checkAnswer('ch1', 11, 'C')"><input type="radio" name="q11"> C) Zero mean and no autocorrelation</li>
                        <li onclick="checkAnswer('ch1', 11, 'D')"><input type="radio" name="q11"> D) A clear trend pattern</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer11-correct">
                        <strong>Correct!</strong> Good residuals should be white noise: $\mathbb{E}[e_t] = 0$ and $\text{Cov}(e_t, e_{t-k}) = 0$ for $k \neq 0$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer11-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Residuals should resemble white noise (no patterns left to model).
                    </div>
                </div>

                <!-- Question 12 -->
                <div class="quiz-question" id="q12">
                    <h4>Question 12: Weak Stationarity</h4>
                    <p>Which condition is NOT required for weak stationarity?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 12, 'A')"><input type="radio" name="q12"> A) Constant mean: $\mathbb{E}[X_t] = \mu$</li>
                        <li onclick="checkAnswer('ch1', 12, 'B')"><input type="radio" name="q12"> B) Constant variance: $\text{Var}(X_t) = \sigma^2$</li>
                        <li onclick="checkAnswer('ch1', 12, 'C')"><input type="radio" name="q12"> C) Normal distribution</li>
                        <li onclick="checkAnswer('ch1', 12, 'D')"><input type="radio" name="q12"> D) Covariance depends only on lag</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer12-correct">
                        <strong>Correct!</strong> Weak stationarity only requires constant mean, constant variance, and lag-dependent covariance. No distributional assumption!
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer12-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Normality is NOT required for weak stationarity.
                    </div>
                </div>

                <!-- Question 13 -->
                <div class="quiz-question" id="q13">
                    <h4>Question 13: Random Walk</h4>
                    <p>For a random walk $X_t = X_{t-1} + \varepsilon_t$ with $X_0 = 100$ and $\sigma^2 = 4$, what is $\text{Var}(X_{25})$?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 13, 'A')"><input type="radio" name="q13"> A) 4</li>
                        <li onclick="checkAnswer('ch1', 13, 'B')"><input type="radio" name="q13"> B) 25</li>
                        <li onclick="checkAnswer('ch1', 13, 'C')"><input type="radio" name="q13"> C) 100</li>
                        <li onclick="checkAnswer('ch1', 13, 'D')"><input type="radio" name="q13"> D) 625</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer13-correct">
                        <strong>Correct!</strong> $\text{Var}(X_t) = t \cdot \sigma^2 = 25 \times 4 = 100$
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer13-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. For random walk: $\text{Var}(X_t) = t \cdot \sigma^2 = 25 \times 4 = 100$.
                    </div>
                </div>

                <!-- Question 14 -->
                <div class="quiz-question" id="q14">
                    <h4>Question 14: White Noise</h4>
                    <p>Which statement about white noise is FALSE?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 14, 'A')"><input type="radio" name="q14"> A) White noise has zero mean</li>
                        <li onclick="checkAnswer('ch1', 14, 'B')"><input type="radio" name="q14"> B) White noise has constant variance</li>
                        <li onclick="checkAnswer('ch1', 14, 'C')"><input type="radio" name="q14"> C) White noise must be normally distributed</li>
                        <li onclick="checkAnswer('ch1', 14, 'D')"><input type="radio" name="q14"> D) White noise has no autocorrelation</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer14-correct">
                        <strong>Correct!</strong> White noise only requires zero mean, constant variance, and no autocorrelation. Gaussian white noise is a special case.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer14-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. White noise does NOT require normality.
                    </div>
                </div>

                <!-- Question 15 -->
                <div class="quiz-question" id="q15">
                    <h4>Question 15: ACF Patterns</h4>
                    <p>For an AR(1) process with $\phi = 0.8$, the ACF:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 15, 'A')"><input type="radio" name="q15"> A) Cuts off after lag 1</li>
                        <li onclick="checkAnswer('ch1', 15, 'B')"><input type="radio" name="q15"> B) Decays exponentially</li>
                        <li onclick="checkAnswer('ch1', 15, 'C')"><input type="radio" name="q15"> C) Oscillates around zero</li>
                        <li onclick="checkAnswer('ch1', 15, 'D')"><input type="radio" name="q15"> D) Is zero for all lags</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer15-correct">
                        <strong>Correct!</strong> For AR(1): $\rho(h) = \phi^h = 0.8^h$, which decays exponentially toward zero.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer15-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. AR processes have exponentially decaying ACF; MA processes cut off.
                    </div>
                </div>

                <!-- Question 16 -->
                <div class="quiz-question" id="q16">
                    <h4>Question 16: PACF Interpretation</h4>
                    <p>The PACF of an MA(1) process:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 16, 'A')"><input type="radio" name="q16"> A) Cuts off after lag 1</li>
                        <li onclick="checkAnswer('ch1', 16, 'B')"><input type="radio" name="q16"> B) Decays exponentially</li>
                        <li onclick="checkAnswer('ch1', 16, 'C')"><input type="radio" name="q16"> C) Is zero for all lags</li>
                        <li onclick="checkAnswer('ch1', 16, 'D')"><input type="radio" name="q16"> D) Shows a seasonal pattern</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer16-correct">
                        <strong>Correct!</strong> For MA processes, PACF decays; ACF cuts off. For AR processes, it's the opposite.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer16-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. MA: ACF cuts off, PACF decays. AR: ACF decays, PACF cuts off.
                    </div>
                </div>

                <!-- Question 17 -->
                <div class="quiz-question" id="q17">
                    <h4>Question 17: Differencing</h4>
                    <p>If $X_t$ is a random walk, then $\Delta X_t = X_t - X_{t-1}$ is:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 17, 'A')"><input type="radio" name="q17"> A) Still a random walk</li>
                        <li onclick="checkAnswer('ch1', 17, 'B')"><input type="radio" name="q17"> B) White noise (stationary)</li>
                        <li onclick="checkAnswer('ch1', 17, 'C')"><input type="radio" name="q17"> C) An AR(1) process</li>
                        <li onclick="checkAnswer('ch1', 17, 'D')"><input type="radio" name="q17"> D) A trending series</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer17-correct">
                        <strong>Correct!</strong> If $X_t = X_{t-1} + \varepsilon_t$, then $\Delta X_t = \varepsilon_t$, which is white noise!
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer17-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Differencing a random walk gives white noise.
                    </div>
                </div>

                <!-- Question 18 -->
                <div class="quiz-question" id="q18">
                    <h4>Question 18: ADF Test</h4>
                    <p>In the ADF test, the null hypothesis is:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 18, 'A')"><input type="radio" name="q18"> A) The series is stationary</li>
                        <li onclick="checkAnswer('ch1', 18, 'B')"><input type="radio" name="q18"> B) The series has a unit root</li>
                        <li onclick="checkAnswer('ch1', 18, 'C')"><input type="radio" name="q18"> C) The series is white noise</li>
                        <li onclick="checkAnswer('ch1', 18, 'D')"><input type="radio" name="q18"> D) The series has no trend</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer18-correct">
                        <strong>Correct!</strong> ADF: $H_0$: unit root (non-stationary). Reject $H_0$ $\Rightarrow$ stationary.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer18-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. ADF tests for unit root; KPSS tests for stationarity.
                    </div>
                </div>

                <!-- Question 19 -->
                <div class="quiz-question" id="q19">
                    <h4>Question 19: KPSS Test</h4>
                    <p>If KPSS rejects $H_0$, we conclude:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 19, 'A')"><input type="radio" name="q19"> A) The series is stationary</li>
                        <li onclick="checkAnswer('ch1', 19, 'B')"><input type="radio" name="q19"> B) The series is non-stationary</li>
                        <li onclick="checkAnswer('ch1', 19, 'C')"><input type="radio" name="q19"> C) The series is white noise</li>
                        <li onclick="checkAnswer('ch1', 19, 'D')"><input type="radio" name="q19"> D) We need more data</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer19-correct">
                        <strong>Correct!</strong> KPSS: $H_0$: stationary. Reject $H_0$ $\Rightarrow$ evidence of non-stationarity.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer19-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. KPSS has opposite hypotheses to ADF.
                    </div>
                </div>

                <!-- Question 20 -->
                <div class="quiz-question" id="q20">
                    <h4>Question 20: Deterministic vs Stochastic Trend</h4>
                    <p>How should you remove a stochastic trend (unit root)?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 20, 'A')"><input type="radio" name="q20"> A) Fit a linear regression on time</li>
                        <li onclick="checkAnswer('ch1', 20, 'B')"><input type="radio" name="q20"> B) Apply differencing</li>
                        <li onclick="checkAnswer('ch1', 20, 'C')"><input type="radio" name="q20"> C) Use a moving average</li>
                        <li onclick="checkAnswer('ch1', 20, 'D')"><input type="radio" name="q20"> D) Apply seasonal adjustment</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer20-correct">
                        <strong>Correct!</strong> Stochastic trend $\Rightarrow$ differencing. Deterministic trend $\Rightarrow$ regression.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer20-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Use differencing for stochastic trends, regression for deterministic trends.
                    </div>
                </div>

                <div style="margin-top: 2rem; text-align: center;">
                    <p id="score-display-ch1" style="font-size: 1.2rem; margin-bottom: 1rem; font-weight: bold;"></p>
                    <button onclick="calculateScore(1)" class="btn btn-secondary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none; margin-right: 1rem;">Check Score</button>
                    <button onclick="resetQuiz(1)" class="btn btn-primary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none;">Reset Quiz</button>
                </div>
            </div>

            <!-- Chapter 2 Quizzes -->
            <div class="quiz-container" id="chapter2-quizzes" style="display: none;">
                <h3 style="margin-bottom: 1.5rem;">Chapter 2: ARMA Models</h3>

                <!-- Ch2 Question 1 -->
                <div class="quiz-question" id="ch2q1">
                    <h4>Question 1: AR Stationarity</h4>
                    <p>For which value of $\phi$ is the AR(1) process $X_t = c + \phi X_{t-1} + \varepsilon_t$ stationary?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 1, 'A')"><input type="radio" name="ch2q1"> A) $\phi = 1.2$</li>
                        <li onclick="checkAnswer('ch2', 1, 'B')"><input type="radio" name="ch2q1"> B) $\phi = 1.0$</li>
                        <li onclick="checkAnswer('ch2', 1, 'C')"><input type="radio" name="ch2q1"> C) $\phi = -0.8$</li>
                        <li onclick="checkAnswer('ch2', 1, 'D')"><input type="radio" name="ch2q1"> D) $\phi = -1.5$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer1-correct">
                        <strong>Correct!</strong> AR(1) is stationary iff $|\phi| < 1$. Only $|-0.8| = 0.8 < 1$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer1-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. AR(1) requires $|\phi| < 1$ for stationarity.
                    </div>
                </div>

                <!-- Ch2 Question 2 -->
                <div class="quiz-question" id="ch2q2">
                    <h4>Question 2: ACF/PACF Pattern Recognition</h4>
                    <p>You observe: ACF has a spike at lag 1, then cuts off. PACF decays gradually. What model is suggested?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 2, 'A')"><input type="radio" name="ch2q2"> A) AR(1)</li>
                        <li onclick="checkAnswer('ch2', 2, 'B')"><input type="radio" name="ch2q2"> B) MA(1)</li>
                        <li onclick="checkAnswer('ch2', 2, 'C')"><input type="radio" name="ch2q2"> C) ARMA(1,1)</li>
                        <li onclick="checkAnswer('ch2', 2, 'D')"><input type="radio" name="ch2q2"> D) White noise</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer2-correct">
                        <strong>Correct!</strong> ACF cuts off â MA process; PACF decays â confirms MA(1).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer2-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. MA: ACF cuts off, PACF decays. AR: ACF decays, PACF cuts off.
                    </div>
                </div>

                <!-- Ch2 Question 3 -->
                <div class="quiz-question" id="ch2q3">
                    <h4>Question 3: MA Invertibility</h4>
                    <p>Is the MA(1) process $X_t = \varepsilon_t + 1.5\varepsilon_{t-1}$ invertible?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 3, 'A')"><input type="radio" name="ch2q3"> A) Yes, MA processes are always invertible</li>
                        <li onclick="checkAnswer('ch2', 3, 'B')"><input type="radio" name="ch2q3"> B) Yes, because $\theta = 1.5 > 0$</li>
                        <li onclick="checkAnswer('ch2', 3, 'C')"><input type="radio" name="ch2q3"> C) No, because $|\theta| = 1.5 > 1$</li>
                        <li onclick="checkAnswer('ch2', 3, 'D')"><input type="radio" name="ch2q3"> D) No, MA processes are never invertible</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer3-correct">
                        <strong>Correct!</strong> Invertibility requires $|\theta| < 1$. Here $|\theta| = 1.5 > 1$, so NOT invertible.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer3-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Invertibility condition for MA(1): $|\theta| < 1$.
                    </div>
                </div>

                <!-- Ch2 Question 4 -->
                <div class="quiz-question" id="ch2q4">
                    <h4>Question 4: ARMA Representation</h4>
                    <p>The compact form $\phi(L)X_t = \theta(L)\varepsilon_t$ represents which model?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 4, 'A')"><input type="radio" name="ch2q4"> A) Pure AR model</li>
                        <li onclick="checkAnswer('ch2', 4, 'B')"><input type="radio" name="ch2q4"> B) Pure MA model</li>
                        <li onclick="checkAnswer('ch2', 4, 'C')"><input type="radio" name="ch2q4"> C) ARMA model</li>
                        <li onclick="checkAnswer('ch2', 4, 'D')"><input type="radio" name="ch2q4"> D) None of the above</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer4-correct">
                        <strong>Correct!</strong> $\phi(L)$ is the AR polynomial, $\theta(L)$ is the MA polynomial â ARMA(p,q).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer4-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. This notation combines AR and MA into ARMA.
                    </div>
                </div>

                <!-- Ch2 Question 5 -->
                <div class="quiz-question" id="ch2q5">
                    <h4>Question 5: Lag Operator</h4>
                    <p>What is $(1-L)^2 X_t$?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 5, 'A')"><input type="radio" name="ch2q5"> A) $X_t - X_{t-1}$</li>
                        <li onclick="checkAnswer('ch2', 5, 'B')"><input type="radio" name="ch2q5"> B) $X_t - 2X_{t-1} + X_{t-2}$</li>
                        <li onclick="checkAnswer('ch2', 5, 'C')"><input type="radio" name="ch2q5"> C) $X_t + X_{t-1} + X_{t-2}$</li>
                        <li onclick="checkAnswer('ch2', 5, 'D')"><input type="radio" name="ch2q5"> D) $X_t - X_{t-2}$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer5-correct">
                        <strong>Correct!</strong> $(1-L)^2 = 1 - 2L + L^2$, so $(1-L)^2 X_t = X_t - 2X_{t-1} + X_{t-2}$ (second difference).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer5-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Expand $(1-L)^2 = 1 - 2L + L^2$.
                    </div>
                </div>

                <!-- Ch2 Question 6 -->
                <div class="quiz-question" id="ch2q6">
                    <h4>Question 6: Information Criteria</h4>
                    <p>Comparing ARMA(1,1) vs ARMA(2,1) using BIC, which statement is correct?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 6, 'A')"><input type="radio" name="ch2q6"> A) Lower BIC always means better forecasts</li>
                        <li onclick="checkAnswer('ch2', 6, 'B')"><input type="radio" name="ch2q6"> B) BIC penalizes complexity less than AIC</li>
                        <li onclick="checkAnswer('ch2', 6, 'C')"><input type="radio" name="ch2q6"> C) The model with lower BIC is preferred</li>
                        <li onclick="checkAnswer('ch2', 6, 'D')"><input type="radio" name="ch2q6"> D) BIC can only compare models with same number of parameters</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer6-correct">
                        <strong>Correct!</strong> Lower BIC indicates better fit-complexity trade-off. BIC penalizes complexity MORE than AIC.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer6-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. BIC balances fit and complexity; lower is better.
                    </div>
                </div>

                <!-- Ch2 Question 7 -->
                <div class="quiz-question" id="ch2q7">
                    <h4>Question 7: Ljung-Box Test</h4>
                    <p>After fitting an ARMA model, you run the Ljung-Box test on residuals and get p-value = 0.03. What does this mean?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 7, 'A')"><input type="radio" name="ch2q7"> A) Model is adequate, residuals are white noise</li>
                        <li onclick="checkAnswer('ch2', 7, 'B')"><input type="radio" name="ch2q7"> B) Model is inadequate, residuals have autocorrelation</li>
                        <li onclick="checkAnswer('ch2', 7, 'C')"><input type="radio" name="ch2q7"> C) Need to increase sample size</li>
                        <li onclick="checkAnswer('ch2', 7, 'D')"><input type="radio" name="ch2q7"> D) Test is inconclusive</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer7-correct">
                        <strong>Correct!</strong> p-value < 0.05 rejects $H_0$ (white noise), indicating remaining autocorrelation â model inadequate.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer7-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Rejecting $H_0$ means residuals are NOT white noise.
                    </div>
                </div>

                <!-- Ch2 Question 8 -->
                <div class="quiz-question" id="ch2q8">
                    <h4>Question 8: Forecast Properties</h4>
                    <p>For a stationary AR(1) model, what happens to forecasts as horizon $h \to \infty$?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 8, 'A')"><input type="radio" name="ch2q8"> A) Forecasts grow without bound</li>
                        <li onclick="checkAnswer('ch2', 8, 'B')"><input type="radio" name="ch2q8"> B) Forecasts oscillate forever</li>
                        <li onclick="checkAnswer('ch2', 8, 'C')"><input type="radio" name="ch2q8"> C) Forecasts converge to the unconditional mean $\mu$</li>
                        <li onclick="checkAnswer('ch2', 8, 'D')"><input type="radio" name="ch2q8"> D) Forecasts become more accurate</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer8-correct">
                        <strong>Correct!</strong> $\hat{X}_{n+h|n} = \mu + \phi^h(X_n - \mu) \to \mu$ as $h \to \infty$ (since $|\phi|<1$). This is mean reversion.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer8-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Stationary AR forecasts revert to the unconditional mean.
                    </div>
                </div>

                <!-- Ch2 Question 9 -->
                <div class="quiz-question" id="ch2q9">
                    <h4>Question 9: AR(1) Variance</h4>
                    <p>For the AR(1) process $X_t = \phi X_{t-1} + \varepsilon_t$ with $\text{Var}(\varepsilon_t) = \sigma^2$, what is $\text{Var}(X_t)$?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 9, 'A')"><input type="radio" name="ch2q9"> A) $\sigma^2$</li>
                        <li onclick="checkAnswer('ch2', 9, 'B')"><input type="radio" name="ch2q9"> B) $\sigma^2 / (1 - \phi)$</li>
                        <li onclick="checkAnswer('ch2', 9, 'C')"><input type="radio" name="ch2q9"> C) $\sigma^2 / (1 - \phi^2)$</li>
                        <li onclick="checkAnswer('ch2', 9, 'D')"><input type="radio" name="ch2q9"> D) $\sigma^2 (1 + \phi^2)$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer9-correct">
                        <strong>Correct!</strong> For stationary AR(1): $\gamma(0) = \text{Var}(X_t) = \sigma^2 / (1 - \phi^2)$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer9-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Use $\gamma(0) = \phi^2 \gamma(0) + \sigma^2$ and solve.
                    </div>
                </div>

                <!-- Ch2 Question 10 -->
                <div class="quiz-question" id="ch2q10">
                    <h4>Question 10: MA(1) Autocorrelation</h4>
                    <p>For an MA(1) process $X_t = \varepsilon_t + \theta \varepsilon_{t-1}$, what is $\rho(2)$?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 10, 'A')"><input type="radio" name="ch2q10"> A) $\theta / (1 + \theta^2)$</li>
                        <li onclick="checkAnswer('ch2', 10, 'B')"><input type="radio" name="ch2q10"> B) $\theta^2 / (1 + \theta^2)$</li>
                        <li onclick="checkAnswer('ch2', 10, 'C')"><input type="radio" name="ch2q10"> C) $\theta^2$</li>
                        <li onclick="checkAnswer('ch2', 10, 'D')"><input type="radio" name="ch2q10"> D) 0</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer10-correct">
                        <strong>Correct!</strong> MA(q) has $\rho(h) = 0$ for $h > q$. Since MA(1) has $q=1$, $\rho(2) = 0$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer10-incorrect">
                        <strong>Incorrect.</strong> The correct answer is D. MA(1) ACF cuts off after lag 1.
                    </div>
                </div>

                <!-- Ch2 Question 11 -->
                <div class="quiz-question" id="ch2q11">
                    <h4>Question 11: AR(1) Mean</h4>
                    <p>For the AR(1) process $X_t = c + \phi X_{t-1} + \varepsilon_t$ with $c = 2$ and $\phi = 0.6$, what is $E[X_t]$?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 11, 'A')"><input type="radio" name="ch2q11"> A) 2</li>
                        <li onclick="checkAnswer('ch2', 11, 'B')"><input type="radio" name="ch2q11"> B) 3.33</li>
                        <li onclick="checkAnswer('ch2', 11, 'C')"><input type="radio" name="ch2q11"> C) 5</li>
                        <li onclick="checkAnswer('ch2', 11, 'D')"><input type="radio" name="ch2q11"> D) 0.8</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer11-correct">
                        <strong>Correct!</strong> $\mu = c / (1 - \phi) = 2 / (1 - 0.6) = 2 / 0.4 = 5$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer11-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Use formula $\mu = c / (1 - \phi)$.
                    </div>
                </div>

                <!-- Ch2 Question 12 -->
                <div class="quiz-question" id="ch2q12">
                    <h4>Question 12: Wold's Theorem</h4>
                    <p>According to Wold's decomposition theorem, any stationary process can be written as:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 12, 'A')"><input type="radio" name="ch2q12"> A) A finite AR process</li>
                        <li onclick="checkAnswer('ch2', 12, 'B')"><input type="radio" name="ch2q12"> B) An infinite MA process plus a deterministic component</li>
                        <li onclick="checkAnswer('ch2', 12, 'C')"><input type="radio" name="ch2q12"> C) A random walk</li>
                        <li onclick="checkAnswer('ch2', 12, 'D')"><input type="radio" name="ch2q12"> D) White noise only</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer12-correct">
                        <strong>Correct!</strong> Wold: $X_t = \sum_{j=0}^{\infty} \psi_j \varepsilon_{t-j} + D_t$ where $D_t$ is deterministic.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer12-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Wold's theorem gives an MA($\infty$) representation.
                    </div>
                </div>

                <!-- Ch2 Question 13 -->
                <div class="quiz-question" id="ch2q13">
                    <h4>Question 13: AR(2) Stationarity</h4>
                    <p>For AR(2): $X_t = \phi_1 X_{t-1} + \phi_2 X_{t-2} + \varepsilon_t$, which conditions ensure stationarity?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 13, 'A')"><input type="radio" name="ch2q13"> A) $|\phi_1| < 1$ and $|\phi_2| < 1$</li>
                        <li onclick="checkAnswer('ch2', 13, 'B')"><input type="radio" name="ch2q13"> B) $\phi_1 + \phi_2 < 1$, $\phi_2 - \phi_1 < 1$, $|\phi_2| < 1$</li>
                        <li onclick="checkAnswer('ch2', 13, 'C')"><input type="radio" name="ch2q13"> C) $\phi_1^2 + \phi_2^2 < 1$</li>
                        <li onclick="checkAnswer('ch2', 13, 'D')"><input type="radio" name="ch2q13"> D) $|\phi_1 + \phi_2| < 1$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer13-correct">
                        <strong>Correct!</strong> AR(2) stationarity requires all three conditions in B (the stationarity triangle).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer13-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. These define the AR(2) stationarity region.
                    </div>
                </div>

                <!-- Ch2 Question 14 -->
                <div class="quiz-question" id="ch2q14">
                    <h4>Question 14: Yule-Walker Equations</h4>
                    <p>The Yule-Walker equations are used to:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 14, 'A')"><input type="radio" name="ch2q14"> A) Test for stationarity</li>
                        <li onclick="checkAnswer('ch2', 14, 'B')"><input type="radio" name="ch2q14"> B) Estimate AR parameters from autocorrelations</li>
                        <li onclick="checkAnswer('ch2', 14, 'C')"><input type="radio" name="ch2q14"> C) Estimate MA parameters</li>
                        <li onclick="checkAnswer('ch2', 14, 'D')"><input type="radio" name="ch2q14"> D) Compute forecasts</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer14-correct">
                        <strong>Correct!</strong> Yule-Walker: $\boldsymbol{\phi} = \mathbf{R}^{-1} \boldsymbol{\rho}$ relates AR parameters to ACF.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer14-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Yule-Walker provides method-of-moments AR estimation.
                    </div>
                </div>

                <!-- Ch2 Question 15 -->
                <div class="quiz-question" id="ch2q15">
                    <h4>Question 15: PACF Interpretation</h4>
                    <p>The PACF at lag $k$ measures:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 15, 'A')"><input type="radio" name="ch2q15"> A) Total correlation between $X_t$ and $X_{t-k}$</li>
                        <li onclick="checkAnswer('ch2', 15, 'B')"><input type="radio" name="ch2q15"> B) Correlation between $X_t$ and $X_{t-k}$ after removing effects of intermediate lags</li>
                        <li onclick="checkAnswer('ch2', 15, 'C')"><input type="radio" name="ch2q15"> C) The MA coefficient at lag $k$</li>
                        <li onclick="checkAnswer('ch2', 15, 'D')"><input type="radio" name="ch2q15"> D) The variance at lag $k$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer15-correct">
                        <strong>Correct!</strong> PACF measures direct correlation after controlling for $X_{t-1}, ..., X_{t-k+1}$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer15-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. PACF removes indirect correlations through intermediate lags.
                    </div>
                </div>

                <!-- Ch2 Question 16 -->
                <div class="quiz-question" id="ch2q16">
                    <h4>Question 16: Parsimony Principle</h4>
                    <p>The parsimony principle in ARMA modeling suggests:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 16, 'A')"><input type="radio" name="ch2q16"> A) Always use the highest order model</li>
                        <li onclick="checkAnswer('ch2', 16, 'B')"><input type="radio" name="ch2q16"> B) Choose the simplest adequate model</li>
                        <li onclick="checkAnswer('ch2', 16, 'C')"><input type="radio" name="ch2q16"> C) Only use AR models</li>
                        <li onclick="checkAnswer('ch2', 16, 'D')"><input type="radio" name="ch2q16"> D) Always include seasonal terms</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer16-correct">
                        <strong>Correct!</strong> Parsimony: prefer simpler models to avoid overfitting and improve generalization.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer16-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Simpler models often forecast better.
                    </div>
                </div>

                <!-- Ch2 Question 17 -->
                <div class="quiz-question" id="ch2q17">
                    <h4>Question 17: Characteristic Roots</h4>
                    <p>For AR(1) with $\phi = 0.9$, the characteristic root is:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 17, 'A')"><input type="radio" name="ch2q17"> A) 0.9</li>
                        <li onclick="checkAnswer('ch2', 17, 'B')"><input type="radio" name="ch2q17"> B) 1/0.9 â 1.11</li>
                        <li onclick="checkAnswer('ch2', 17, 'C')"><input type="radio" name="ch2q17"> C) -0.9</li>
                        <li onclick="checkAnswer('ch2', 17, 'D')"><input type="radio" name="ch2q17"> D) 0.81</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer17-correct">
                        <strong>Correct!</strong> Characteristic equation: $1 - 0.9z = 0 \Rightarrow z = 1/0.9 \approx 1.11 > 1$ (stationary).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer17-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Root = $1/\phi$, must be outside unit circle.
                    </div>
                </div>

                <!-- Ch2 Question 18 -->
                <div class="quiz-question" id="ch2q18">
                    <h4>Question 18: Estimation Methods</h4>
                    <p>Which estimation method is generally preferred for ARMA models?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 18, 'A')"><input type="radio" name="ch2q18"> A) Ordinary Least Squares (OLS)</li>
                        <li onclick="checkAnswer('ch2', 18, 'B')"><input type="radio" name="ch2q18"> B) Maximum Likelihood Estimation (MLE)</li>
                        <li onclick="checkAnswer('ch2', 18, 'C')"><input type="radio" name="ch2q18"> C) Method of Moments only</li>
                        <li onclick="checkAnswer('ch2', 18, 'D')"><input type="radio" name="ch2q18"> D) Simple averaging</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer18-correct">
                        <strong>Correct!</strong> MLE is efficient and handles both AR and MA components properly.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer18-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. MLE is the standard for ARMA estimation.
                    </div>
                </div>

                <!-- Ch2 Question 19 -->
                <div class="quiz-question" id="ch2q19">
                    <h4>Question 19: Forecast Error Variance</h4>
                    <p>For a stationary ARMA model, as forecast horizon increases, the forecast error variance:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 19, 'A')"><input type="radio" name="ch2q19"> A) Decreases to zero</li>
                        <li onclick="checkAnswer('ch2', 19, 'B')"><input type="radio" name="ch2q19"> B) Increases without bound</li>
                        <li onclick="checkAnswer('ch2', 19, 'C')"><input type="radio" name="ch2q19"> C) Converges to the unconditional variance</li>
                        <li onclick="checkAnswer('ch2', 19, 'D')"><input type="radio" name="ch2q19"> D) Remains constant</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer19-correct">
                        <strong>Correct!</strong> As $h \to \infty$, forecast error variance $\to \gamma(0)$ (unconditional variance).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer19-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Long-run forecast uncertainty equals process variance.
                    </div>
                </div>

                <!-- Ch2 Question 20 -->
                <div class="quiz-question" id="ch2q20">
                    <h4>Question 20: Box-Jenkins Methodology</h4>
                    <p>The correct order of steps in Box-Jenkins methodology is:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 20, 'A')"><input type="radio" name="ch2q20"> A) Estimation â Identification â Diagnostics</li>
                        <li onclick="checkAnswer('ch2', 20, 'B')"><input type="radio" name="ch2q20"> B) Identification â Estimation â Diagnostics</li>
                        <li onclick="checkAnswer('ch2', 20, 'C')"><input type="radio" name="ch2q20"> C) Diagnostics â Identification â Estimation</li>
                        <li onclick="checkAnswer('ch2', 20, 'D')"><input type="radio" name="ch2q20"> D) Estimation â Diagnostics â Identification</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer20-correct">
                        <strong>Correct!</strong> Box-Jenkins: (1) Identify model order via ACF/PACF, (2) Estimate parameters, (3) Diagnose residuals.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer20-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Identification comes first, then estimation, then diagnostics.
                    </div>
                </div>

                <div style="margin-top: 2rem; text-align: center;">
                    <p id="score-display-ch2" style="font-size: 1.2rem; margin-bottom: 1rem; font-weight: bold;"></p>
                    <button onclick="calculateScore(2)" class="btn btn-secondary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none; margin-right: 1rem;">Check Score</button>
                    <button onclick="resetQuiz(2)" class="btn btn-primary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none;">Reset Quiz</button>
                </div>
            </div>

            <!-- Chapter 3 Quizzes -->
            <div class="quiz-container" id="chapter3-quizzes" style="display: none;">
                <h3 style="margin-bottom: 1.5rem;">Chapter 3: ARIMA Models</h3>

                <!-- Ch3 Question 1 -->
                <div class="quiz-question" id="ch3q1">
                    <h4>Question 1: Order of Integration</h4>
                    <p>A time series requires two differences to become stationary. What is its order of integration?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 1, 'A')"><input type="radio" name="ch3q1"> A) $I(0)$</li>
                        <li onclick="checkAnswer('ch3', 1, 'B')"><input type="radio" name="ch3q1"> B) $I(1)$</li>
                        <li onclick="checkAnswer('ch3', 1, 'C')"><input type="radio" name="ch3q1"> C) $I(2)$</li>
                        <li onclick="checkAnswer('ch3', 1, 'D')"><input type="radio" name="ch3q1"> D) Cannot be determined</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer1-correct">
                        <strong>Correct!</strong> By definition, $Y_t \sim I(d)$ means $d$ differences are needed for stationarity.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer1-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Two differences means $I(2)$.
                    </div>
                </div>

                <!-- Ch3 Question 2 -->
                <div class="quiz-question" id="ch3q2">
                    <h4>Question 2: Random Walk Variance</h4>
                    <p>For a random walk $Y_t = Y_{t-1} + \varepsilon_t$ with $\text{Var}(\varepsilon_t) = \sigma^2$, what is $\text{Var}(Y_t)$?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 2, 'A')"><input type="radio" name="ch3q2"> A) $\sigma^2$</li>
                        <li onclick="checkAnswer('ch3', 2, 'B')"><input type="radio" name="ch3q2"> B) $t \cdot \sigma^2$</li>
                        <li onclick="checkAnswer('ch3', 2, 'C')"><input type="radio" name="ch3q2"> C) $\sigma^2 / t$</li>
                        <li onclick="checkAnswer('ch3', 2, 'D')"><input type="radio" name="ch3q2"> D) $\sigma^2 / (1-\phi^2)$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer2-correct">
                        <strong>Correct!</strong> The variance grows linearly: $\text{Var}(Y_t) = t\sigma^2$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer2-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Random walk variance grows with time.
                    </div>
                </div>

                <!-- Ch3 Question 3 -->
                <div class="quiz-question" id="ch3q3">
                    <h4>Question 3: ADF Test Hypothesis</h4>
                    <p>In the Augmented Dickey-Fuller test, what is the null hypothesis?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 3, 'A')"><input type="radio" name="ch3q3"> A) The series is stationary</li>
                        <li onclick="checkAnswer('ch3', 3, 'B')"><input type="radio" name="ch3q3"> B) The series has a unit root</li>
                        <li onclick="checkAnswer('ch3', 3, 'C')"><input type="radio" name="ch3q3"> C) The series has no autocorrelation</li>
                        <li onclick="checkAnswer('ch3', 3, 'D')"><input type="radio" name="ch3q3"> D) The series is normally distributed</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer3-correct">
                        <strong>Correct!</strong> ADF tests H0: unit root vs H1: stationary.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer3-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. ADF null hypothesis is unit root (non-stationary).
                    </div>
                </div>

                <!-- Ch3 Question 4 -->
                <div class="quiz-question" id="ch3q4">
                    <h4>Question 4: ARIMA Notation</h4>
                    <p>What does ARIMA(2,1,1) represent?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 4, 'A')"><input type="radio" name="ch3q4"> A) AR(2) on differenced data with MA(1) errors</li>
                        <li onclick="checkAnswer('ch3', 4, 'B')"><input type="radio" name="ch3q4"> B) AR(1) with 2 differences and MA(1)</li>
                        <li onclick="checkAnswer('ch3', 4, 'C')"><input type="radio" name="ch3q4"> C) MA(2) with 1 difference and AR(1)</li>
                        <li onclick="checkAnswer('ch3', 4, 'D')"><input type="radio" name="ch3q4"> D) 2 lags, 1 trend, 1 seasonal component</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer4-correct">
                        <strong>Correct!</strong> ARIMA(p,d,q): p=AR order, d=differences, q=MA order.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer4-incorrect">
                        <strong>Incorrect.</strong> The correct answer is A. ARIMA(2,1,1) has AR(2), 1 difference, MA(1).
                    </div>
                </div>

                <!-- Ch3 Question 5 -->
                <div class="quiz-question" id="ch3q5">
                    <h4>Question 5: Second Difference</h4>
                    <p>What is $(1-L)^2 Y_t$ expanded?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 5, 'A')"><input type="radio" name="ch3q5"> A) $Y_t - Y_{t-1}$</li>
                        <li onclick="checkAnswer('ch3', 5, 'B')"><input type="radio" name="ch3q5"> B) $Y_t - 2Y_{t-1} + Y_{t-2}$</li>
                        <li onclick="checkAnswer('ch3', 5, 'C')"><input type="radio" name="ch3q5"> C) $Y_t + 2Y_{t-1} + Y_{t-2}$</li>
                        <li onclick="checkAnswer('ch3', 5, 'D')"><input type="radio" name="ch3q5"> D) $Y_t - Y_{t-2}$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer5-correct">
                        <strong>Correct!</strong> $(1-L)^2 = 1 - 2L + L^2$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer5-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Second difference: $Y_t - 2Y_{t-1} + Y_{t-2}$.
                    </div>
                </div>

                <!-- Ch3 Question 6 -->
                <div class="quiz-question" id="ch3q6">
                    <h4>Question 6: KPSS vs ADF</h4>
                    <p>How does the KPSS test differ from the ADF test?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 6, 'A')"><input type="radio" name="ch3q6"> A) KPSS tests for seasonality, ADF tests for trends</li>
                        <li onclick="checkAnswer('ch3', 6, 'B')"><input type="radio" name="ch3q6"> B) KPSS has stationarity as null, ADF has unit root as null</li>
                        <li onclick="checkAnswer('ch3', 6, 'C')"><input type="radio" name="ch3q6"> C) KPSS is more powerful than ADF</li>
                        <li onclick="checkAnswer('ch3', 6, 'D')"><input type="radio" name="ch3q6"> D) There is no difference</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer6-correct">
                        <strong>Correct!</strong> They have reversed null hypotheses.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer6-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. KPSS: H0=stationary, ADF: H0=unit root.
                    </div>
                </div>

                <!-- Ch3 Question 7 -->
                <div class="quiz-question" id="ch3q7">
                    <h4>Question 7: Overdifferencing</h4>
                    <p>If $Y_t \sim I(1)$ and we compute $\Delta^2 Y_t$, what happens?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 7, 'A')"><input type="radio" name="ch3q7"> A) We get a better stationary series</li>
                        <li onclick="checkAnswer('ch3', 7, 'B')"><input type="radio" name="ch3q7"> B) We introduce artificial negative autocorrelation</li>
                        <li onclick="checkAnswer('ch3', 7, 'C')"><input type="radio" name="ch3q7"> C) The variance decreases</li>
                        <li onclick="checkAnswer('ch3', 7, 'D')"><input type="radio" name="ch3q7"> D) Nothing changes</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer7-correct">
                        <strong>Correct!</strong> Overdifferencing creates an MA unit root boundary.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer7-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Overdifferencing introduces spurious MA structure.
                    </div>
                </div>

                <!-- Ch3 Question 8 -->
                <div class="quiz-question" id="ch3q8">
                    <h4>Question 8: Forecast Variance</h4>
                    <p>For ARIMA(0,1,0) (random walk), how does forecast variance behave as horizon $h$ increases?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 8, 'A')"><input type="radio" name="ch3q8"> A) Stays constant</li>
                        <li onclick="checkAnswer('ch3', 8, 'B')"><input type="radio" name="ch3q8"> B) Decreases to zero</li>
                        <li onclick="checkAnswer('ch3', 8, 'C')"><input type="radio" name="ch3q8"> C) Grows linearly with $h$</li>
                        <li onclick="checkAnswer('ch3', 8, 'D')"><input type="radio" name="ch3q8"> D) Converges to a finite limit</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer8-correct">
                        <strong>Correct!</strong> Forecast variance = $h\sigma^2$ for random walk.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer8-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. I(1) forecast uncertainty grows unboundedly.
                    </div>
                </div>

                <!-- Ch3 Question 9 -->
                <div class="quiz-question" id="ch3q9">
                    <h4>Question 9: Deterministic vs Stochastic Trend</h4>
                    <p>What distinguishes a stochastic trend from a deterministic trend?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 9, 'A')"><input type="radio" name="ch3q9"> A) Stochastic trends can be removed by detrending</li>
                        <li onclick="checkAnswer('ch3', 9, 'B')"><input type="radio" name="ch3q9"> B) Deterministic trends have permanent shock effects</li>
                        <li onclick="checkAnswer('ch3', 9, 'C')"><input type="radio" name="ch3q9"> C) Stochastic trends have permanent shock effects</li>
                        <li onclick="checkAnswer('ch3', 9, 'D')"><input type="radio" name="ch3q9"> D) They are mathematically equivalent</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer9-correct">
                        <strong>Correct!</strong> Stochastic trends: shocks are permanent. Deterministic: shocks are temporary.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer9-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Stochastic trends have permanent shock effects.
                    </div>
                </div>

                <!-- Ch3 Question 10 -->
                <div class="quiz-question" id="ch3q10">
                    <h4>Question 10: ADF Critical Values</h4>
                    <p>In the ADF test, you reject H0 (unit root) when:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 10, 'A')"><input type="radio" name="ch3q10"> A) Test statistic > critical value</li>
                        <li onclick="checkAnswer('ch3', 10, 'B')"><input type="radio" name="ch3q10"> B) Test statistic < critical value (more negative)</li>
                        <li onclick="checkAnswer('ch3', 10, 'C')"><input type="radio" name="ch3q10"> C) p-value > 0.05</li>
                        <li onclick="checkAnswer('ch3', 10, 'D')"><input type="radio" name="ch3q10"> D) Test statistic equals zero</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer10-correct">
                        <strong>Correct!</strong> ADF rejects when statistic is sufficiently negative.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer10-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. More negative = reject unit root.
                    </div>
                </div>

                <!-- Ch3 Question 11 -->
                <div class="quiz-question" id="ch3q11">
                    <h4>Question 11: IMA(1,1) Model</h4>
                    <p>ARIMA(0,1,1) is also known as:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 11, 'A')"><input type="radio" name="ch3q11"> A) Random walk</li>
                        <li onclick="checkAnswer('ch3', 11, 'B')"><input type="radio" name="ch3q11"> B) Simple exponential smoothing</li>
                        <li onclick="checkAnswer('ch3', 11, 'C')"><input type="radio" name="ch3q11"> C) Holt's method</li>
                        <li onclick="checkAnswer('ch3', 11, 'D')"><input type="radio" name="ch3q11"> D) Pure AR model</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer11-correct">
                        <strong>Correct!</strong> IMA(1,1) is equivalent to simple exponential smoothing.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer11-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. ARIMA(0,1,1) = IMA(1,1) = SES.
                    </div>
                </div>

                <!-- Ch3 Question 12 -->
                <div class="quiz-question" id="ch3q12">
                    <h4>Question 12: Constant in ARIMA</h4>
                    <p>In ARIMA(1,1,0) with constant $c$, what does $c$ represent?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 12, 'A')"><input type="radio" name="ch3q12"> A) The mean of $Y_t$</li>
                        <li onclick="checkAnswer('ch3', 12, 'B')"><input type="radio" name="ch3q12"> B) The drift (average change)</li>
                        <li onclick="checkAnswer('ch3', 12, 'C')"><input type="radio" name="ch3q12"> C) The variance</li>
                        <li onclick="checkAnswer('ch3', 12, 'D')"><input type="radio" name="ch3q12"> D) The AR coefficient</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer12-correct">
                        <strong>Correct!</strong> When $d>0$, the constant represents the drift.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer12-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. For $d \geq 1$, $c$ is the drift.
                    </div>
                </div>

                <!-- Ch3 Question 13 -->
                <div class="quiz-question" id="ch3q13">
                    <h4>Question 13: Auto-ARIMA</h4>
                    <p>What does auto_arima primarily use to select the best model?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 13, 'A')"><input type="radio" name="ch3q13"> A) Only visual inspection</li>
                        <li onclick="checkAnswer('ch3', 13, 'B')"><input type="radio" name="ch3q13"> B) Information criteria (AIC/BIC)</li>
                        <li onclick="checkAnswer('ch3', 13, 'C')"><input type="radio" name="ch3q13"> C) Only residual analysis</li>
                        <li onclick="checkAnswer('ch3', 13, 'D')"><input type="radio" name="ch3q13"> D) Random selection</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer13-correct">
                        <strong>Correct!</strong> Auto-ARIMA uses AIC/BIC to compare and select models.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer13-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Information criteria guide selection.
                    </div>
                </div>

                <!-- Ch3 Question 14 -->
                <div class="quiz-question" id="ch3q14">
                    <h4>Question 14: Box-Jenkins Step 1</h4>
                    <p>What is the first step in Box-Jenkins methodology?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 14, 'A')"><input type="radio" name="ch3q14"> A) Estimate parameters</li>
                        <li onclick="checkAnswer('ch3', 14, 'B')"><input type="radio" name="ch3q14"> B) Identify model order (p,d,q)</li>
                        <li onclick="checkAnswer('ch3', 14, 'C')"><input type="radio" name="ch3q14"> C) Diagnose residuals</li>
                        <li onclick="checkAnswer('ch3', 14, 'D')"><input type="radio" name="ch3q14"> D) Generate forecasts</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer14-correct">
                        <strong>Correct!</strong> Identification â Estimation â Diagnostics.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer14-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. First identify, then estimate, then diagnose.
                    </div>
                </div>

                <!-- Ch3 Question 15 -->
                <div class="quiz-question" id="ch3q15">
                    <h4>Question 15: ACF of I(1) Series</h4>
                    <p>What is characteristic of the ACF of an I(1) series?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 15, 'A')"><input type="radio" name="ch3q15"> A) Cuts off sharply at lag 1</li>
                        <li onclick="checkAnswer('ch3', 15, 'B')"><input type="radio" name="ch3q15"> B) Decays very slowly</li>
                        <li onclick="checkAnswer('ch3', 15, 'C')"><input type="radio" name="ch3q15"> C) Shows no significant lags</li>
                        <li onclick="checkAnswer('ch3', 15, 'D')"><input type="radio" name="ch3q15"> D) Alternates between positive and negative</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer15-correct">
                        <strong>Correct!</strong> Slow ACF decay is a hallmark of non-stationarity.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer15-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. I(1) series have slowly decaying ACF.
                    </div>
                </div>

                <!-- Ch3 Question 16 -->
                <div class="quiz-question" id="ch3q16">
                    <h4>Question 16: Ljung-Box on ARIMA Residuals</h4>
                    <p>If Ljung-Box test p-value is 0.02 on ARIMA residuals, what should you conclude?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 16, 'A')"><input type="radio" name="ch3q16"> A) The model is adequate</li>
                        <li onclick="checkAnswer('ch3', 16, 'B')"><input type="radio" name="ch3q16"> B) The model is inadequate, consider re-specifying</li>
                        <li onclick="checkAnswer('ch3', 16, 'C')"><input type="radio" name="ch3q16"> C) The series is stationary</li>
                        <li onclick="checkAnswer('ch3', 16, 'D')"><input type="radio" name="ch3q16"> D) The series has a unit root</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer16-correct">
                        <strong>Correct!</strong> p < 0.05 indicates significant residual autocorrelation.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer16-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Residuals should be white noise (p > 0.05).
                    </div>
                </div>

                <!-- Ch3 Question 17 -->
                <div class="quiz-question" id="ch3q17">
                    <h4>Question 17: MLE for ARIMA</h4>
                    <p>What is the standard estimation method for ARIMA parameters?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 17, 'A')"><input type="radio" name="ch3q17"> A) Ordinary Least Squares</li>
                        <li onclick="checkAnswer('ch3', 17, 'B')"><input type="radio" name="ch3q17"> B) Maximum Likelihood Estimation</li>
                        <li onclick="checkAnswer('ch3', 17, 'C')"><input type="radio" name="ch3q17"> C) Method of Moments</li>
                        <li onclick="checkAnswer('ch3', 17, 'D')"><input type="radio" name="ch3q17"> D) Bayesian estimation only</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer17-correct">
                        <strong>Correct!</strong> MLE is standard for ARIMA estimation.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer17-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Maximum Likelihood is standard.
                    </div>
                </div>

                <!-- Ch3 Question 18 -->
                <div class="quiz-question" id="ch3q18">
                    <h4>Question 18: Typical $d$ for Economic Data</h4>
                    <p>For most macroeconomic time series (GDP, prices), what is the typical order of integration?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 18, 'A')"><input type="radio" name="ch3q18"> A) $I(0)$ - stationary</li>
                        <li onclick="checkAnswer('ch3', 18, 'B')"><input type="radio" name="ch3q18"> B) $I(1)$ - unit root</li>
                        <li onclick="checkAnswer('ch3', 18, 'C')"><input type="radio" name="ch3q18"> C) $I(2)$ or higher</li>
                        <li onclick="checkAnswer('ch3', 18, 'D')"><input type="radio" name="ch3q18"> D) $I(-1)$ - overdifferenced</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer18-correct">
                        <strong>Correct!</strong> Most economic series are I(1).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer18-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. GDP, prices typically are I(1).
                    </div>
                </div>

                <!-- Ch3 Question 19 -->
                <div class="quiz-question" id="ch3q19">
                    <h4>Question 19: Conflicting Test Results</h4>
                    <p>If ADF does not reject but KPSS rejects, what does this suggest?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 19, 'A')"><input type="radio" name="ch3q19"> A) The series is definitely stationary</li>
                        <li onclick="checkAnswer('ch3', 19, 'B')"><input type="radio" name="ch3q19"> B) The series is definitely non-stationary</li>
                        <li onclick="checkAnswer('ch3', 19, 'C')"><input type="radio" name="ch3q19"> C) Both tests agree the series has a unit root</li>
                        <li onclick="checkAnswer('ch3', 19, 'D')"><input type="radio" name="ch3q19"> D) Results are inconclusive, need more analysis</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer19-correct">
                        <strong>Correct!</strong> Conflicting results suggest borderline cases or structural breaks.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer19-incorrect">
                        <strong>Incorrect.</strong> The correct answer is D. Conflicting results require further investigation.
                    </div>
                </div>

                <!-- Ch3 Question 20 -->
                <div class="quiz-question" id="ch3q20">
                    <h4>Question 20: ARIMA Limitations</h4>
                    <p>Which is NOT a limitation of ARIMA models?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 20, 'A')"><input type="radio" name="ch3q20"> A) Assumes linearity</li>
                        <li onclick="checkAnswer('ch3', 20, 'B')"><input type="radio" name="ch3q20"> B) Cannot capture volatility clustering</li>
                        <li onclick="checkAnswer('ch3', 20, 'C')"><input type="radio" name="ch3q20"> C) Can handle non-stationary data</li>
                        <li onclick="checkAnswer('ch3', 20, 'D')"><input type="radio" name="ch3q20"> D) Assumes constant variance</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer20-correct">
                        <strong>Correct!</strong> Handling non-stationarity via differencing is a strength, not a limitation.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer20-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Handling non-stationarity is a feature, not a limitation.
                    </div>
                </div>

                <div style="margin-top: 2rem; text-align: center;">
                    <p id="score-display-ch3" style="font-size: 1.2rem; margin-bottom: 1rem; font-weight: bold;"></p>
                    <button onclick="calculateScore(3)" class="btn btn-secondary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none; margin-right: 1rem;">Check Score</button>
                    <button onclick="resetQuiz(3)" class="btn btn-primary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none;">Reset Quiz</button>
                </div>
            </div>

            <!-- Chapter 4 Quizzes (SARIMA) -->
            <div class="quiz-container" id="chapter4-quizzes" style="display: none;">
                <h3 style="margin-bottom: 1.5rem;">Chapter 4: SARIMA Models</h3>

                <!-- Ch4 Question 1 -->
                <div class="quiz-question" id="ch4q1">
                    <h4>Question 1: Seasonal Differencing</h4>
                    <p>For monthly data with annual seasonality, what does $(1-L^{12})Y_t$ compute?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch4', 1, 'A')"><input type="radio" name="ch4q1"> A) $Y_t - Y_{t-1}$</li>
                        <li onclick="checkAnswer('ch4', 1, 'B')"><input type="radio" name="ch4q1"> B) $Y_t - Y_{t-12}$</li>
                        <li onclick="checkAnswer('ch4', 1, 'C')"><input type="radio" name="ch4q1"> C) Average of 12 months</li>
                        <li onclick="checkAnswer('ch4', 1, 'D')"><input type="radio" name="ch4q1"> D) $Y_t / Y_{t-12}$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch4answer1-correct">
                        <strong>Correct!</strong> $(1-L^{12})Y_t = Y_t - Y_{t-12}$ compares each observation with the same month in the previous year.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch4answer1-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. The seasonal differencing operator $(1-L^s)$ computes $Y_t - Y_{t-s}$.
                    </div>
                </div>

                <!-- Ch4 Question 2 -->
                <div class="quiz-question" id="ch4q2">
                    <h4>Question 2: SARIMA Notation</h4>
                    <p>In SARIMA$(1,1,1) \times (1,1,1)_{12}$, what does the subscript 12 represent?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch4', 2, 'A')"><input type="radio" name="ch4q2"> A) Number of parameters</li>
                        <li onclick="checkAnswer('ch4', 2, 'B')"><input type="radio" name="ch4q2"> B) Seasonal period</li>
                        <li onclick="checkAnswer('ch4', 2, 'C')"><input type="radio" name="ch4q2"> C) Maximum lag order</li>
                        <li onclick="checkAnswer('ch4', 2, 'D')"><input type="radio" name="ch4q2"> D) Sample size requirement</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch4answer2-correct">
                        <strong>Correct!</strong> The subscript $s=12$ indicates the seasonal period (12 months for monthly data with annual seasonality).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch4answer2-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. The subscript represents the seasonal period.
                    </div>
                </div>

                <!-- Ch4 Question 3 -->
                <div class="quiz-question" id="ch4q3">
                    <h4>Question 3: Airline Model</h4>
                    <p>The classic "airline model" SARIMA$(0,1,1) \times (0,1,1)_{12}$ has how many parameters (excluding $\sigma^2$)?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch4', 3, 'A')"><input type="radio" name="ch4q3"> A) 2</li>
                        <li onclick="checkAnswer('ch4', 3, 'B')"><input type="radio" name="ch4q3"> B) 4</li>
                        <li onclick="checkAnswer('ch4', 3, 'C')"><input type="radio" name="ch4q3"> C) 6</li>
                        <li onclick="checkAnswer('ch4', 3, 'D')"><input type="radio" name="ch4q3"> D) 12</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch4answer3-correct">
                        <strong>Correct!</strong> Only 2 parameters: $\theta_1$ (regular MA) and $\Theta_1$ (seasonal MA). Despite its simplicity, it captures complex seasonal dynamics.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch4answer3-incorrect">
                        <strong>Incorrect.</strong> The correct answer is A. The airline model has just 2 MA parameters: $\theta_1$ and $\Theta_1$.
                    </div>
                </div>

                <!-- Ch4 Question 4 -->
                <div class="quiz-question" id="ch4q4">
                    <h4>Question 4: Seasonal ACF Pattern</h4>
                    <p>For monthly data with strong annual seasonality, where would you expect significant ACF spikes?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch4', 4, 'A')"><input type="radio" name="ch4q4"> A) Only at lag 1</li>
                        <li onclick="checkAnswer('ch4', 4, 'B')"><input type="radio" name="ch4q4"> B) At lags 12, 24, 36, ...</li>
                        <li onclick="checkAnswer('ch4', 4, 'C')"><input type="radio" name="ch4q4"> C) Randomly distributed</li>
                        <li onclick="checkAnswer('ch4', 4, 'D')"><input type="radio" name="ch4q4"> D) No spikes at all</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch4answer4-correct">
                        <strong>Correct!</strong> Seasonal data shows significant ACF at multiples of the seasonal period (12, 24, 36, ...).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch4answer4-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Seasonal ACF shows spikes at seasonal lags and their multiples.
                    </div>
                </div>

                <!-- Ch4 Question 5 -->
                <div class="quiz-question" id="ch4q5">
                    <h4>Question 5: Multiplicative Structure</h4>
                    <p>In SARIMA, "multiplicative structure" means:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch4', 5, 'A')"><input type="radio" name="ch4q5"> A) Seasonal amplitude grows proportionally with level</li>
                        <li onclick="checkAnswer('ch4', 5, 'B')"><input type="radio" name="ch4q5"> B) Regular and seasonal polynomials are multiplied</li>
                        <li onclick="checkAnswer('ch4', 5, 'C')"><input type="radio" name="ch4q5"> C) Data must be multiplied by seasonal factors</li>
                        <li onclick="checkAnswer('ch4', 5, 'D')"><input type="radio" name="ch4q5"> D) Model is estimated using multiplication</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch4answer5-correct">
                        <strong>Correct!</strong> The AR polynomials $\phi(L)\Phi(L^s)$ and MA polynomials $\theta(L)\Theta(L^s)$ are multiplied, creating cross-terms.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch4answer5-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Multiplicative structure refers to the multiplication of regular and seasonal polynomials.
                    </div>
                </div>

                <!-- Ch4 Question 6 -->
                <div class="quiz-question" id="ch4q6">
                    <h4>Question 6: Full Differencing</h4>
                    <p>When should you apply both regular ($d=1$) and seasonal ($D=1$) differencing?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch4', 6, 'A')"><input type="radio" name="ch4q6"> A) When data has only a trend</li>
                        <li onclick="checkAnswer('ch4', 6, 'B')"><input type="radio" name="ch4q6"> B) When data has only seasonality</li>
                        <li onclick="checkAnswer('ch4', 6, 'C')"><input type="radio" name="ch4q6"> C) When data has both trend and seasonal non-stationarity</li>
                        <li onclick="checkAnswer('ch4', 6, 'D')"><input type="radio" name="ch4q6"> D) Never - they cancel each other</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch4answer6-correct">
                        <strong>Correct!</strong> Both differencing types are needed when the series has both a stochastic trend (unit root) and stochastic seasonality.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch4answer6-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Use both when the series exhibits both regular and seasonal non-stationarity.
                    </div>
                </div>

                <!-- Ch4 Question 7 -->
                <div class="quiz-question" id="ch4q7">
                    <h4>Question 7: Log Transformation</h4>
                    <p>When should you apply log transformation before fitting SARIMA?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch4', 7, 'A')"><input type="radio" name="ch4q7"> A) When data contains zeros or negative values</li>
                        <li onclick="checkAnswer('ch4', 7, 'B')"><input type="radio" name="ch4q7"> B) When seasonal fluctuations grow with the level</li>
                        <li onclick="checkAnswer('ch4', 7, 'C')"><input type="radio" name="ch4q7"> C) Always, regardless of data characteristics</li>
                        <li onclick="checkAnswer('ch4', 7, 'D')"><input type="radio" name="ch4q7"> D) Never for seasonal data</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch4answer7-correct">
                        <strong>Correct!</strong> Log transformation stabilizes variance when seasonal amplitude grows with level (multiplicative seasonality).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch4answer7-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Log transformation is used for multiplicative seasonality where amplitude grows with level.
                    </div>
                </div>

                <!-- Ch4 Question 8 -->
                <div class="quiz-question" id="ch4q8">
                    <h4>Question 8: Seasonal Period</h4>
                    <p>What seasonal period ($s$) would you use for quarterly GDP data with annual patterns?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch4', 8, 'A')"><input type="radio" name="ch4q8"> A) $s = 1$</li>
                        <li onclick="checkAnswer('ch4', 8, 'B')"><input type="radio" name="ch4q8"> B) $s = 4$</li>
                        <li onclick="checkAnswer('ch4', 8, 'C')"><input type="radio" name="ch4q8"> C) $s = 12$</li>
                        <li onclick="checkAnswer('ch4', 8, 'D')"><input type="radio" name="ch4q8"> D) $s = 52$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch4answer8-correct">
                        <strong>Correct!</strong> For quarterly data with annual seasonality, $s=4$ (4 quarters per year).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch4answer8-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Quarterly data has 4 observations per annual cycle.
                    </div>
                </div>

                <!-- Ch4 Question 9 -->
                <div class="quiz-question" id="ch4q9">
                    <h4>Question 9: Expansion Formula</h4>
                    <p>What is $(1-L)(1-L^{12})$ expanded?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch4', 9, 'A')"><input type="radio" name="ch4q9"> A) $1 - L - L^{12}$</li>
                        <li onclick="checkAnswer('ch4', 9, 'B')"><input type="radio" name="ch4q9"> B) $1 - L - L^{12} + L^{13}$</li>
                        <li onclick="checkAnswer('ch4', 9, 'C')"><input type="radio" name="ch4q9"> C) $1 - 2L + L^{12}$</li>
                        <li onclick="checkAnswer('ch4', 9, 'D')"><input type="radio" name="ch4q9"> D) $1 - L^{13}$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch4answer9-correct">
                        <strong>Correct!</strong> $(1-L)(1-L^{12}) = 1 - L - L^{12} + L^{13}$, so $(1-L)(1-L^{12})Y_t = Y_t - Y_{t-1} - Y_{t-12} + Y_{t-13}$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch4answer9-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Multiply out: $(1-L)(1-L^{12}) = 1 - L - L^{12} + L^{13}$.
                    </div>
                </div>

                <!-- Ch4 Question 10 -->
                <div class="quiz-question" id="ch4q10">
                    <h4>Question 10: Deterministic vs Stochastic</h4>
                    <p>What distinguishes stochastic seasonality (SARIMA) from deterministic seasonality (seasonal dummies)?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch4', 10, 'A')"><input type="radio" name="ch4q10"> A) Stochastic seasonality requires more data</li>
                        <li onclick="checkAnswer('ch4', 10, 'B')"><input type="radio" name="ch4q10"> B) Stochastic seasonality evolves over time</li>
                        <li onclick="checkAnswer('ch4', 10, 'C')"><input type="radio" name="ch4q10"> C) Deterministic seasonality is more flexible</li>
                        <li onclick="checkAnswer('ch4', 10, 'D')"><input type="radio" name="ch4q10"> D) There is no difference</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch4answer10-correct">
                        <strong>Correct!</strong> Stochastic seasonality evolves: this year's December depends on last year's December. Deterministic assumes fixed, repeating patterns.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch4answer10-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Stochastic seasonality allows the seasonal pattern to evolve over time.
                    </div>
                </div>

                <div style="margin-top: 2rem; text-align: center;">
                    <p id="score-display-ch4" style="font-size: 1.2rem; margin-bottom: 1rem; font-weight: bold;"></p>
                    <button onclick="calculateScore(4)" class="btn btn-secondary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none; margin-right: 1rem;">Check Score</button>
                    <button onclick="resetQuiz(4)" class="btn btn-primary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none;">Reset Quiz</button>
                </div>
            </div>

            <!-- Chapter 5 Quizzes (GARCH - formerly VAR content, needs update) -->
            <div class="quiz-container" id="chapter5-quizzes" style="display: none;">
                <h3 style="margin-bottom: 1.5rem;">Chapter 5: Volatility Models ARCH/GARCH</h3>
                <p style="color: #666; margin-bottom: 1rem;"><em>Note: Quiz content is being updated. Current quizzes cover VAR topics.</em></p>

                <!-- Question 1 -->
                <div class="quiz-question" id="ch5q1">
                    <h4>Question 1: VAR Definition</h4>
                    <p>In a VAR(2) model with 3 variables, how many coefficient matrices $\mathbf{A}_i$ are there?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 1, 'A')"><input type="radio" name="ch5q1"> A) 2</li>
                        <li onclick="checkAnswer('ch5', 1, 'B')"><input type="radio" name="ch5q1"> B) 3</li>
                        <li onclick="checkAnswer('ch5', 1, 'C')"><input type="radio" name="ch5q1"> C) 6</li>
                        <li onclick="checkAnswer('ch5', 1, 'D')"><input type="radio" name="ch5q1"> D) 9</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer1-correct">
                        <strong>Correct!</strong> VAR(p) has p coefficient matrices. VAR(2) has $\mathbf{A}_1$ and $\mathbf{A}_2$, regardless of the number of variables.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer1-incorrect">
                        <strong>Incorrect.</strong> The correct answer is A. VAR(p) has p coefficient matrices (one for each lag).
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="quiz-question" id="ch5q2">
                    <h4>Question 2: Number of Parameters</h4>
                    <p>A VAR(2) with $K=3$ variables (including constants) has how many parameters per equation?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 2, 'A')"><input type="radio" name="ch5q2"> A) 3</li>
                        <li onclick="checkAnswer('ch5', 2, 'B')"><input type="radio" name="ch5q2"> B) 6</li>
                        <li onclick="checkAnswer('ch5', 2, 'C')"><input type="radio" name="ch5q2"> C) 7</li>
                        <li onclick="checkAnswer('ch5', 2, 'D')"><input type="radio" name="ch5q2"> D) 9</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer2-correct">
                        <strong>Correct!</strong> Per equation: $1 + K \times p = 1 + 3 \times 2 = 7$ parameters (constant + 6 lagged coefficients).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer2-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Each equation has 1 constant + $K \times p = 3 \times 2 = 6$ lagged terms = 7 parameters.
                    </div>
                </div>

                <!-- Question 3 -->
                <div class="quiz-question" id="ch5q3">
                    <h4>Question 3: Granger Causality</h4>
                    <p>"$X$ Granger-causes $Y$" means:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 3, 'A')"><input type="radio" name="ch5q3"> A) $X$ is the economic cause of $Y$</li>
                        <li onclick="checkAnswer('ch5', 3, 'B')"><input type="radio" name="ch5q3"> B) Past $X$ helps predict future $Y$</li>
                        <li onclick="checkAnswer('ch5', 3, 'C')"><input type="radio" name="ch5q3"> C) $X$ and $Y$ are contemporaneously correlated</li>
                        <li onclick="checkAnswer('ch5', 3, 'D')"><input type="radio" name="ch5q3"> D) $X$ always increases when $Y$ increases</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer3-correct">
                        <strong>Correct!</strong> Granger causality is about predictive content: past values of $X$ help forecast $Y$ beyond $Y$'s own history.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer3-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Granger causality tests whether past $X$ improves predictions of $Y$.
                    </div>
                </div>

                <!-- Question 4 -->
                <div class="quiz-question" id="ch5q4">
                    <h4>Question 4: Granger Causality Test</h4>
                    <p>To test if $Y_2$ Granger-causes $Y_1$ in a VAR(p), we test:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 4, 'A')"><input type="radio" name="ch5q4"> A) All coefficients in the $Y_1$ equation equal zero</li>
                        <li onclick="checkAnswer('ch5', 4, 'B')"><input type="radio" name="ch5q4"> B) Coefficients on lagged $Y_2$ in the $Y_1$ equation equal zero</li>
                        <li onclick="checkAnswer('ch5', 4, 'C')"><input type="radio" name="ch5q4"> C) Coefficients on lagged $Y_1$ in the $Y_2$ equation equal zero</li>
                        <li onclick="checkAnswer('ch5', 4, 'D')"><input type="radio" name="ch5q4"> D) The error covariance equals zero</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer4-correct">
                        <strong>Correct!</strong> We test $H_0$: all coefficients on lagged $Y_2$ in the $Y_1$ equation are jointly zero.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer4-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Test whether lagged $Y_2$ terms in the $Y_1$ equation are jointly zero.
                    </div>
                </div>

                <!-- Question 5 -->
                <div class="quiz-question" id="ch5q5">
                    <h4>Question 5: VAR Stability</h4>
                    <p>A VAR(1) model is stable (stationary) if:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 5, 'A')"><input type="radio" name="ch5q5"> A) All diagonal elements of $\mathbf{A}_1$ are less than 1</li>
                        <li onclick="checkAnswer('ch5', 5, 'B')"><input type="radio" name="ch5q5"> B) The determinant of $\mathbf{A}_1$ is less than 1</li>
                        <li onclick="checkAnswer('ch5', 5, 'C')"><input type="radio" name="ch5q5"> C) All eigenvalues of $\mathbf{A}_1$ are less than 1 in absolute value</li>
                        <li onclick="checkAnswer('ch5', 5, 'D')"><input type="radio" name="ch5q5"> D) The trace of $\mathbf{A}_1$ equals zero</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer5-correct">
                        <strong>Correct!</strong> Stability requires all eigenvalues inside the unit circle ($|\lambda_i| < 1$), ensuring shocks die out over time.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer5-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Stability requires all eigenvalues of $\mathbf{A}_1$ to have modulus less than 1.
                    </div>
                </div>

                <!-- Question 6 -->
                <div class="quiz-question" id="ch5q6">
                    <h4>Question 6: Impulse Response Functions</h4>
                    <p>An impulse response function shows:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 6, 'A')"><input type="radio" name="ch5q6"> A) The correlation between two variables</li>
                        <li onclick="checkAnswer('ch5', 6, 'B')"><input type="radio" name="ch5q6"> B) The effect of a shock to one variable on all variables over time</li>
                        <li onclick="checkAnswer('ch5', 6, 'C')"><input type="radio" name="ch5q6"> C) The forecast accuracy of the model</li>
                        <li onclick="checkAnswer('ch5', 6, 'D')"><input type="radio" name="ch5q6"> D) The p-values of coefficient tests</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer6-correct">
                        <strong>Correct!</strong> IRF$_{ij}(h)$ shows the response of variable $i$ at horizon $h$ to a one-unit shock in variable $j$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer6-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. IRFs trace how shocks propagate through the system over time.
                    </div>
                </div>

                <!-- Question 7 -->
                <div class="quiz-question" id="ch5q7">
                    <h4>Question 7: Lag Order Selection</h4>
                    <p>Which criterion typically selects the most parsimonious VAR model?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 7, 'A')"><input type="radio" name="ch5q7"> A) AIC (Akaike Information Criterion)</li>
                        <li onclick="checkAnswer('ch5', 7, 'B')"><input type="radio" name="ch5q7"> B) BIC (Bayesian Information Criterion)</li>
                        <li onclick="checkAnswer('ch5', 7, 'C')"><input type="radio" name="ch5q7"> C) FPE (Final Prediction Error)</li>
                        <li onclick="checkAnswer('ch5', 7, 'D')"><input type="radio" name="ch5q7"> D) Adjusted $R^2$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer7-correct">
                        <strong>Correct!</strong> BIC penalizes complexity more heavily than AIC ($k \ln n$ vs $2k$), favoring simpler models.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer7-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. BIC has a stronger penalty for parameters, selecting more parsimonious models.
                    </div>
                </div>

                <!-- Question 8 -->
                <div class="quiz-question" id="ch5q8">
                    <h4>Question 8: FEVD</h4>
                    <p>Forecast Error Variance Decomposition (FEVD) tells us:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 8, 'A')"><input type="radio" name="ch5q8"> A) The correlation between variables</li>
                        <li onclick="checkAnswer('ch5', 8, 'B')"><input type="radio" name="ch5q8"> B) What proportion of forecast error variance comes from each shock</li>
                        <li onclick="checkAnswer('ch5', 8, 'C')"><input type="radio" name="ch5q8"> C) The optimal forecast horizon</li>
                        <li onclick="checkAnswer('ch5', 8, 'D')"><input type="radio" name="ch5q8"> D) Which variables to include in the model</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer8-correct">
                        <strong>Correct!</strong> FEVD shows how much of the forecast uncertainty for each variable is attributable to each structural shock.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer8-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. FEVD decomposes forecast variance by shock source.
                    </div>
                </div>

                <!-- Question 9 -->
                <div class="quiz-question" id="ch5q9">
                    <h4>Question 9: Cholesky Ordering</h4>
                    <p>Cholesky ordering in IRF analysis assumes:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 9, 'A')"><input type="radio" name="ch5q9"> A) All variables are equally important</li>
                        <li onclick="checkAnswer('ch5', 9, 'B')"><input type="radio" name="ch5q9"> B) Variables ordered first affect later variables contemporaneously, not vice versa</li>
                        <li onclick="checkAnswer('ch5', 9, 'C')"><input type="radio" name="ch5q9"> C) Shocks are uncorrelated</li>
                        <li onclick="checkAnswer('ch5', 9, 'D')"><input type="radio" name="ch5q9"> D) No restrictions are needed</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer9-correct">
                        <strong>Correct!</strong> Cholesky imposes a recursive structure: variables ordered earlier can affect later ones within the period, but not vice versa.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer9-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Cholesky assumes a causal ordering for contemporaneous effects.
                    </div>
                </div>

                <!-- Question 10 -->
                <div class="quiz-question" id="ch5q10">
                    <h4>Question 10: Cointegration</h4>
                    <p>If variables are I(1) and cointegrated, you should use:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 10, 'A')"><input type="radio" name="ch5q10"> A) VAR in levels</li>
                        <li onclick="checkAnswer('ch5', 10, 'B')"><input type="radio" name="ch5q10"> B) VAR in first differences</li>
                        <li onclick="checkAnswer('ch5', 10, 'C')"><input type="radio" name="ch5q10"> C) Vector Error Correction Model (VECM)</li>
                        <li onclick="checkAnswer('ch5', 10, 'D')"><input type="radio" name="ch5q10"> D) Univariate ARIMA models</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer10-correct">
                        <strong>Correct!</strong> VECM incorporates both short-run dynamics and the long-run equilibrium relationship through the error correction term.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer10-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. With cointegration, VECM preserves the long-run relationship that would be lost in differences.
                    </div>
                </div>

                <!-- Question 11 -->
                <div class="quiz-question" id="ch5q11">
                    <h4>Question 11: VAR Residuals</h4>
                    <p>In a well-specified VAR, residuals should be:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 11, 'A')"><input type="radio" name="ch5q11"> A) Autocorrelated but homoskedastic</li>
                        <li onclick="checkAnswer('ch5', 11, 'B')"><input type="radio" name="ch5q11"> B) Serially uncorrelated (white noise)</li>
                        <li onclick="checkAnswer('ch5', 11, 'C')"><input type="radio" name="ch5q11"> C) Perfectly normally distributed</li>
                        <li onclick="checkAnswer('ch5', 11, 'D')"><input type="radio" name="ch5q11"> D) Zero for all observations</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer11-correct">
                        <strong>Correct!</strong> Residuals should have no autocorrelation. Cross-equation correlation is allowed and captured in the covariance matrix.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer11-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. The model should capture all serial dependence, leaving white noise residuals.
                    </div>
                </div>

                <!-- Question 12 -->
                <div class="quiz-question" id="ch5q12">
                    <h4>Question 12: Structural VAR</h4>
                    <p>The main difference between SVAR and reduced-form VAR is:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 12, 'A')"><input type="radio" name="ch5q12"> A) SVAR uses more lags</li>
                        <li onclick="checkAnswer('ch5', 12, 'B')"><input type="radio" name="ch5q12"> B) SVAR identifies structural shocks with economic interpretation</li>
                        <li onclick="checkAnswer('ch5', 12, 'C')"><input type="radio" name="ch5q12"> C) SVAR requires more data</li>
                        <li onclick="checkAnswer('ch5', 12, 'D')"><input type="radio" name="ch5q12"> D) SVAR cannot forecast</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer12-correct">
                        <strong>Correct!</strong> SVAR imposes identifying restrictions to recover orthogonal structural shocks with economic meaning (e.g., "monetary policy shock").
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer12-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. SVAR uses restrictions to identify economically meaningful structural shocks.
                    </div>
                </div>

                <!-- Question 13 -->
                <div class="quiz-question" id="ch5q13">
                    <h4>Question 13: Granger vs True Causality</h4>
                    <p>Finding that X Granger-causes Y means:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 13, 'A')"><input type="radio" name="ch5q13"> A) X definitely causes Y economically</li>
                        <li onclick="checkAnswer('ch5', 13, 'B')"><input type="radio" name="ch5q13"> B) X has predictive power for Y, but may not be true causation</li>
                        <li onclick="checkAnswer('ch5', 13, 'C')"><input type="radio" name="ch5q13"> C) Y causes X</li>
                        <li onclick="checkAnswer('ch5', 13, 'D')"><input type="radio" name="ch5q13"> D) X and Y are unrelated</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer13-correct">
                        <strong>Correct!</strong> Granger causality is about prediction, not true causation. It may be spurious due to omitted variables or anticipation effects.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer13-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Granger causality tests predictive content, not economic causation.
                    </div>
                </div>

                <!-- Question 14 -->
                <div class="quiz-question" id="ch5q14">
                    <h4>Question 14: VAR Estimation</h4>
                    <p>VAR models can be estimated by:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 14, 'A')"><input type="radio" name="ch5q14"> A) OLS on each equation separately</li>
                        <li onclick="checkAnswer('ch5', 14, 'B')"><input type="radio" name="ch5q14"> B) Only maximum likelihood</li>
                        <li onclick="checkAnswer('ch5', 14, 'C')"><input type="radio" name="ch5q14"> C) Only Bayesian methods</li>
                        <li onclick="checkAnswer('ch5', 14, 'D')"><input type="radio" name="ch5q14"> D) Weighted least squares only</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer14-correct">
                        <strong>Correct!</strong> With identical regressors in each equation, OLS = GLS = MLE (under Gaussian errors). This makes estimation simple and efficient.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer14-incorrect">
                        <strong>Incorrect.</strong> The correct answer is A. VAR can be estimated equation-by-equation with OLS.
                    </div>
                </div>

                <!-- Question 15 -->
                <div class="quiz-question" id="ch5q15">
                    <h4>Question 15: IRF Convergence</h4>
                    <p>In a stable VAR, impulse responses as $h \to \infty$:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 15, 'A')"><input type="radio" name="ch5q15"> A) Explode to infinity</li>
                        <li onclick="checkAnswer('ch5', 15, 'B')"><input type="radio" name="ch5q15"> B) Converge to zero</li>
                        <li onclick="checkAnswer('ch5', 15, 'C')"><input type="radio" name="ch5q15"> C) Oscillate forever</li>
                        <li onclick="checkAnswer('ch5', 15, 'D')"><input type="radio" name="ch5q15"> D) Stay constant</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer15-correct">
                        <strong>Correct!</strong> Stability means eigenvalues inside unit circle, so $A^h \to 0$. Shocks have transitory effects that die out.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer15-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. In stable VARs, all impulse responses converge to zero.
                    </div>
                </div>

                <!-- Question 16 -->
                <div class="quiz-question" id="ch5q16">
                    <h4>Question 16: Bidirectional Causality</h4>
                    <p>If both "X Granger-causes Y" and "Y Granger-causes X", this is called:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 16, 'A')"><input type="radio" name="ch5q16"> A) No causality</li>
                        <li onclick="checkAnswer('ch5', 16, 'B')"><input type="radio" name="ch5q16"> B) Unidirectional causality</li>
                        <li onclick="checkAnswer('ch5', 16, 'C')"><input type="radio" name="ch5q16"> C) Bidirectional (feedback) causality</li>
                        <li onclick="checkAnswer('ch5', 16, 'D')"><input type="radio" name="ch5q16"> D) Instantaneous causality</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer16-correct">
                        <strong>Correct!</strong> Bidirectional or feedback causality means each variable helps predict the other. Common in financial markets.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer16-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. When causality runs both ways, it's called bidirectional or feedback.
                    </div>
                </div>

                <!-- Question 17 -->
                <div class="quiz-question" id="ch5q17">
                    <h4>Question 17: Companion Form</h4>
                    <p>The companion matrix of a VAR(p) is used to:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 17, 'A')"><input type="radio" name="ch5q17"> A) Reduce the number of parameters</li>
                        <li onclick="checkAnswer('ch5', 17, 'B')"><input type="radio" name="ch5q17"> B) Convert VAR(p) to VAR(1) form for stability analysis</li>
                        <li onclick="checkAnswer('ch5', 17, 'C')"><input type="radio" name="ch5q17"> C) Estimate the model faster</li>
                        <li onclick="checkAnswer('ch5', 17, 'D')"><input type="radio" name="ch5q17"> D) Test for Granger causality</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer17-correct">
                        <strong>Correct!</strong> Any VAR(p) can be written as VAR(1) in companion form. Eigenvalues of the companion matrix determine stability.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer17-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Companion form allows stability analysis through eigenvalue computation.
                    </div>
                </div>

                <!-- Question 18 -->
                <div class="quiz-question" id="ch5q18">
                    <h4>Question 18: FEVD Over Horizons</h4>
                    <p>In FEVD, as the horizon $h$ increases:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 18, 'A')"><input type="radio" name="ch5q18"> A) Own shocks always dominate</li>
                        <li onclick="checkAnswer('ch5', 18, 'B')"><input type="radio" name="ch5q18"> B) The proportions converge to long-run values</li>
                        <li onclick="checkAnswer('ch5', 18, 'C')"><input type="radio" name="ch5q18"> C) All shocks contribute equally</li>
                        <li onclick="checkAnswer('ch5', 18, 'D')"><input type="radio" name="ch5q18"> D) FEVD becomes undefined</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer18-correct">
                        <strong>Correct!</strong> FEVD proportions stabilize at long horizons, showing the ultimate importance of each shock source.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer18-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. FEVD converges to long-run decomposition as horizon increases.
                    </div>
                </div>

                <!-- Question 19 -->
                <div class="quiz-question" id="ch5q19">
                    <h4>Question 19: Instantaneous Causality</h4>
                    <p>Instantaneous causality tests whether:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 19, 'A')"><input type="radio" name="ch5q19"> A) Lagged X predicts Y</li>
                        <li onclick="checkAnswer('ch5', 19, 'B')"><input type="radio" name="ch5q19"> B) Shocks to X and Y are correlated within the same period</li>
                        <li onclick="checkAnswer('ch5', 19, 'C')"><input type="radio" name="ch5q19"> C) X and Y share a common trend</li>
                        <li onclick="checkAnswer('ch5', 19, 'D')"><input type="radio" name="ch5q19"> D) The VAR is stable</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer19-correct">
                        <strong>Correct!</strong> Instantaneous causality tests contemporaneous correlation of residuals: $Cov(\varepsilon_{1t}, \varepsilon_{2t}) = 0$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer19-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Instantaneous causality is about same-period correlation, not lags.
                    </div>
                </div>

                <!-- Question 20 -->
                <div class="quiz-question" id="ch5q20">
                    <h4>Question 20: Pre-Estimation Checks</h4>
                    <p>Before estimating a VAR, you should always check:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 20, 'A')"><input type="radio" name="ch5q20"> A) That all variables are I(2)</li>
                        <li onclick="checkAnswer('ch5', 20, 'B')"><input type="radio" name="ch5q20"> B) The stationarity of each variable</li>
                        <li onclick="checkAnswer('ch5', 20, 'C')"><input type="radio" name="ch5q20"> C) That variables are perfectly correlated</li>
                        <li onclick="checkAnswer('ch5', 20, 'D')"><input type="radio" name="ch5q20"> D) That the sample size is exactly 100</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer20-correct">
                        <strong>Correct!</strong> Standard VAR requires stationary variables. Use ADF/KPSS tests first; if I(1), consider VECM if cointegrated.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer20-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Always test for stationarity before VAR estimation.
                    </div>
                </div>

                <div style="margin-top: 2rem; text-align: center;">
                    <p id="score-display-ch5" style="font-size: 1.2rem; margin-bottom: 1rem; font-weight: bold;"></p>
                    <button onclick="calculateScore(5)" class="btn btn-secondary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none; margin-right: 1rem;">Check Score</button>
                    <button onclick="resetQuiz(5)" class="btn btn-primary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none;">Reset Quiz</button>
                </div>
            </div>

            <!-- Chapter 6 Quizzes (VAR & Granger Causality) -->
            <div class="quiz-container" id="chapter6-quizzes" style="display: none;">
                <h3 style="margin-bottom: 1.5rem;">Chapter 6: VAR Models & Granger Causality</h3>

                <div id="ch6-set1">
                <!-- Question 1 -->
                <div class="quiz-question" id="ch6q1">
                    <h4>Question 1: VAR Model Structure</h4>
                    <p>In a bivariate VAR(1), the equation for \\( Y_{1t} \\) includes:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch6', 1, 'A')"><input type="radio" name="ch6q1"> A) Only its own lagged values \\( Y_{1,t-1} \\)</li>
                        <li onclick="checkAnswer('ch6', 1, 'B')"><input type="radio" name="ch6q1"> B) Only the lagged values of \\( Y_{2,t-1} \\)</li>
                        <li onclick="checkAnswer('ch6', 1, 'C')"><input type="radio" name="ch6q1"> C) Lagged values of all variables: \\( Y_{1,t-1} \\) and \\( Y_{2,t-1} \\)</li>
                        <li onclick="checkAnswer('ch6', 1, 'D')"><input type="radio" name="ch6q1"> D) Current and lagged values of all variables</li>
                    </ul>
                </div>


                <!-- Question 2 -->
                <div class="quiz-question" id="ch6q2">
                    <h4>Question 2: Curse of Dimensionality</h4>
                    <p>A VAR(4) model with K=5 variables has how many parameters?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch6', 2, 'A')"><input type="radio" name="ch6q2"> A) 20</li>
                        <li onclick="checkAnswer('ch6', 2, 'B')"><input type="radio" name="ch6q2"> B) 100</li>
                        <li onclick="checkAnswer('ch6', 2, 'C')"><input type="radio" name="ch6q2"> C) 105</li>
                        <li onclick="checkAnswer('ch6', 2, 'D')"><input type="radio" name="ch6q2"> D) 125</li>
                    </ul>
                </div>


                <!-- Question 3 -->
                <div class="quiz-question" id="ch6q3">
                    <h4>Question 3: Stability Condition</h4>
                    <p>For a general VAR(p), the stability condition requires that all roots of \\( \\det(\\mathbf{I}_K - \\mathbf{A}_1 z - \\cdots - \\mathbf{A}_p z^p) = 0 \\) lie:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch6', 3, 'A')"><input type="radio" name="ch6q3"> A) Inside the unit circle</li>
                        <li onclick="checkAnswer('ch6', 3, 'B')"><input type="radio" name="ch6q3"> B) On the unit circle</li>
                        <li onclick="checkAnswer('ch6', 3, 'C')"><input type="radio" name="ch6q3"> C) Outside the unit circle</li>
                        <li onclick="checkAnswer('ch6', 3, 'D')"><input type="radio" name="ch6q3"> D) At the origin</li>
                    </ul>
                </div>


                <!-- Question 4 -->
                <div class="quiz-question" id="ch6q4">
                    <h4>Question 4: Granger Causality Test</h4>
                    <p>The Granger causality test uses which type of test statistic?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch6', 4, 'A')"><input type="radio" name="ch6q4"> A) Durbin-Watson statistic</li>
                        <li onclick="checkAnswer('ch6', 4, 'B')"><input type="radio" name="ch6q4"> B) Wald/F-test comparing restricted and unrestricted models</li>
                        <li onclick="checkAnswer('ch6', 4, 'C')"><input type="radio" name="ch6q4"> C) Augmented Dickey-Fuller statistic</li>
                        <li onclick="checkAnswer('ch6', 4, 'D')"><input type="radio" name="ch6q4"> D) Jarque-Bera statistic</li>
                    </ul>
                </div>


                <!-- Question 5 -->
                <div class="quiz-question" id="ch6q5">
                    <h4>Question 5: Autocovariance Matrix Property</h4>
                    <p>For a weakly stationary multivariate time series, the autocovariance matrix satisfies:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch6', 5, 'A')"><input type="radio" name="ch6q5"> A) \\( \\boldsymbol{\\Gamma}(-h) = \\boldsymbol{\\Gamma}(h) \\)</li>
                        <li onclick="checkAnswer('ch6', 5, 'B')"><input type="radio" name="ch6q5"> B) \\( \\boldsymbol{\\Gamma}(-h) = \\boldsymbol{\\Gamma}(h)' \\) (transpose)</li>
                        <li onclick="checkAnswer('ch6', 5, 'C')"><input type="radio" name="ch6q5"> C) \\( \\boldsymbol{\\Gamma}(-h) = -\\boldsymbol{\\Gamma}(h) \\)</li>
                        <li onclick="checkAnswer('ch6', 5, 'D')"><input type="radio" name="ch6q5"> D) \\( \\boldsymbol{\\Gamma}(-h) = \\boldsymbol{\\Gamma}(h)^{-1} \\)</li>
                    </ul>
                </div>


                <!-- Question 6 -->
                <div class="quiz-question" id="ch6q6">
                    <h4>Question 6: MA(infinity) Representation</h4>
                    <p>The impulse response matrices \\( \\boldsymbol{\\Phi}_h \\) in the MA(\\( \\infty \\)) representation of a VAR(1) are given by:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch6', 6, 'A')"><input type="radio" name="ch6q6"> A) \\( \\boldsymbol{\\Phi}_h = h \\cdot \\mathbf{A} \\)</li>
                        <li onclick="checkAnswer('ch6', 6, 'B')"><input type="radio" name="ch6q6"> B) \\( \\boldsymbol{\\Phi}_h = \\mathbf{A}^h \\)</li>
                        <li onclick="checkAnswer('ch6', 6, 'C')"><input type="radio" name="ch6q6"> C) \\( \\boldsymbol{\\Phi}_h = \\mathbf{A}^{-h} \\)</li>
                        <li onclick="checkAnswer('ch6', 6, 'D')"><input type="radio" name="ch6q6"> D) \\( \\boldsymbol{\\Phi}_h = \\boldsymbol{\\Sigma}^h \\)</li>
                    </ul>
                </div>


                <!-- Question 7 -->
                <div class="quiz-question" id="ch6q7">
                    <h4>Question 7: Orthogonalized IRFs</h4>
                    <p>The purpose of orthogonalizing IRFs using the Cholesky decomposition is to:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch6', 7, 'A')"><input type="radio" name="ch6q7"> A) Increase the number of parameters in the model</li>
                        <li onclick="checkAnswer('ch6', 7, 'B')"><input type="radio" name="ch6q7"> B) Make the model stationary</li>
                        <li onclick="checkAnswer('ch6', 7, 'C')"><input type="radio" name="ch6q7"> C) Produce uncorrelated shocks so that the effect of each shock can be isolated</li>
                        <li onclick="checkAnswer('ch6', 7, 'D')"><input type="radio" name="ch6q7"> D) Remove the constant term from the VAR</li>
                    </ul>
                </div>


                <!-- Question 8 -->
                <div class="quiz-question" id="ch6q8">
                    <h4>Question 8: FEVD Interpretation</h4>
                    <p>If FEVD shows that 70% of the forecast error variance of unemployment at horizon 8 is due to GDP shocks, this means:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch6', 8, 'A')"><input type="radio" name="ch6q8"> A) GDP directly causes 70% of unemployment</li>
                        <li onclick="checkAnswer('ch6', 8, 'B')"><input type="radio" name="ch6q8"> B) 70% of the uncertainty in forecasting unemployment 8 periods ahead is attributable to GDP shocks</li>
                        <li onclick="checkAnswer('ch6', 8, 'C')"><input type="radio" name="ch6q8"> C) Unemployment will increase by 70% after 8 periods</li>
                        <li onclick="checkAnswer('ch6', 8, 'D')"><input type="radio" name="ch6q8"> D) The correlation between GDP and unemployment is 0.70</li>
                    </ul>
                </div>


                <!-- Question 9 -->
                <div class="quiz-question" id="ch6q9">
                    <h4>Question 9: Granger Causality Numerical Example</h4>
                    <p>Given T=100, RSS_U=45.2, RSS_R=52.8, and p=2 lags, the F-statistic for the Granger causality test is approximately:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch6', 9, 'A')"><input type="radio" name="ch6q9"> A) 3.09</li>
                        <li onclick="checkAnswer('ch6', 9, 'B')"><input type="radio" name="ch6q9"> B) 5.42</li>
                        <li onclick="checkAnswer('ch6', 9, 'C')"><input type="radio" name="ch6q9"> C) 7.98</li>
                        <li onclick="checkAnswer('ch6', 9, 'D')"><input type="radio" name="ch6q9"> D) 12.35</li>
                    </ul>
                </div>


                <!-- Question 10 -->
                <div class="quiz-question" id="ch6q10">
                    <h4>Question 10: SVAR Identification</h4>
                    <p>Which of the following is NOT a common identification scheme for Structural VAR models?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch6', 10, 'A')"><input type="radio" name="ch6q10"> A) Short-run (Cholesky) restrictions</li>
                        <li onclick="checkAnswer('ch6', 10, 'B')"><input type="radio" name="ch6q10"> B) Long-run (Blanchard-Quah) restrictions</li>
                        <li onclick="checkAnswer('ch6', 10, 'C')"><input type="radio" name="ch6q10"> C) OLS residual minimization</li>
                        <li onclick="checkAnswer('ch6', 10, 'D')"><input type="radio" name="ch6q10"> D) Sign restrictions</li>
                    </ul>
                </div>



                                <div style="margin-top: 2rem; text-align: center;">
                                    <p id="score-display-ch6-set1" style="font-size: 1.2rem; margin-bottom: 1rem; font-weight: bold;"></p>
                                    <button onclick="toggleQuizSet('ch6', 2)" class="btn btn-secondary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none;">10 More Questions</button>
                                </div>
                </div>

                <div id="ch6-set2" style="display: none;">
                <!-- Question 11 -->
                <div class="quiz-question" id="ch6q11">
                    <h4>Question 11: Companion Form Purpose</h4>
                    <p>The companion form is useful because it:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch6', 11, 'A')"><input type="radio" name="ch6q11"> A) Reduces the number of parameters to estimate</li>
                        <li onclick="checkAnswer('ch6', 11, 'B')"><input type="radio" name="ch6q11"> B) Converts any VAR(p) into a VAR(1), simplifying stationarity analysis, forecasting, and IRF computation</li>
                        <li onclick="checkAnswer('ch6', 11, 'C')"><input type="radio" name="ch6q11"> C) Eliminates the need for the Cholesky decomposition</li>
                        <li onclick="checkAnswer('ch6', 11, 'D')"><input type="radio" name="ch6q11"> D) Makes the error covariance matrix diagonal</li>
                    </ul>
                </div>


                <!-- Question 12 -->
                <div class="quiz-question" id="ch6q12">
                    <h4>Question 12: Diagnostic Tests</h4>
                    <p>If the Portmanteau test for a VAR model's residuals is rejected, the most appropriate action is to:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch6', 12, 'A')"><input type="radio" name="ch6q12"> A) Apply a logarithmic transformation to the data</li>
                        <li onclick="checkAnswer('ch6', 12, 'B')"><input type="radio" name="ch6q12"> B) Increase the lag order p or add additional variables</li>
                        <li onclick="checkAnswer('ch6', 12, 'C')"><input type="radio" name="ch6q12"> C) Switch to a univariate ARIMA model</li>
                        <li onclick="checkAnswer('ch6', 12, 'D')"><input type="radio" name="ch6q12"> D) Remove the constant term from the model</li>
                    </ul>
                </div>


                <!-- Question 13 -->
                <div class="quiz-question" id="ch6q13">
                    <h4>Question 13: Cross-Covariance Properties</h4>
                    <p>Unlike the univariate case, the cross-covariance function satisfies:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch6', 13, 'A')"><input type="radio" name="ch6q13"> A) \\( \\gamma_{ij}(h) = \\gamma_{ij}(-h) \\) always</li>
                        <li onclick="checkAnswer('ch6', 13, 'B')"><input type="radio" name="ch6q13"> B) \\( \\gamma_{ij}(h) = \\gamma_{ji}(-h) \\), but generally \\( \\gamma_{ij}(h) \
                eq \\gamma_{ij}(-h) \\)</li>
                        <li onclick="checkAnswer('ch6', 13, 'C')"><input type="radio" name="ch6q13"> C) \\( \\gamma_{ij}(h) = 0 \\) for all \\( h \
                eq 0 \\)</li>
                        <li onclick="checkAnswer('ch6', 13, 'D')"><input type="radio" name="ch6q13"> D) \\( \\gamma_{ij}(h) = \\gamma_{ij}(h+1) \\) for all h</li>
                    </ul>
                </div>


                <!-- Question 14 -->
                <div class="quiz-question" id="ch6q14">
                    <h4>Question 14: Forecast Error MSE</h4>
                    <p>For a stable VAR(1), as the forecast horizon h increases, the mean squared error matrix converges to:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch6', 14, 'A')"><input type="radio" name="ch6q14"> A) The zero matrix</li>
                        <li onclick="checkAnswer('ch6', 14, 'B')"><input type="radio" name="ch6q14"> B) The innovation covariance matrix \\( \\boldsymbol{\\Sigma} \\)</li>
                        <li onclick="checkAnswer('ch6', 14, 'C')"><input type="radio" name="ch6q14"> C) The unconditional variance \\( \\boldsymbol{\\Gamma}(0) \\)</li>
                        <li onclick="checkAnswer('ch6', 14, 'D')"><input type="radio" name="ch6q14"> D) Infinity</li>
                    </ul>
                </div>


                <!-- Question 15 -->
                <div class="quiz-question" id="ch6q15">
                    <h4>Question 15: Restricted VAR</h4>
                    <p>The likelihood ratio test for restrictions in a VAR model follows which distribution under the null?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch6', 15, 'A')"><input type="radio" name="ch6q15"> A) Normal distribution</li>
                        <li onclick="checkAnswer('ch6', 15, 'B')"><input type="radio" name="ch6q15"> B) F-distribution</li>
                        <li onclick="checkAnswer('ch6', 15, 'C')"><input type="radio" name="ch6q15"> C) Chi-squared distribution with r degrees of freedom</li>
                        <li onclick="checkAnswer('ch6', 15, 'D')"><input type="radio" name="ch6q15"> D) Student's t-distribution</li>
                    </ul>
                </div>


                <!-- Question 16 -->
                <div class="quiz-question" id="ch6q16">
                    <h4>Question 16: Eigenvalue Example</h4>
                    <p>For the matrix \\( \\mathbf{A} = \\begin{pmatrix} 0.7 & 0.2 \\\\ -0.1 & 0.6 \\end{pmatrix} \\), the eigenvalues are \\( \\lambda = 0.65 \\pm 0.132i \\). The modulus \\( |\\lambda| \\) equals:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch6', 16, 'A')"><input type="radio" name="ch6q16"> A) 0.782</li>
                        <li onclick="checkAnswer('ch6', 16, 'B')"><input type="radio" name="ch6q16"> B) 0.663</li>
                        <li onclick="checkAnswer('ch6', 16, 'C')"><input type="radio" name="ch6q16"> C) 1.30</li>
                        <li onclick="checkAnswer('ch6', 16, 'D')"><input type="radio" name="ch6q16"> D) 0.44</li>
                    </ul>
                </div>


                <!-- Question 17 -->
                <div class="quiz-question" id="ch6q17">
                    <h4>Question 17: Granger Causality Pitfalls</h4>
                    <p>Which of the following is a common pitfall when applying Granger causality tests?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch6', 17, 'A')"><input type="radio" name="ch6q17"> A) Using too many variables in the VAR</li>
                        <li onclick="checkAnswer('ch6', 17, 'B')"><input type="radio" name="ch6q17"> B) A third omitted variable Z may cause both X and Y, creating a spurious Granger causal relationship</li>
                        <li onclick="checkAnswer('ch6', 17, 'C')"><input type="radio" name="ch6q17"> C) The test cannot be applied to quarterly data</li>
                        <li onclick="checkAnswer('ch6', 17, 'D')"><input type="radio" name="ch6q17"> D) Granger causality always implies true economic causation</li>
                    </ul>
                </div>


                <!-- Question 18 -->
                <div class="quiz-question" id="ch6q18">
                    <h4>Question 18: Bootstrap Confidence Intervals</h4>
                    <p>The bootstrap procedure for IRF confidence intervals involves:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch6', 18, 'A')"><input type="radio" name="ch6q18"> A) Estimating the model only once and using analytical formulas</li>
                        <li onclick="checkAnswer('ch6', 18, 'B')"><input type="radio" name="ch6q18"> B) Resampling residuals with replacement, re-estimating the VAR, and computing IRFs repeatedly</li>
                        <li onclick="checkAnswer('ch6', 18, 'C')"><input type="radio" name="ch6q18"> C) Increasing the sample size by adding artificial data points</li>
                        <li onclick="checkAnswer('ch6', 18, 'D')"><input type="radio" name="ch6q18"> D) Removing outliers from the dataset and re-estimating</li>
                    </ul>
                </div>


                <!-- Question 19 -->
                <div class="quiz-question" id="ch6q19">
                    <h4>Question 19: Diebold-Mariano Test</h4>
                    <p>The Diebold-Mariano test is used to:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch6', 19, 'A')"><input type="radio" name="ch6q19"> A) Test for Granger causality between two variables</li>
                        <li onclick="checkAnswer('ch6', 19, 'B')"><input type="radio" name="ch6q19"> B) Test for the presence of unit roots</li>
                        <li onclick="checkAnswer('ch6', 19, 'C')"><input type="radio" name="ch6q19"> C) Test whether one forecasting model is significantly more accurate than another</li>
                        <li onclick="checkAnswer('ch6', 19, 'D')"><input type="radio" name="ch6q19"> D) Test for normality of VAR residuals</li>
                    </ul>
                </div>


                <!-- Question 20 -->
                <div class="quiz-question" id="ch6q20">
                    <h4>Question 20: Cumulative IRF</h4>
                    <p>The long-run multiplier (cumulative IRF as \\( H \\to \\infty \\)) for a stable VAR is given by:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch6', 20, 'A')"><input type="radio" name="ch6q20"> A) \\( \\boldsymbol{\\Psi}_\\infty = \\mathbf{A}_1 + \\mathbf{A}_2 + \\cdots + \\mathbf{A}_p \\)</li>
                        <li onclick="checkAnswer('ch6', 20, 'B')"><input type="radio" name="ch6q20"> B) \\( \\boldsymbol{\\Psi}_\\infty = (\\mathbf{I}_K - \\mathbf{A}_1 - \\mathbf{A}_2 - \\cdots - \\mathbf{A}_p)^{-1} \\)</li>
                        <li onclick="checkAnswer('ch6', 20, 'C')"><input type="radio" name="ch6q20"> C) \\( \\boldsymbol{\\Psi}_\\infty = \\mathbf{I}_K \\)</li>
                        <li onclick="checkAnswer('ch6', 20, 'D')"><input type="radio" name="ch6q20"> D) \\( \\boldsymbol{\\Psi}_\\infty = \\mathbf{0} \\)</li>
                    </ul>
                </div>

                </div>

                                <div style="margin-top: 2rem; text-align: center;">
                                    <p id="score-display-ch6" style="font-size: 1.2rem; margin-bottom: 1rem; font-weight: bold;"></p>
                                    <button onclick="calculateScore(6)" class="btn btn-secondary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none; margin-right: 1rem;">Check Score</button>
                                    <button onclick="resetQuiz(6)" class="btn btn-primary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none;">Reset Quiz</button>
                                    <div id="answer-key-ch6" style="display: none; margin-top: 1rem;"></div>
                                </div>
            </div>

            <!-- Chapter 7 Quizzes (Cointegration & VECM) -->
            <div class="quiz-container" id="chapter7-quizzes" style="display: none;">
                <h3 style="margin-bottom: 1.5rem;">Chapter 7: Cointegration & VECM</h3>
                <p style="color: #666;">Quiz content coming soon...</p>
            </div>

            <!-- Chapter 8 Quizzes (Modern Extensions) -->
            <div class="quiz-container" id="chapter8-quizzes" style="display: none;">
                <h3 style="margin-bottom: 1.5rem;">Chapter 8: Modern Extensions (ARFIMA, RF, LSTM)</h3>

                <!-- Ch8 Question 1 -->
                <div class="quiz-question" id="ch8q1">
                    <h4>Question 1: Hurst Exponent Interpretation</h4>
                    <p>A time series has Hurst exponent $H = 0.8$. What does this indicate?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch8', 1, 'A')"><input type="radio" name="ch8q1"> A) The series is a pure random walk</li>
                        <li onclick="checkAnswer('ch8', 1, 'B')"><input type="radio" name="ch8q1"> B) The series has long memory and is persistent (trend-following)</li>
                        <li onclick="checkAnswer('ch8', 1, 'C')"><input type="radio" name="ch8q1"> C) The series is anti-persistent (mean-reverting)</li>
                        <li onclick="checkAnswer('ch8', 1, 'D')"><input type="radio" name="ch8q1"> D) The series is stationary I(0)</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch8answer1-correct">
                        <strong>Correct!</strong> $H > 0.5$ indicates persistence/long memory. With $H = 0.8$, high values tend to follow high values (trend-following behavior).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch8answer1-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. $H = 0.5$ means random walk, $H > 0.5$ means persistence, $H < 0.5$ means anti-persistence.
                    </div>
                </div>

                <!-- Ch8 Question 2 -->
                <div class="quiz-question" id="ch8q2">
                    <h4>Question 2: ARFIMA Parameter d</h4>
                    <p>In the ARFIMA(p, d, q) model, the parameter $d$ can take values:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch8', 2, 'A')"><input type="radio" name="ch8q2"> A) Only integer values (0, 1, 2, ...)</li>
                        <li onclick="checkAnswer('ch8', 2, 'B')"><input type="radio" name="ch8q2"> B) Only $d = 0$ or $d = 1$</li>
                        <li onclick="checkAnswer('ch8', 2, 'C')"><input type="radio" name="ch8q2"> C) Any real value, including fractional</li>
                        <li onclick="checkAnswer('ch8', 2, 'D')"><input type="radio" name="ch8q2"> D) Only negative values</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch8answer2-correct">
                        <strong>Correct!</strong> ARFIMA allows fractional differencing: $0 < d < 0.5$ gives stationary long memory, $0.5 \leq d < 1$ gives non-stationary long memory. Relation to Hurst: $d = H - 0.5$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch8answer2-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Unlike ARIMA which uses integer $d$, ARFIMA allows any real value for fractional differencing.
                    </div>
                </div>

                <!-- Ch8 Question 3 -->
                <div class="quiz-question" id="ch8q3">
                    <h4>Question 3: Long Memory in Finance</h4>
                    <p>In which financial series is long memory most commonly documented?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch8', 3, 'A')"><input type="radio" name="ch8q3"> A) Stock prices</li>
                        <li onclick="checkAnswer('ch8', 3, 'B')"><input type="radio" name="ch8q3"> B) Daily returns</li>
                        <li onclick="checkAnswer('ch8', 3, 'C')"><input type="radio" name="ch8q3"> C) Volatility (squared returns)</li>
                        <li onclick="checkAnswer('ch8', 3, 'D')"><input type="radio" name="ch8q3"> D) Trading volume</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch8answer3-correct">
                        <strong>Correct!</strong> Returns are approximately memoryless ($H \approx 0.5$), but volatility shows strong long memory ($H \approx 0.7-0.9$). This is a key stylized fact in finance.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch8answer3-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Volatility clustering creates long memory in squared returns, which is the basis for FIGARCH models.
                    </div>
                </div>

                <!-- Ch8 Question 4 -->
                <div class="quiz-question" id="ch8q4">
                    <h4>Question 4: Feature Engineering for ML</h4>
                    <p>To apply Random Forest to time series forecasting, we must create:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch8', 4, 'A')"><input type="radio" name="ch8q4"> A) Dummy variables for each observation</li>
                        <li onclick="checkAnswer('ch8', 4, 'B')"><input type="radio" name="ch8q4"> B) Lag features and rolling statistics</li>
                        <li onclick="checkAnswer('ch8', 4, 'C')"><input type="radio" name="ch8q4"> C) Fourier transforms of the series</li>
                        <li onclick="checkAnswer('ch8', 4, 'D')"><input type="radio" name="ch8q4"> D) Only the first difference of the series</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch8answer4-correct">
                        <strong>Correct!</strong> Feature engineering transforms time series into supervised learning: lag features ($y_{t-1}, y_{t-2}, ...$), rolling mean/std, and calendar features (day of week, etc.).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch8answer4-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. We need to create features that capture temporal patterns: lags, rolling statistics, and calendar variables.
                    </div>
                </div>

                <!-- Ch8 Question 5 -->
                <div class="quiz-question" id="ch8q5">
                    <h4>Question 5: Time Series Cross-Validation</h4>
                    <p>Why can't we use standard k-fold cross-validation for time series?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch8', 5, 'A')"><input type="radio" name="ch8q5"> A) It's too slow for long series</li>
                        <li onclick="checkAnswer('ch8', 5, 'B')"><input type="radio" name="ch8q5"> B) It violates temporal order and causes data leakage</li>
                        <li onclick="checkAnswer('ch8', 5, 'C')"><input type="radio" name="ch8q5"> C) It only works for classification</li>
                        <li onclick="checkAnswer('ch8', 5, 'D')"><input type="radio" name="ch8q5"> D) It requires too much data</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch8answer5-correct">
                        <strong>Correct!</strong> Standard k-fold shuffles data randomly, training on future data and testing on past. This creates data leakage and overestimates performance. Use TimeSeriesSplit instead!
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch8answer5-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Time series must preserve temporal order; use walk-forward validation (TimeSeriesSplit).
                    </div>
                </div>

                <!-- Ch8 Question 6 -->
                <div class="quiz-question" id="ch8q6">
                    <h4>Question 6: LSTM Advantage</h4>
                    <p>What is the main advantage of LSTM over simple RNNs?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch8', 6, 'A')"><input type="radio" name="ch8q6"> A) It's faster to train</li>
                        <li onclick="checkAnswer('ch8', 6, 'B')"><input type="radio" name="ch8q6"> B) It solves the vanishing/exploding gradient problem</li>
                        <li onclick="checkAnswer('ch8', 6, 'C')"><input type="radio" name="ch8q6"> C) It requires less data</li>
                        <li onclick="checkAnswer('ch8', 6, 'D')"><input type="radio" name="ch8q6"> D) It's easier to interpret</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch8answer6-correct">
                        <strong>Correct!</strong> LSTM's cell state and gates (forget, input, output) allow gradients to flow through long sequences without vanishing, enabling learning of long-range dependencies.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch8answer6-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. The cell state acts as an "information highway" that prevents gradient degradation.
                    </div>
                </div>

                <!-- Ch8 Question 7 -->
                <div class="quiz-question" id="ch8q7">
                    <h4>Question 7: Data Normalization</h4>
                    <p>Before training an LSTM, data should be:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch8', 7, 'A')"><input type="radio" name="ch8q7"> A) Log-transformed</li>
                        <li onclick="checkAnswer('ch8', 7, 'B')"><input type="radio" name="ch8q7"> B) Normalized/scaled to [0,1] or [-1,1]</li>
                        <li onclick="checkAnswer('ch8', 7, 'C')"><input type="radio" name="ch8q7"> C) Differenced twice</li>
                        <li onclick="checkAnswer('ch8', 7, 'D')"><input type="radio" name="ch8q7"> D) Converted to integers</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch8answer7-correct">
                        <strong>Correct!</strong> Activation functions (sigmoid, tanh) work in limited ranges. Normalization ensures faster convergence and numerical stability. Important: fit scaler on train data only!
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch8answer7-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Use MinMaxScaler or StandardScaler before training neural networks.
                    </div>
                </div>

                <!-- Ch8 Question 8 -->
                <div class="quiz-question" id="ch8q8">
                    <h4>Question 8: LSTM Hyperparameters</h4>
                    <p>Which is NOT a typical LSTM hyperparameter?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch8', 8, 'A')"><input type="radio" name="ch8q8"> A) Number of units (neurons) per layer</li>
                        <li onclick="checkAnswer('ch8', 8, 'B')"><input type="radio" name="ch8q8"> B) Input sequence length</li>
                        <li onclick="checkAnswer('ch8', 8, 'C')"><input type="radio" name="ch8q8"> C) Learning rate</li>
                        <li onclick="checkAnswer('ch8', 8, 'D')"><input type="radio" name="ch8q8"> D) Differencing parameter $d$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch8answer8-correct">
                        <strong>Correct!</strong> The differencing parameter $d$ is specific to ARFIMA, not LSTM. LSTM hyperparameters include architecture (layers, units), sequence length, learning rate, batch size, dropout.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch8answer8-incorrect">
                        <strong>Incorrect.</strong> The correct answer is D. Parameter $d$ belongs to ARFIMA; it's not used in neural network models.
                    </div>
                </div>

                <!-- Ch8 Question 9 -->
                <div class="quiz-question" id="ch8q9">
                    <h4>Question 9: Feature Importance</h4>
                    <p>Feature importance in Random Forest for time series helps us:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch8', 9, 'A')"><input type="radio" name="ch8q9"> A) Eliminate all low-importance variables</li>
                        <li onclick="checkAnswer('ch8', 9, 'B')"><input type="radio" name="ch8q9"> B) Identify which lags and features are most predictive</li>
                        <li onclick="checkAnswer('ch8', 9, 'C')"><input type="radio" name="ch8q9"> C) Determine Granger causality</li>
                        <li onclick="checkAnswer('ch8', 9, 'D')"><input type="radio" name="ch8q9"> D) Calculate confidence intervals</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch8answer9-correct">
                        <strong>Correct!</strong> Feature importance reveals which lags and engineered features matter most. Caution: it shows predictive power, not causality. Correlated features may share importance.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch8answer9-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Feature importance identifies predictive features but does not prove causality.
                    </div>
                </div>

                <!-- Ch8 Question 10 -->
                <div class="quiz-question" id="ch8q10">
                    <h4>Question 10: Model Selection</h4>
                    <p>When comparing ARFIMA, Random Forest, and LSTM for forecasting:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch8', 10, 'A')"><input type="radio" name="ch8q10"> A) LSTM always wins because it's deep learning</li>
                        <li onclick="checkAnswer('ch8', 10, 'B')"><input type="radio" name="ch8q10"> B) ARFIMA is always best for financial data</li>
                        <li onclick="checkAnswer('ch8', 10, 'C')"><input type="radio" name="ch8q10"> C) The best model depends on data characteristics and requirements</li>
                        <li onclick="checkAnswer('ch8', 10, 'D')"><input type="radio" name="ch8q10"> D) Random Forest can't be used for time series</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch8answer10-correct">
                        <strong>Correct!</strong> ARFIMA: long memory, interpretability. RF: nonlinear relations, feature importance. LSTM: complex patterns, long sequences. Always validate with time series CV!
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch8answer10-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. No single model dominates; choose based on data characteristics, interpretability needs, and available data.
                    </div>
                </div>

                <!-- Ch8 Question 11 -->
                <div class="quiz-question" id="ch8q11">
                    <h4>Question 11: ACF Decay Pattern</h4>
                    <p>Long memory processes have ACF that decays:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch8', 11, 'A')"><input type="radio" name="ch8q11"> A) Exponentially fast</li>
                        <li onclick="checkAnswer('ch8', 11, 'B')"><input type="radio" name="ch8q11"> B) Hyperbolically (slowly)</li>
                        <li onclick="checkAnswer('ch8', 11, 'C')"><input type="radio" name="ch8q11"> C) Linearly</li>
                        <li onclick="checkAnswer('ch8', 11, 'D')"><input type="radio" name="ch8q11"> D) Immediately to zero</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch8answer11-correct">
                        <strong>Correct!</strong> Long memory: $\rho(k) \sim k^{2d-1}$ (hyperbolic decay). Short memory (ARMA): exponential decay. This slow decay is the defining characteristic.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch8answer11-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Long memory processes have slowly decaying (hyperbolic) autocorrelations, unlike ARMA which decays exponentially.
                    </div>
                </div>

                <!-- Ch8 Question 12 -->
                <div class="quiz-question" id="ch8q12">
                    <h4>Question 12: ARFIMA Stationarity</h4>
                    <p>An ARFIMA process with $d = 0.3$ is:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch8', 12, 'A')"><input type="radio" name="ch8q12"> A) Non-stationary</li>
                        <li onclick="checkAnswer('ch8', 12, 'B')"><input type="radio" name="ch8q12"> B) Stationary with long memory</li>
                        <li onclick="checkAnswer('ch8', 12, 'C')"><input type="radio" name="ch8q12"> C) Stationary with short memory</li>
                        <li onclick="checkAnswer('ch8', 12, 'D')"><input type="radio" name="ch8q12"> D) A unit root process</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch8answer12-correct">
                        <strong>Correct!</strong> For $0 < d < 0.5$, the process is stationary but has long memory. For $d \geq 0.5$, it becomes non-stationary.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch8answer12-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. With $d = 0.3$ (between 0 and 0.5), the process is stationary but exhibits long memory.
                    </div>
                </div>

                <!-- Ch8 Question 13 -->
                <div class="quiz-question" id="ch8q13">
                    <h4>Question 13: Random Forest Ensemble</h4>
                    <p>Random Forest reduces overfitting compared to a single decision tree by:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch8', 13, 'A')"><input type="radio" name="ch8q13"> A) Using deeper trees</li>
                        <li onclick="checkAnswer('ch8', 13, 'B')"><input type="radio" name="ch8q13"> B) Averaging predictions from many trees trained on bootstrap samples</li>
                        <li onclick="checkAnswer('ch8', 13, 'C')"><input type="radio" name="ch8q13"> C) Using fewer features</li>
                        <li onclick="checkAnswer('ch8', 13, 'D')"><input type="radio" name="ch8q13"> D) Training on the full dataset only</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch8answer13-correct">
                        <strong>Correct!</strong> Bagging (bootstrap aggregating) + random feature selection creates diversity. Averaging many trees reduces variance without increasing bias.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch8answer13-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Random Forest uses ensemble averaging of trees trained on bootstrap samples with random feature subsets.
                    </div>
                </div>

                <!-- Ch8 Question 14 -->
                <div class="quiz-question" id="ch8q14">
                    <h4>Question 14: Data Leakage</h4>
                    <p>Which is an example of data leakage in time series ML?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch8', 14, 'A')"><input type="radio" name="ch8q14"> A) Using lag features</li>
                        <li onclick="checkAnswer('ch8', 14, 'B')"><input type="radio" name="ch8q14"> B) Scaling data using statistics from the entire dataset (train+test)</li>
                        <li onclick="checkAnswer('ch8', 14, 'C')"><input type="radio" name="ch8q14"> C) Using rolling window features</li>
                        <li onclick="checkAnswer('ch8', 14, 'D')"><input type="radio" name="ch8q14"> D) Splitting data chronologically</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch8answer14-correct">
                        <strong>Correct!</strong> Scaling with test data statistics leaks future information. Always fit scaler on training data only, then transform both train and test.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch8answer14-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Using full dataset statistics for scaling incorporates future information into training.
                    </div>
                </div>

                <!-- Ch8 Question 15 -->
                <div class="quiz-question" id="ch8q15">
                    <h4>Question 15: LSTM Gates</h4>
                    <p>Which gate in LSTM decides what information to discard from the cell state?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch8', 15, 'A')"><input type="radio" name="ch8q15"> A) Input gate</li>
                        <li onclick="checkAnswer('ch8', 15, 'B')"><input type="radio" name="ch8q15"> B) Forget gate</li>
                        <li onclick="checkAnswer('ch8', 15, 'C')"><input type="radio" name="ch8q15"> C) Output gate</li>
                        <li onclick="checkAnswer('ch8', 15, 'D')"><input type="radio" name="ch8q15"> D) Update gate</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch8answer15-correct">
                        <strong>Correct!</strong> Forget gate: $f_t = \sigma(W_f[h_{t-1}, x_t] + b_f)$. Output close to 0 means "forget", close to 1 means "keep".
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch8answer15-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. The forget gate controls what information from the previous cell state to discard.
                    </div>
                </div>

                <!-- Ch8 Question 16 -->
                <div class="quiz-question" id="ch8q16">
                    <h4>Question 16: Dropout Regularization</h4>
                    <p>Dropout in LSTM helps to:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch8', 16, 'A')"><input type="radio" name="ch8q16"> A) Speed up training</li>
                        <li onclick="checkAnswer('ch8', 16, 'B')"><input type="radio" name="ch8q16"> B) Prevent overfitting by randomly zeroing neurons</li>
                        <li onclick="checkAnswer('ch8', 16, 'C')"><input type="radio" name="ch8q16"> C) Increase model capacity</li>
                        <li onclick="checkAnswer('ch8', 16, 'D')"><input type="radio" name="ch8q16"> D) Handle missing data</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch8answer16-correct">
                        <strong>Correct!</strong> Dropout randomly sets neurons to zero during training, forcing the network to learn redundant representations. This reduces overfitting.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch8answer16-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Dropout is a regularization technique that prevents overfitting.
                    </div>
                </div>

                <!-- Ch8 Question 17 -->
                <div class="quiz-question" id="ch8q17">
                    <h4>Question 17: Early Stopping</h4>
                    <p>Early stopping monitors validation loss to:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch8', 17, 'A')"><input type="radio" name="ch8q17"> A) Speed up computation</li>
                        <li onclick="checkAnswer('ch8', 17, 'B')"><input type="radio" name="ch8q17"> B) Stop training when the model starts overfitting</li>
                        <li onclick="checkAnswer('ch8', 17, 'C')"><input type="radio" name="ch8q17"> C) Select the best features</li>
                        <li onclick="checkAnswer('ch8', 17, 'D')"><input type="radio" name="ch8q17"> D) Adjust the learning rate</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch8answer17-correct">
                        <strong>Correct!</strong> When validation loss stops improving (or starts increasing), training stops. This prevents overfitting to training data.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch8answer17-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Early stopping halts training when validation performance degrades, indicating overfitting.
                    </div>
                </div>

                <!-- Ch8 Question 18 -->
                <div class="quiz-question" id="ch8q18">
                    <h4>Question 18: Sequence Length</h4>
                    <p>Choosing the LSTM input sequence length (lookback) involves:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch8', 18, 'A')"><input type="radio" name="ch8q18"> A) Always using the maximum available data</li>
                        <li onclick="checkAnswer('ch8', 18, 'B')"><input type="radio" name="ch8q18"> B) Balancing memory capacity vs. computational cost</li>
                        <li onclick="checkAnswer('ch8', 18, 'C')"><input type="radio" name="ch8q18"> C) Using exactly 30 time steps</li>
                        <li onclick="checkAnswer('ch8', 18, 'D')"><input type="radio" name="ch8q18"> D) Matching the seasonal period only</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch8answer18-correct">
                        <strong>Correct!</strong> Longer sequences capture more history but increase computation and may not help if dependencies are short. Use domain knowledge and experimentation.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch8answer18-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Sequence length is a hyperparameter that should be tuned based on the data's temporal dependencies.
                    </div>
                </div>

                <!-- Ch8 Question 19 -->
                <div class="quiz-question" id="ch8q19">
                    <h4>Question 19: R/S Analysis</h4>
                    <p>The R/S (Rescaled Range) statistic is used to estimate:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch8', 19, 'A')"><input type="radio" name="ch8q19"> A) The ARIMA order</li>
                        <li onclick="checkAnswer('ch8', 19, 'B')"><input type="radio" name="ch8q19"> B) The Hurst exponent</li>
                        <li onclick="checkAnswer('ch8', 19, 'C')"><input type="radio" name="ch8q19"> C) The GARCH parameters</li>
                        <li onclick="checkAnswer('ch8', 19, 'D')"><input type="radio" name="ch8q19"> D) The seasonal period</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch8answer19-correct">
                        <strong>Correct!</strong> R/S analysis: $E[R/S] \sim cn^H$. Plot $\log(R/S)$ vs $\log(n)$; slope estimates $H$. Developed by Hurst for Nile River floods.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch8answer19-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. The R/S statistic is a classical method to estimate the Hurst exponent.
                    </div>
                </div>

                <!-- Ch8 Question 20 -->
                <div class="quiz-question" id="ch8q20">
                    <h4>Question 20: Direction Accuracy</h4>
                    <p>Direction accuracy measures:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch8', 20, 'A')"><input type="radio" name="ch8q20"> A) The magnitude of forecast errors</li>
                        <li onclick="checkAnswer('ch8', 20, 'B')"><input type="radio" name="ch8q20"> B) How often the model correctly predicts up/down movements</li>
                        <li onclick="checkAnswer('ch8', 20, 'C')"><input type="radio" name="ch8q20"> C) The correlation between forecast and actual</li>
                        <li onclick="checkAnswer('ch8', 20, 'D')"><input type="radio" name="ch8q20"> D) The variance of forecast errors</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch8answer20-correct">
                        <strong>Correct!</strong> Direction accuracy = % of times sign($\Delta \hat{y}$) = sign($\Delta y$). Important for trading strategies even if RMSE is high.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch8answer20-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Direction accuracy measures the proportion of correctly predicted directional moves.
                    </div>
                </div>

                <div style="margin-top: 2rem; text-align: center;">
                    <p id="score-display-ch8" style="font-size: 1.2rem; margin-bottom: 1rem; font-weight: bold;"></p>
                    <button onclick="calculateScore(8)" class="btn btn-secondary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none; margin-right: 1rem;">Check Score</button>
                    <button onclick="resetQuiz(8)" class="btn btn-primary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none;">Reset Quiz</button>
                </div>
            </div>

            <!-- Chapter 9 Quizzes (Prophet & TBATS) -->
            <div class="quiz-container" id="chapter9-quizzes" style="display: none;">
                <h3 style="margin-bottom: 1.5rem;">Chapter 9: Prophet & TBATS for Multiple Seasonality</h3>

                <!-- Ch9 Question 1 -->
                <div class="quiz-question" id="ch9q1">
                    <h4>Question 1: Multiple Seasonality Challenge</h4>
                    <p>Why can't standard SARIMA handle hourly electricity demand data?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch9', 1, 'A')"><input type="radio" name="ch9q1"> A) SARIMA can only handle monthly data</li>
                        <li onclick="checkAnswer('ch9', 1, 'B')"><input type="radio" name="ch9q1"> B) SARIMA allows only one seasonal period ($m$ parameter)</li>
                        <li onclick="checkAnswer('ch9', 1, 'C')"><input type="radio" name="ch9q1"> C) SARIMA doesn't support trend components</li>
                        <li onclick="checkAnswer('ch9', 1, 'D')"><input type="radio" name="ch9q1"> D) SARIMA requires normally distributed data</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch9answer1-correct">
                        <strong>Correct!</strong> Hourly data has daily (24h), weekly (168h), and annual (8760h) patterns. SARIMA's single $m$ parameter cannot capture all these simultaneously.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch9answer1-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. SARIMA only allows one seasonal period, making it unsuitable for multiple seasonality.
                    </div>
                </div>

                <!-- Ch9 Question 2 -->
                <div class="quiz-question" id="ch9q2">
                    <h4>Question 2: TBATS Acronym</h4>
                    <p>What does TBATS stand for?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch9', 2, 'A')"><input type="radio" name="ch9q2"> A) Trend, Baseline, ARMA, Transform, Seasonal</li>
                        <li onclick="checkAnswer('ch9', 2, 'B')"><input type="radio" name="ch9q2"> B) Trigonometric, Box-Cox, ARMA, Trend, Seasonal</li>
                        <li onclick="checkAnswer('ch9', 2, 'C')"><input type="radio" name="ch9q2"> C) Time-Based Automatic Time Series</li>
                        <li onclick="checkAnswer('ch9', 2, 'D')"><input type="radio" name="ch9q2"> D) Temporal Bayesian Adaptive Trend System</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch9answer2-correct">
                        <strong>Correct!</strong> TBATS: Trigonometric (Fourier terms), Box-Cox (variance stabilization), ARMA (errors), Trend (damped local), Seasonal (multiple periods).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch9answer2-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Each letter represents a component of the model.
                    </div>
                </div>

                <!-- Ch9 Question 3 -->
                <div class="quiz-question" id="ch9q3">
                    <h4>Question 3: Fourier Terms</h4>
                    <p>In TBATS, increasing the number of Fourier harmonics ($K$) for a seasonal pattern:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch9', 3, 'A')"><input type="radio" name="ch9q3"> A) Always improves forecast accuracy</li>
                        <li onclick="checkAnswer('ch9', 3, 'B')"><input type="radio" name="ch9q3"> B) Allows more flexible (complex) seasonal shapes</li>
                        <li onclick="checkAnswer('ch9', 3, 'C')"><input type="radio" name="ch9q3"> C) Reduces the model complexity</li>
                        <li onclick="checkAnswer('ch9', 3, 'D')"><input type="radio" name="ch9q3"> D) Eliminates the need for Box-Cox transformation</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch9answer3-correct">
                        <strong>Correct!</strong> More harmonics = more flexibility but also more parameters (risk of overfitting). Maximum useful $K = m/2$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch9answer3-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. More Fourier terms allow more complex seasonal patterns.
                    </div>
                </div>

                <!-- Ch9 Question 4 -->
                <div class="quiz-question" id="ch9q4">
                    <h4>Question 4: Prophet Decomposition</h4>
                    <p>Prophet decomposes a time series into which components?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch9', 4, 'A')"><input type="radio" name="ch9q4"> A) AR, MA, and seasonal components</li>
                        <li onclick="checkAnswer('ch9', 4, 'B')"><input type="radio" name="ch9q4"> B) Trend, seasonality, holidays, and error</li>
                        <li onclick="checkAnswer('ch9', 4, 'C')"><input type="radio" name="ch9q4"> C) Mean, variance, and autocorrelation</li>
                        <li onclick="checkAnswer('ch9', 4, 'D')"><input type="radio" name="ch9q4"> D) Level, slope, and curvature</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch9answer4-correct">
                        <strong>Correct!</strong> Prophet: $y(t) = g(t) + s(t) + h(t) + \varepsilon_t$ where $g$ = trend, $s$ = seasonality, $h$ = holidays.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch9answer4-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Prophet uses an additive model with trend, seasonality, holidays, and error.
                    </div>
                </div>

                <!-- Ch9 Question 5 -->
                <div class="quiz-question" id="ch9q5">
                    <h4>Question 5: Prophet vs TBATS</h4>
                    <p>When would you choose Prophet over TBATS?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch9', 5, 'A')"><input type="radio" name="ch9q5"> A) When you need automatic model selection</li>
                        <li onclick="checkAnswer('ch9', 5, 'B')"><input type="radio" name="ch9q5"> B) When you have known holidays and changepoints to incorporate</li>
                        <li onclick="checkAnswer('ch9', 5, 'C')"><input type="radio" name="ch9q5"> C) When you need the most parsimonious model</li>
                        <li onclick="checkAnswer('ch9', 5, 'D')"><input type="radio" name="ch9q5"> D) When your data has no trend</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch9answer5-correct">
                        <strong>Correct!</strong> Prophet excels at incorporating domain knowledge: holidays, events, known changepoints. TBATS is better for automatic modeling.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch9answer5-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Prophet's strength is easy integration of domain knowledge.
                    </div>
                </div>

                <!-- Ch9 Question 6 -->
                <div class="quiz-question" id="ch9q6">
                    <h4>Question 6: Seasonality Mode</h4>
                    <p>For retail sales where December sales are 3x the monthly average, which seasonality mode is more appropriate in Prophet?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch9', 6, 'A')"><input type="radio" name="ch9q6"> A) Additive seasonality</li>
                        <li onclick="checkAnswer('ch9', 6, 'B')"><input type="radio" name="ch9q6"> B) Multiplicative seasonality</li>
                        <li onclick="checkAnswer('ch9', 6, 'C')"><input type="radio" name="ch9q6"> C) Both work equally well</li>
                        <li onclick="checkAnswer('ch9', 6, 'D')"><input type="radio" name="ch9q6"> D) Neither---use ARIMA instead</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch9answer6-correct">
                        <strong>Correct!</strong> When seasonal amplitude scales with level, use multiplicative. Additive: constant effect. Multiplicative: proportional effect.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch9answer6-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Multiplicative seasonality is appropriate when seasonal effects are proportional to the level.
                    </div>
                </div>

                <!-- Ch9 Question 7 -->
                <div class="quiz-question" id="ch9q7">
                    <h4>Question 7: Prophet Changepoints</h4>
                    <p>In Prophet, changepoints allow the model to:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch9', 7, 'A')"><input type="radio" name="ch9q7"> A) Change the seasonal period automatically</li>
                        <li onclick="checkAnswer('ch9', 7, 'B')"><input type="radio" name="ch9q7"> B) Adjust the trend slope at specific points in time</li>
                        <li onclick="checkAnswer('ch9', 7, 'C')"><input type="radio" name="ch9q7"> C) Switch between additive and multiplicative modes</li>
                        <li onclick="checkAnswer('ch9', 7, 'D')"><input type="radio" name="ch9q7"> D) Detect and remove outliers</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch9answer7-correct">
                        <strong>Correct!</strong> Changepoints allow piecewise linear trends with different slopes. Prophet can detect them automatically or you can specify manually.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch9answer7-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Changepoints adjust trend slopes at specific time points.
                    </div>
                </div>

                <!-- Ch9 Question 8 -->
                <div class="quiz-question" id="ch9q8">
                    <h4>Question 8: Model Selection</h4>
                    <p>You have daily call center data with weekly seasonality only. Which model is most appropriate?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch9', 8, 'A')"><input type="radio" name="ch9q8"> A) TBATS (designed for multiple seasonality)</li>
                        <li onclick="checkAnswer('ch9', 8, 'B')"><input type="radio" name="ch9q8"> B) Prophet (handles any seasonality well)</li>
                        <li onclick="checkAnswer('ch9', 8, 'C')"><input type="radio" name="ch9q8"> C) Standard SARIMA (simpler and sufficient)</li>
                        <li onclick="checkAnswer('ch9', 8, 'D')"><input type="radio" name="ch9q8"> D) LSTM neural network (most flexible)</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch9answer8-correct">
                        <strong>Correct!</strong> Principle of parsimony: use the simplest model that fits. With only weekly seasonality ($m=7$), SARIMA works fine.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch9answer8-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. For single seasonality, SARIMA is often sufficient.
                    </div>
                </div>

                <!-- Ch9 Question 9 -->
                <div class="quiz-question" id="ch9q9">
                    <h4>Question 9: Prophet Uncertainty</h4>
                    <p>Prophet generates prediction intervals by:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch9', 9, 'A')"><input type="radio" name="ch9q9"> A) Assuming normally distributed residuals</li>
                        <li onclick="checkAnswer('ch9', 9, 'B')"><input type="radio" name="ch9q9"> B) Sampling from the posterior distribution of parameters</li>
                        <li onclick="checkAnswer('ch9', 9, 'C')"><input type="radio" name="ch9q9"> C) Using bootstrap resampling of historical errors</li>
                        <li onclick="checkAnswer('ch9', 9, 'D')"><input type="radio" name="ch9q9"> D) Applying a fixed multiplier to point forecasts</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch9answer9-correct">
                        <strong>Correct!</strong> Prophet uses Bayesian estimation: MAP for point forecasts, MCMC/simulation for uncertainty intervals from both trend and observation noise.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch9answer9-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Prophet's Bayesian approach samples from the posterior distribution.
                    </div>
                </div>

                <!-- Ch9 Question 10 -->
                <div class="quiz-question" id="ch9q10">
                    <h4>Question 10: Energy Demand Forecasting</h4>
                    <p>For hourly energy demand with daily, weekly, and annual patterns plus holidays, which approach is best?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch9', 10, 'A')"><input type="radio" name="ch9q10"> A) SARIMA with $m=24$</li>
                        <li onclick="checkAnswer('ch9', 10, 'B')"><input type="radio" name="ch9q10"> B) TBATS with three seasonal periods</li>
                        <li onclick="checkAnswer('ch9', 10, 'C')"><input type="radio" name="ch9q10"> C) Prophet with custom holidays</li>
                        <li onclick="checkAnswer('ch9', 10, 'D')"><input type="radio" name="ch9q10"> D) Either TBATS or Prophet, depending on holiday importance</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch9answer10-correct">
                        <strong>Correct!</strong> Both handle multiple seasonality. Prophet if holidays are crucial, TBATS for automatic selection. Often try both and compare via CV.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch9answer10-incorrect">
                        <strong>Incorrect.</strong> The correct answer is D. Both can work; choice depends on specific requirements.
                    </div>
                </div>

                <!-- Ch9 Question 11 -->
                <div class="quiz-question" id="ch9q11">
                    <h4>Question 11: Box-Cox Transformation</h4>
                    <p>In TBATS, the Box-Cox transformation is used to:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch9', 11, 'A')"><input type="radio" name="ch9q11"> A) Remove the trend</li>
                        <li onclick="checkAnswer('ch9', 11, 'B')"><input type="radio" name="ch9q11"> B) Stabilize variance</li>
                        <li onclick="checkAnswer('ch9', 11, 'C')"><input type="radio" name="ch9q11"> C) Remove seasonality</li>
                        <li onclick="checkAnswer('ch9', 11, 'D')"><input type="radio" name="ch9q11"> D) Speed up computation</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch9answer11-correct">
                        <strong>Correct!</strong> Box-Cox: $y^{(\lambda)} = (y^\lambda - 1)/\lambda$. Stabilizes variance when it increases with level. $\lambda=0$ gives log transform.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch9answer11-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Box-Cox transformation stabilizes variance.
                    </div>
                </div>

                <!-- Ch9 Question 12 -->
                <div class="quiz-question" id="ch9q12">
                    <h4>Question 12: Prophet Default Trend</h4>
                    <p>In Prophet, the default trend type is:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch9', 12, 'A')"><input type="radio" name="ch9q12"> A) Logistic growth</li>
                        <li onclick="checkAnswer('ch9', 12, 'B')"><input type="radio" name="ch9q12"> B) Piecewise linear</li>
                        <li onclick="checkAnswer('ch9', 12, 'C')"><input type="radio" name="ch9q12"> C) Exponential</li>
                        <li onclick="checkAnswer('ch9', 12, 'D')"><input type="radio" name="ch9q12"> D) Polynomial</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch9answer12-correct">
                        <strong>Correct!</strong> Default is piecewise linear with automatic changepoint detection. Logistic growth must be explicitly specified for saturating trends.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch9answer12-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Prophet's default trend is piecewise linear.
                    </div>
                </div>

                <!-- Ch9 Question 13 -->
                <div class="quiz-question" id="ch9q13">
                    <h4>Question 13: Fourier Parameters</h4>
                    <p>For weekly seasonality ($m=7$) with $K=3$ Fourier terms, how many parameters are added?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch9', 13, 'A')"><input type="radio" name="ch9q13"> A) 3</li>
                        <li onclick="checkAnswer('ch9', 13, 'B')"><input type="radio" name="ch9q13"> B) 6</li>
                        <li onclick="checkAnswer('ch9', 13, 'C')"><input type="radio" name="ch9q13"> C) 7</li>
                        <li onclick="checkAnswer('ch9', 13, 'D')"><input type="radio" name="ch9q13"> D) 14</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch9answer13-correct">
                        <strong>Correct!</strong> Each harmonic adds 2 parameters (sine and cosine coefficients): $2 \times K = 2 \times 3 = 6$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch9answer13-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Each Fourier term has both sine and cosine components.
                    </div>
                </div>

                <!-- Ch9 Question 14 -->
                <div class="quiz-question" id="ch9q14">
                    <h4>Question 14: Missing Data</h4>
                    <p>Which statement about missing data handling is correct?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch9', 14, 'A')"><input type="radio" name="ch9q14"> A) SARIMA handles missing data better than Prophet</li>
                        <li onclick="checkAnswer('ch9', 14, 'B')"><input type="radio" name="ch9q14"> B) Prophet handles missing data and irregular timestamps gracefully</li>
                        <li onclick="checkAnswer('ch9', 14, 'C')"><input type="radio" name="ch9q14"> C) TBATS automatically imputes missing values</li>
                        <li onclick="checkAnswer('ch9', 14, 'D')"><input type="radio" name="ch9q14"> D) All methods require complete data</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch9answer14-correct">
                        <strong>Correct!</strong> Prophet can handle missing data and irregular timestamps. SARIMA/TBATS typically require equally spaced complete data.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch9answer14-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Prophet's design handles missing data well.
                    </div>
                </div>

                <!-- Ch9 Question 15 -->
                <div class="quiz-question" id="ch9q15">
                    <h4>Question 15: Holiday Effects</h4>
                    <p>Prophet's holiday effects are modeled as:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch9', 15, 'A')"><input type="radio" name="ch9q15"> A) Multiplicative adjustments to trend</li>
                        <li onclick="checkAnswer('ch9', 15, 'B')"><input type="radio" name="ch9q15"> B) Additive effects with optional windows</li>
                        <li onclick="checkAnswer('ch9', 15, 'C')"><input type="radio" name="ch9q15"> C) Separate ARIMA components</li>
                        <li onclick="checkAnswer('ch9', 15, 'D')"><input type="radio" name="ch9q15"> D) Fourier terms at holiday frequencies</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch9answer15-correct">
                        <strong>Correct!</strong> Holidays are modeled as indicator variables with additive effects. Lower/upper windows capture effects on adjacent days.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch9answer15-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Holiday effects are additive with configurable windows.
                    </div>
                </div>

                <!-- Ch9 Question 16 -->
                <div class="quiz-question" id="ch9q16">
                    <h4>Question 16: Overfitting with Fourier</h4>
                    <p>A symptom of overfitting with too many Fourier terms is:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch9', 16, 'A')"><input type="radio" name="ch9q16"> A) Smooth, realistic seasonal patterns</li>
                        <li onclick="checkAnswer('ch9', 16, 'B')"><input type="radio" name="ch9q16"> B) Jagged seasonality and poor out-of-sample performance</li>
                        <li onclick="checkAnswer('ch9', 16, 'C')"><input type="radio" name="ch9q16"> C) Faster model fitting</li>
                        <li onclick="checkAnswer('ch9', 16, 'D')"><input type="radio" name="ch9q16"> D) Better handling of outliers</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch9answer16-correct">
                        <strong>Correct!</strong> Too many harmonics cause jagged/unrealistic seasonal shapes and oscillating forecasts. Use CV to select optimal $K$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch9answer16-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Overfitting shows as jagged patterns and poor out-of-sample accuracy.
                    </div>
                </div>

                <!-- Ch9 Question 17 -->
                <div class="quiz-question" id="ch9q17">
                    <h4>Question 17: TBATS Selection</h4>
                    <p>TBATS automatically selects the number of Fourier terms using:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch9', 17, 'A')"><input type="radio" name="ch9q17"> A) Cross-validation</li>
                        <li onclick="checkAnswer('ch9', 17, 'B')"><input type="radio" name="ch9q17"> B) AIC (Akaike Information Criterion)</li>
                        <li onclick="checkAnswer('ch9', 17, 'C')"><input type="radio" name="ch9q17"> C) Visual inspection</li>
                        <li onclick="checkAnswer('ch9', 17, 'D')"><input type="radio" name="ch9q17"> D) Fixed rules based on frequency</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch9answer17-correct">
                        <strong>Correct!</strong> TBATS uses AIC to automatically select the optimal number of Fourier terms for each seasonal period.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch9answer17-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. AIC balances fit and complexity in TBATS.
                    </div>
                </div>

                <!-- Ch9 Question 18 -->
                <div class="quiz-question" id="ch9q18">
                    <h4>Question 18: Prophet Cross-Validation</h4>
                    <p>Prophet's built-in cross_validation function uses:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch9', 18, 'A')"><input type="radio" name="ch9q18"> A) Standard k-fold CV</li>
                        <li onclick="checkAnswer('ch9', 18, 'B')"><input type="radio" name="ch9q18"> B) Rolling origin (time series) CV</li>
                        <li onclick="checkAnswer('ch9', 18, 'C')"><input type="radio" name="ch9q18"> C) Leave-one-out CV</li>
                        <li onclick="checkAnswer('ch9', 18, 'D')"><input type="radio" name="ch9q18"> D) Random holdout</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch9answer18-correct">
                        <strong>Correct!</strong> Prophet uses rolling origin (simulated historical forecasts) with configurable initial, period, and horizon parameters.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch9answer18-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Prophet properly handles temporal ordering in CV.
                    </div>
                </div>

                <!-- Ch9 Question 19 -->
                <div class="quiz-question" id="ch9q19">
                    <h4>Question 19: Changepoint Prior</h4>
                    <p>In Prophet, increasing changepoint_prior_scale makes the trend:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch9', 19, 'A')"><input type="radio" name="ch9q19"> A) Smoother and more stable</li>
                        <li onclick="checkAnswer('ch9', 19, 'B')"><input type="radio" name="ch9q19"> B) More flexible and responsive to changes</li>
                        <li onclick="checkAnswer('ch9', 19, 'C')"><input type="radio" name="ch9q19"> C) Linear without changepoints</li>
                        <li onclick="checkAnswer('ch9', 19, 'D')"><input type="radio" name="ch9q19"> D) Logistic instead of linear</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch9answer19-correct">
                        <strong>Correct!</strong> Higher prior scale = more flexibility = more changepoints detected. Lower = smoother trend. Default is 0.05.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch9answer19-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Higher changepoint_prior_scale allows more trend flexibility.
                    </div>
                </div>

                <!-- Ch9 Question 20 -->
                <div class="quiz-question" id="ch9q20">
                    <h4>Question 20: Model Interpretability</h4>
                    <p>A key advantage of Prophet over black-box ML models is:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch9', 20, 'A')"><input type="radio" name="ch9q20"> A) Always higher accuracy</li>
                        <li onclick="checkAnswer('ch9', 20, 'B')"><input type="radio" name="ch9q20"> B) Interpretable component decomposition (trend, seasonality, holidays)</li>
                        <li onclick="checkAnswer('ch9', 20, 'C')"><input type="radio" name="ch9q20"> C) Faster training time</li>
                        <li onclick="checkAnswer('ch9', 20, 'D')"><input type="radio" name="ch9q20"> D) No hyperparameters to tune</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch9answer20-correct">
                        <strong>Correct!</strong> Prophet's decomposition lets analysts understand and explain forecasts: which component drives predictions. This is valuable for business decisions.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch9answer20-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Prophet provides interpretable component decomposition.
                    </div>
                </div>

                <div style="margin-top: 2rem; text-align: center;">
                    <p id="score-display-ch9" style="font-size: 1.2rem; margin-bottom: 1rem; font-weight: bold;"></p>
                    <button onclick="calculateScore(9)" class="btn btn-secondary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none; margin-right: 1rem;">Check Score</button>
                    <button onclick="resetQuiz(9)" class="btn btn-primary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none;">Reset Quiz</button>
                </div>
            </div>

            <!-- Chapter 10 Quizzes (Comprehensive Review) -->
            <div class="quiz-container" id="chapter10-quizzes" style="display: none;">
                <h3 style="margin-bottom: 1.5rem;">Chapter 10: Comprehensive Review - From Data to Forecast</h3>

                <!-- Ch10 Question 1 -->
                <div class="quiz-question" id="ch10q1">
                    <h4>Question 1: Analysis Workflow</h4>
                    <p>What is the correct order of the time series analysis workflow?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch10', 1, 'A')"><input type="radio" name="ch10q1"> A) Model fitting, Data exploration, Diagnostics, Forecasting</li>
                        <li onclick="checkAnswer('ch10', 1, 'B')"><input type="radio" name="ch10q1"> B) Data exploration, Stationarity testing, Model selection, Diagnostics, Forecasting</li>
                        <li onclick="checkAnswer('ch10', 1, 'C')"><input type="radio" name="ch10q1"> C) Forecasting, Data exploration, Model fitting, Diagnostics</li>
                        <li onclick="checkAnswer('ch10', 1, 'D')"><input type="radio" name="ch10q1"> D) Diagnostics, Model selection, Data exploration, Forecasting</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch10answer1-correct">
                        <strong>Correct!</strong> The systematic workflow: Explore data â Test stationarity â Select model â Fit â Diagnose â Forecast.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch10answer1-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Always start with data exploration before model fitting.
                    </div>
                </div>

                <!-- Ch10 Question 2 -->
                <div class="quiz-question" id="ch10q2">
                    <h4>Question 2: RMSE vs MAE</h4>
                    <p>If RMSE is much larger than MAE, this suggests:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch10', 2, 'A')"><input type="radio" name="ch10q2"> A) The model is overfitting</li>
                        <li onclick="checkAnswer('ch10', 2, 'B')"><input type="radio" name="ch10q2"> B) There are some large outlying errors</li>
                        <li onclick="checkAnswer('ch10', 2, 'C')"><input type="radio" name="ch10q2"> C) The model is underfitting</li>
                        <li onclick="checkAnswer('ch10', 2, 'D')"><input type="radio" name="ch10q2"> D) The data is stationary</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch10answer2-correct">
                        <strong>Correct!</strong> RMSE penalizes large errors more (squared). A large RMSE/MAE ratio indicates some very large forecast errors.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch10answer2-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. RMSE is more sensitive to large errors than MAE.
                    </div>
                </div>

                <!-- Ch10 Question 3 -->
                <div class="quiz-question" id="ch10q3">
                    <h4>Question 3: MAPE Limitation</h4>
                    <p>MAPE is problematic when:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch10', 3, 'A')"><input type="radio" name="ch10q3"> A) The data has a trend</li>
                        <li onclick="checkAnswer('ch10', 3, 'B')"><input type="radio" name="ch10q3"> B) Actual values are close to or equal to zero</li>
                        <li onclick="checkAnswer('ch10', 3, 'C')"><input type="radio" name="ch10q3"> C) The forecast horizon is long</li>
                        <li onclick="checkAnswer('ch10', 3, 'D')"><input type="radio" name="ch10q3"> D) Multiple models are being compared</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch10answer3-correct">
                        <strong>Correct!</strong> MAPE = $\frac{100}{n}\sum|\frac{y_t - \hat{y}_t}{y_t}|$. Division by small $y_t$ causes extreme or undefined values.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch10answer3-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. MAPE divides by actual values, causing issues near zero.
                    </div>
                </div>

                <!-- Ch10 Question 4 -->
                <div class="quiz-question" id="ch10q4">
                    <h4>Question 4: Volatility Clustering</h4>
                    <p>If S&P 500 returns show periods of high volatility followed by high volatility, you should consider:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch10', 4, 'A')"><input type="radio" name="ch10q4"> A) ARIMA with higher order</li>
                        <li onclick="checkAnswer('ch10', 4, 'B')"><input type="radio" name="ch10q4"> B) Exponential smoothing</li>
                        <li onclick="checkAnswer('ch10', 4, 'C')"><input type="radio" name="ch10q4"> C) GARCH model for variance</li>
                        <li onclick="checkAnswer('ch10', 4, 'D')"><input type="radio" name="ch10q4"> D) Seasonal differencing</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch10answer4-correct">
                        <strong>Correct!</strong> Volatility clustering is a key feature of financial returns. GARCH: $\sigma_t^2 = \omega + \alpha \varepsilon_{t-1}^2 + \beta \sigma_{t-1}^2$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch10answer4-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. GARCH models capture time-varying volatility.
                    </div>
                </div>

                <!-- Ch10 Question 5 -->
                <div class="quiz-question" id="ch10q5">
                    <h4>Question 5: ADF vs KPSS</h4>
                    <p>If ADF test fails to reject and KPSS rejects, the series is likely:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch10', 5, 'A')"><input type="radio" name="ch10q5"> A) Stationary</li>
                        <li onclick="checkAnswer('ch10', 5, 'B')"><input type="radio" name="ch10q5"> B) Non-stationary</li>
                        <li onclick="checkAnswer('ch10', 5, 'C')"><input type="radio" name="ch10q5"> C) Trend-stationary</li>
                        <li onclick="checkAnswer('ch10', 5, 'D')"><input type="radio" name="ch10q5"> D) White noise</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch10answer5-correct">
                        <strong>Correct!</strong> ADF H0: unit root. KPSS H0: stationary. Both suggest non-stationarity when ADF doesn't reject and KPSS rejects.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch10answer5-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Use both tests together for confirmation.
                    </div>
                </div>

                <!-- Ch10 Question 6 -->
                <div class="quiz-question" id="ch10q6">
                    <h4>Question 6: Multiplicative Seasonality</h4>
                    <p>Air passengers data shows increasing seasonal amplitude over time. Which decomposition is appropriate?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch10', 6, 'A')"><input type="radio" name="ch10q6"> A) Additive: $Y_t = T_t + S_t + R_t$</li>
                        <li onclick="checkAnswer('ch10', 6, 'B')"><input type="radio" name="ch10q6"> B) Multiplicative: $Y_t = T_t \times S_t \times R_t$</li>
                        <li onclick="checkAnswer('ch10', 6, 'C')"><input type="radio" name="ch10q6"> C) Both work equally well</li>
                        <li onclick="checkAnswer('ch10', 6, 'D')"><input type="radio" name="ch10q6"> D) Neither---use differencing instead</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch10answer6-correct">
                        <strong>Correct!</strong> When seasonal amplitude scales with level, use multiplicative. Log transform converts to additive.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch10answer6-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Multiplicative for proportional seasonal effects.
                    </div>
                </div>

                <!-- Ch10 Question 7 -->
                <div class="quiz-question" id="ch10q7">
                    <h4>Question 7: SARIMA for Monthly Data</h4>
                    <p>For monthly data with yearly seasonality, the seasonal period $m$ in SARIMA is:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch10', 7, 'A')"><input type="radio" name="ch10q7"> A) 4</li>
                        <li onclick="checkAnswer('ch10', 7, 'B')"><input type="radio" name="ch10q7"> B) 7</li>
                        <li onclick="checkAnswer('ch10', 7, 'C')"><input type="radio" name="ch10q7"> C) 12</li>
                        <li onclick="checkAnswer('ch10', 7, 'D')"><input type="radio" name="ch10q7"> D) 52</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch10answer7-correct">
                        <strong>Correct!</strong> Monthly data with yearly pattern: $m=12$. Quarterly: $m=4$. Weekly: $m=52$. Daily with weekly pattern: $m=7$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch10answer7-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Monthly data has 12 observations per year.
                    </div>
                </div>

                <!-- Ch10 Question 8 -->
                <div class="quiz-question" id="ch10q8">
                    <h4>Question 8: Model Comparison</h4>
                    <p>When comparing SARIMA and Prophet forecasts, which metric is scale-independent?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch10', 8, 'A')"><input type="radio" name="ch10q8"> A) RMSE</li>
                        <li onclick="checkAnswer('ch10', 8, 'B')"><input type="radio" name="ch10q8"> B) MAE</li>
                        <li onclick="checkAnswer('ch10', 8, 'C')"><input type="radio" name="ch10q8"> C) MAPE</li>
                        <li onclick="checkAnswer('ch10', 8, 'D')"><input type="radio" name="ch10q8"> D) MSE</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch10answer8-correct">
                        <strong>Correct!</strong> MAPE expresses error as percentage. Useful for comparing across different scales/datasets.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch10answer8-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. MAPE is percentage-based and scale-independent.
                    </div>
                </div>

                <!-- Ch10 Question 9 -->
                <div class="quiz-question" id="ch10q9">
                    <h4>Question 9: Structural Breaks</h4>
                    <p>US Retail Sales experienced a structural break during COVID-19. Prophet handles this via:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch10', 9, 'A')"><input type="radio" name="ch10q9"> A) Automatic differencing</li>
                        <li onclick="checkAnswer('ch10', 9, 'B')"><input type="radio" name="ch10q9"> B) Changepoint detection in the trend</li>
                        <li onclick="checkAnswer('ch10', 9, 'C')"><input type="radio" name="ch10q9"> C) Seasonal adjustment</li>
                        <li onclick="checkAnswer('ch10', 9, 'D')"><input type="radio" name="ch10q9"> D) GARCH modeling</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch10answer9-correct">
                        <strong>Correct!</strong> Prophet's changepoints allow the trend slope to change at specific points, capturing structural breaks like COVID-19.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch10answer9-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Changepoints model regime changes in trend.
                    </div>
                </div>

                <!-- Ch10 Question 10 -->
                <div class="quiz-question" id="ch10q10">
                    <h4>Question 10: Ljung-Box Test</h4>
                    <p>After fitting an ARIMA model, the Ljung-Box test on residuals tests for:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch10', 10, 'A')"><input type="radio" name="ch10q10"> A) Normality</li>
                        <li onclick="checkAnswer('ch10', 10, 'B')"><input type="radio" name="ch10q10"> B) Remaining autocorrelation</li>
                        <li onclick="checkAnswer('ch10', 10, 'C')"><input type="radio" name="ch10q10"> C) Heteroscedasticity</li>
                        <li onclick="checkAnswer('ch10', 10, 'D')"><input type="radio" name="ch10q10"> D) Stationarity</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch10answer10-correct">
                        <strong>Correct!</strong> Ljung-Box tests if residuals are white noise (no autocorrelation). Reject = model inadequate.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch10answer10-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. It tests if residual autocorrelations are jointly zero.
                    </div>
                </div>

                <!-- Ch10 Question 11 -->
                <div class="quiz-question" id="ch10q11">
                    <h4>Question 11: ACF/PACF Interpretation</h4>
                    <p>ACF decays exponentially and PACF cuts off after lag 2. This suggests:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch10', 11, 'A')"><input type="radio" name="ch10q11"> A) MA(2)</li>
                        <li onclick="checkAnswer('ch10', 11, 'B')"><input type="radio" name="ch10q11"> B) AR(2)</li>
                        <li onclick="checkAnswer('ch10', 11, 'C')"><input type="radio" name="ch10q11"> C) ARMA(2,2)</li>
                        <li onclick="checkAnswer('ch10', 11, 'D')"><input type="radio" name="ch10q11"> D) Random walk</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch10answer11-correct">
                        <strong>Correct!</strong> PACF cutoff â AR order. ACF cutoff â MA order. Decaying ACF + PACF cutoff at 2 = AR(2).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch10answer11-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. PACF determines AR order.
                    </div>
                </div>

                <!-- Ch10 Question 12 -->
                <div class="quiz-question" id="ch10q12">
                    <h4>Question 12: Log Returns</h4>
                    <p>For S&P 500, we use log returns $r_t = \ln(P_t/P_{t-1})$ instead of prices because:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch10', 12, 'A')"><input type="radio" name="ch10q12"> A) Prices are always stationary</li>
                        <li onclick="checkAnswer('ch10', 12, 'B')"><input type="radio" name="ch10q12"> B) Returns are approximately stationary; prices are not</li>
                        <li onclick="checkAnswer('ch10', 12, 'C')"><input type="radio" name="ch10q12"> C) Log returns are easier to compute</li>
                        <li onclick="checkAnswer('ch10', 12, 'D')"><input type="radio" name="ch10q12"> D) Returns have stronger autocorrelation</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch10answer12-correct">
                        <strong>Correct!</strong> Prices follow random walk (non-stationary). Returns are (approximately) stationary and suitable for ARIMA/GARCH.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch10answer12-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Stationarity is required for most time series models.
                    </div>
                </div>

                <!-- Ch10 Question 13 -->
                <div class="quiz-question" id="ch10q13">
                    <h4>Question 13: AIC vs BIC</h4>
                    <p>Compared to AIC, BIC typically selects:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch10', 13, 'A')"><input type="radio" name="ch10q13"> A) More complex models</li>
                        <li onclick="checkAnswer('ch10', 13, 'B')"><input type="radio" name="ch10q13"> B) Simpler (more parsimonious) models</li>
                        <li onclick="checkAnswer('ch10', 13, 'C')"><input type="radio" name="ch10q13"> C) Identical models to AIC</li>
                        <li onclick="checkAnswer('ch10', 13, 'D')"><input type="radio" name="ch10q13"> D) Models with better in-sample fit</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch10answer13-correct">
                        <strong>Correct!</strong> BIC penalizes parameters more heavily: $\text{BIC} = -2\ln L + k\ln n$ vs $\text{AIC} = -2\ln L + 2k$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch10answer13-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. BIC's stronger penalty favors simpler models.
                    </div>
                </div>

                <!-- Ch10 Question 14 -->
                <div class="quiz-question" id="ch10q14">
                    <h4>Question 14: Cross-Validation</h4>
                    <p>For time series cross-validation, we use:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch10', 14, 'A')"><input type="radio" name="ch10q14"> A) Random k-fold CV</li>
                        <li onclick="checkAnswer('ch10', 14, 'B')"><input type="radio" name="ch10q14"> B) Leave-one-out CV</li>
                        <li onclick="checkAnswer('ch10', 14, 'C')"><input type="radio" name="ch10q14"> C) Rolling origin (expanding window) CV</li>
                        <li onclick="checkAnswer('ch10', 14, 'D')"><input type="radio" name="ch10q14"> D) Stratified CV</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch10answer14-correct">
                        <strong>Correct!</strong> Time series CV must respect temporal order. Train on past, validate on future. Never use future data to predict past.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch10answer14-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Random splits violate temporal ordering.
                    </div>
                </div>

                <!-- Ch10 Question 15 -->
                <div class="quiz-question" id="ch10q15">
                    <h4>Question 15: Multiple Seasonality</h4>
                    <p>Hourly data with daily, weekly, and yearly patterns is best handled by:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch10', 15, 'A')"><input type="radio" name="ch10q15"> A) SARIMA with $m=24$</li>
                        <li onclick="checkAnswer('ch10', 15, 'B')"><input type="radio" name="ch10q15"> B) Simple exponential smoothing</li>
                        <li onclick="checkAnswer('ch10', 15, 'C')"><input type="radio" name="ch10q15"> C) TBATS or Prophet</li>
                        <li onclick="checkAnswer('ch10', 15, 'D')"><input type="radio" name="ch10q15"> D) ARIMA with differencing</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch10answer15-correct">
                        <strong>Correct!</strong> SARIMA allows only one seasonal period. TBATS and Prophet can handle multiple seasonalities.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch10answer15-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Multiple seasonality requires specialized models.
                    </div>
                </div>

                <!-- Ch10 Question 16 -->
                <div class="quiz-question" id="ch10q16">
                    <h4>Question 16: GARCH Persistence</h4>
                    <p>In GARCH(1,1), high volatility persistence means $\alpha + \beta$ is:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch10', 16, 'A')"><input type="radio" name="ch10q16"> A) Close to 0</li>
                        <li onclick="checkAnswer('ch10', 16, 'B')"><input type="radio" name="ch10q16"> B) Close to 1</li>
                        <li onclick="checkAnswer('ch10', 16, 'C')"><input type="radio" name="ch10q16"> C) Greater than 1</li>
                        <li onclick="checkAnswer('ch10', 16, 'D')"><input type="radio" name="ch10q16"> D) Negative</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch10answer16-correct">
                        <strong>Correct!</strong> $\alpha + \beta$ measures persistence. Close to 1 = shocks persist long. Must be $< 1$ for stationarity.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch10answer16-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. High persistence means volatility shocks decay slowly.
                    </div>
                </div>

                <!-- Ch10 Question 17 -->
                <div class="quiz-question" id="ch10q17">
                    <h4>Question 17: Forecast Uncertainty</h4>
                    <p>As forecast horizon increases, prediction intervals typically:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch10', 17, 'A')"><input type="radio" name="ch10q17"> A) Narrow</li>
                        <li onclick="checkAnswer('ch10', 17, 'B')"><input type="radio" name="ch10q17"> B) Stay constant</li>
                        <li onclick="checkAnswer('ch10', 17, 'C')"><input type="radio" name="ch10q17"> C) Widen</li>
                        <li onclick="checkAnswer('ch10', 17, 'D')"><input type="radio" name="ch10q17"> D) Oscillate</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch10answer17-correct">
                        <strong>Correct!</strong> Uncertainty accumulates over time. Forecast variance increases with horizon. Long-term forecasts are inherently less precise.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch10answer17-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Uncertainty grows with forecast horizon.
                    </div>
                </div>

                <!-- Ch10 Question 18 -->
                <div class="quiz-question" id="ch10q18">
                    <h4>Question 18: Direction Accuracy</h4>
                    <p>A model with 45% direction accuracy for stock returns is:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch10', 18, 'A')"><input type="radio" name="ch10q18"> A) Better than random guessing</li>
                        <li onclick="checkAnswer('ch10', 18, 'B')"><input type="radio" name="ch10q18"> B) Worse than random guessing</li>
                        <li onclick="checkAnswer('ch10', 18, 'C')"><input type="radio" name="ch10q18"> C) Optimal for trading</li>
                        <li onclick="checkAnswer('ch10', 18, 'D')"><input type="radio" name="ch10q18"> D) Statistically significant</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch10answer18-correct">
                        <strong>Correct!</strong> Random guessing = 50%. 45% is worse than flipping a coin. Financial returns are notoriously difficult to predict.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch10answer18-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Below 50% is worse than random.
                    </div>
                </div>

                <!-- Ch10 Question 19 -->
                <div class="quiz-question" id="ch10q19">
                    <h4>Question 19: Model Selection Principle</h4>
                    <p>The principle of parsimony suggests choosing:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch10', 19, 'A')"><input type="radio" name="ch10q19"> A) The model with the best in-sample fit</li>
                        <li onclick="checkAnswer('ch10', 19, 'B')"><input type="radio" name="ch10q19"> B) The simplest model that adequately fits the data</li>
                        <li onclick="checkAnswer('ch10', 19, 'C')"><input type="radio" name="ch10q19"> C) The most complex model available</li>
                        <li onclick="checkAnswer('ch10', 19, 'D')"><input type="radio" name="ch10q19"> D) The model with the most parameters</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch10answer19-correct">
                        <strong>Correct!</strong> Occam's razor: simpler models generalize better. Complex models overfit. Balance fit vs complexity.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch10answer19-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Parsimony prefers simpler adequate models.
                    </div>
                </div>

                <!-- Ch10 Question 20 -->
                <div class="quiz-question" id="ch10q20">
                    <h4>Question 20: Complete Workflow Summary</h4>
                    <p>Which statement best summarizes the time series analysis workflow?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch10', 20, 'A')"><input type="radio" name="ch10q20"> A) Fit the most complex model first, then simplify</li>
                        <li onclick="checkAnswer('ch10', 20, 'B')"><input type="radio" name="ch10q20"> B) Start with visualization, test stationarity, fit models, validate on held-out data</li>
                        <li onclick="checkAnswer('ch10', 20, 'C')"><input type="radio" name="ch10q20"> C) Use the same model for all datasets</li>
                        <li onclick="checkAnswer('ch10', 20, 'D')"><input type="radio" name="ch10q20"> D) Skip diagnostics if in-sample fit is good</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch10answer20-correct">
                        <strong>Correct!</strong> Systematic workflow: Explore â Transform â Model â Diagnose â Validate â Forecast. Data characteristics guide model choice.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch10answer20-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. A systematic, data-driven approach is essential.
                    </div>
                </div>

                <div style="margin-top: 2rem; text-align: center;">
                    <p id="score-display-ch10" style="font-size: 1.2rem; margin-bottom: 1rem; font-weight: bold;"></p>
                    <button onclick="calculateScore(10)" class="btn btn-secondary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none; margin-right: 1rem;">Check Score</button>
                    <button onclick="resetQuiz(10)" class="btn btn-primary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none;">Reset Quiz</button>
                </div>
            </div>

            </div><!-- end quiz-content -->
        </section>

        <section id="resources">
            <h2>Resources</h2>

            <h3 style="margin-bottom: 1rem;">Recommended Textbooks</h3>
            <ul style="margin-left: 2rem; margin-bottom: 2rem;">
                <li>Hyndman, R.J. & Athanasopoulos, G. (2021). <em>Forecasting: Principles and Practice</em>, 3rd ed. <a href="https://otexts.com/fpp3/" target="_blank" style="color: var(--main-blue);">OTexts (free online)</a></li>
                <li>Hamilton, J.D. (1994). <em>Time Series Analysis</em>. Princeton University Press.</li>
                <li>Tsay, R.S. (2010). <em>Analysis of Financial Time Series</em>, 3rd ed. Wiley.</li>
                <li>Shumway, R.H. & Stoffer, D.S. (2017). <em>Time Series Analysis and Its Applications</em>, 4th ed. Springer.</li>
            </ul>

            <h3 style="margin-bottom: 1rem;">Online Resources</h3>
            <div class="resources-list" style="display: flex; gap: 2rem; flex-wrap: wrap; justify-content: center;">
                <a href="https://quantlet.com/" target="_blank" class="resource-item" style="text-decoration: none; display: flex; align-items: center; gap: 1rem; padding: 1.5rem; background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: transform 0.3s;">
                    <img src="logos/ql_logo.png" alt="Quantlet Logo" style="height: 50px; border-radius: 8px;">
                    <div>
                        <strong style="color: var(--main-blue);">Quantlet</strong>
                        <p style="font-size: 0.9rem; color: #666; margin: 0;">Code repository for quantitative methods</p>
                    </div>
                </a>
                <a href="https://www.quantinar.com" target="_blank" class="resource-item" style="text-decoration: none; display: flex; align-items: center; gap: 1rem; padding: 1.5rem; background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: transform 0.3s;">
                    <img src="https://www.quantinar.com/quantinar/images/logos/navbar_logo.png" alt="Quantinar Logo" style="height: 50px;">
                    <div>
                        <strong style="color: var(--main-blue);">Quantinar</strong>
                        <p style="font-size: 0.9rem; color: #666; margin: 0;">Quantitative methods learning platform</p>
                    </div>
                </a>
            </div>
        </section>

        <section id="contact">
            <h2>Contact Information</h2>
            <div class="course-info">
                <div class="info-card">
                    <h3>Instructor</h3>
                    <p><strong>Prof. dr. Daniel Traian Pele</strong></p>
                    <p>Department of Statistics and Econometrics</p>
                </div>
                <div class="info-card">
                    <h3>Email</h3>
                    <p><a href="mailto:danpele@ase.ro" style="color: var(--main-blue);">danpele@ase.ro</a></p>
                    <p style="margin-top: 0.5rem; font-size: 0.9rem;"><strong>Office Hours:</strong> by appointment via email</p>
                </div>
                <div class="info-card">
                    <h3>Location</h3>
                    <p>Bucharest University of Economic Studies</p>
                    <p>Faculty of Cybernetics, Statistics and Economic Informatics</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div style="display: flex; justify-content: center; gap: 2rem; align-items: center; margin-bottom: 1.5rem; flex-wrap: wrap;">
            <a href="https://www.ase.ro" target="_blank"><img src="logos/ase_logo.png" alt="ASE Logo" style="height: 50px; background: white; padding: 5px; border-radius: 4px;"></a>
            <a href="https://www.theida.net/" target="_blank"><img src="logos/ida_logo.png" alt="IDA Logo" style="height: 50px; background: white; padding: 5px; border-radius: 4px;"></a>
            <a href="https://ai4efin.ase.ro" target="_blank"><img src="logos/ai4efin_logo.png" alt="AI4EFIN Logo" style="height: 50px; background: white; padding: 5px; border-radius: 4px;"></a>
            <a href="https://www.digital-finance-msca.com/" target="_blank"><img src="logos/msca_logo.png" alt="MSCA Logo" style="height: 50px; background: white; padding: 5px; border-radius: 4px;"></a>
            <a href="https://blockchain-research-center.com/" target="_blank"><img src="logos/brc_logo.png" alt="BRC Logo" style="height: 50px; background: white; padding: 5px; border-radius: 4px;"></a>
            <a href="https://ipe.ro/new/" target="_blank"><img src="logos/acad_logo.png" alt="Academy Logo" style="height: 50px; background: white; padding: 5px; border-radius: 4px;"></a>
        </div>
        <p>Time Series Analysis | Faculty of Cybernetics, Statistics and Economic Informatics | Bucharest University of Economic Studies</p>
        <p>Instructor: <strong>Prof. dr. Daniel Traian Pele</strong> | <a href="mailto:danpele@ase.ro" style="color: #ccc;">danpele@ase.ro</a></p>
        <p>Academic Year 2025-2026</p>
        <p style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.8;">All materials generated using Python and LaTeX</p>
    </footer>

    <script>
        // Google Sheets API
        const SHEETS_URL = 'https://script.google.com/macros/s/AKfycbzUXvY_eBFHG0ZGLy_jK3X9UPfpJciIszkZrDel-g8rymlyt2g3QXAljcqT8Ftkw7k66Q/exec';

        // Chapter names for results
        const chapterNames = {
            0: 'Ch. 0 - Fundamentals',
            1: 'Ch. 1 - Introduction',
            2: 'Ch. 2 - ARMA',
            3: 'Ch. 3 - ARIMA',
            4: 'Ch. 4 - SARIMA',
            5: 'Ch. 5 - GARCH',
            6: 'Ch. 6 - VAR',
            7: 'Ch. 7 - Cointegration',
            8: 'Ch. 8 - Modern Extensions',
            9: 'Ch. 9 - Prophet/TBATS',
            10: 'Ch. 10 - Review'
        };

        // GitHub OAuth Client ID (public â safe to embed)
        const GITHUB_CLIENT_ID = 'Ov23liJNDMSO6UzqPjZp';

        // Redirect to GitHub OAuth
        function loginWithGitHub() {
            localStorage.setItem('tsa-login-return', 'index.html');
            const redirectUri = window.location.origin + window.location.pathname.replace(/[^/]*$/, '') + 'callback.html';
            window.location.href = 'https://github.com/login/oauth/authorize?client_id=' + GITHUB_CLIENT_ID + '&redirect_uri=' + encodeURIComponent(redirectUri) + '&scope=read:user';
        }

        // Show logged-in state
        function showLoggedInState(user) {
            document.getElementById('github-login-section').style.display = 'none';
            document.getElementById('github-logged-in-section').style.display = 'flex';
            document.getElementById('quiz-content').style.display = 'block';
            document.getElementById('github-avatar').src = user.avatar_url;
            document.getElementById('github-display-name').textContent = user.name;
            document.getElementById('github-username').textContent = '@' + user.login;
        }

        // Logout
        function logoutGitHub() {
            localStorage.removeItem('tsa-github-user');
            localStorage.removeItem('tsa-student-group');
            document.getElementById('github-login-section').style.display = 'block';
            document.getElementById('github-logged-in-section').style.display = 'none';
            document.getElementById('quiz-content').style.display = 'none';
        }

        // Save group
        function saveGroup() {
            const group = document.getElementById('student-group').value.trim();
            localStorage.setItem('tsa-student-group', group);
            const saved = document.getElementById('student-saved');
            saved.style.display = 'inline';
            setTimeout(() => saved.style.display = 'none', 2000);
        }

        // Load state on page load
        window.addEventListener('DOMContentLoaded', function() {
            const userData = localStorage.getItem('tsa-github-user');
            if (userData) {
                const user = JSON.parse(userData);
                showLoggedInState(user);
            }
            const group = localStorage.getItem('tsa-student-group');
            if (group) document.getElementById('student-group').value = group;
        });

        // Send results to Google Sheets
        function sendResults(chapterNum, score, total) {
            const userData = localStorage.getItem('tsa-github-user');
            if (!userData) {
                alert('Please log in with GitHub before checking the score!');
                return false;
            }
            const user = JSON.parse(userData);
            const group = document.getElementById('student-group').value.trim();
            const nota = Math.round((score / total) * 10 * 100) / 100;
            const data = {
                nume: user.name,
                github_username: user.login,
                grupa: group,
                capitol: chapterNames[chapterNum] || 'Ch. ' + chapterNum,
                scor: score + '/' + total,
                total: Math.round((score / total) * 100) + '%',
                nota: nota.toFixed(2)
            };
            fetch(SHEETS_URL, {
                method: 'POST',
                mode: 'no-cors',
                headers: { 'Content-Type': 'text/plain' },
                body: JSON.stringify(data)
            });
            return true;
        }

        // Chapter 0 answers (5 questions)
        const ch0Answers = {
            1: 'B',   // Additive when seasonal amplitude is constant
            2: 'B',   // Holt-Winters for trend AND seasonality
            3: 'B',   // K-fold would use future to predict past
            4: 'B',   // High alpha = high weight on recent, more volatile
            5: 'B',   // Deterministic = regression, Stochastic = differencing
            6: 'B',   // Moving average extracts trend by smoothing
            7: 'B',   // STL allows changing seasonality, robust to outliers
            8: 'B',   // MAPE is scale-independent
            9: 'B',   // Holt models level and trend
            10: 'B',  // Monthly data with yearly seasonality: m=12
            11: 'B',  // Earlier for training, later for testing
            12: 'B',  // RMSE penalizes large errors more
            13: 'B',  // Repeating patterns or seasonal subseries plots
            14: 'B',  // Damping flattens trend in long run
            15: 'B',  // Log transform for heteroscedasticity
            16: 'B',  // Accuracy decreases with longer horizon
            17: 'B',  // Naive = last observation, benchmark
            18: 'B',  // Seasonal naive uses same month previous year
            19: 'B',  // Residuals should be white noise
            20: 'A'   // ETS(A,A,A) = Additive error, trend, seasonality
        };

        // Chapter 1 answers (20 questions)
        const ch1Answers = {
            1: 'C',   // Time series NOT i.i.d.
            2: 'C',   // Panel data
            3: 'C',   // Multiplicative when seasonal grows
            4: 'D',   // S=1.15 means both 15% above and 115% of trend
            5: 'B',   // Moving average for trend
            6: 'B',   // Low alpha = smooth
            7: 'B',   // Holt adds trend
            8: 'C',   // Holt-Winters for trend+seasonal
            9: 'C',   // MAPE is scale-independent
            10: 'B',  // Validation for tuning
            11: 'C',  // Good residuals = white noise
            12: 'C',  // Normality NOT required for stationarity
            13: 'C',  // Var(X_25) = 25*4 = 100
            14: 'C',  // White noise doesn't need normality
            15: 'B',  // AR(1) ACF decays
            16: 'B',  // MA(1) PACF decays
            17: 'B',  // Differenced RW = white noise
            18: 'B',  // ADF H0 = unit root
            19: 'B',  // KPSS reject = non-stationary
            20: 'B'   // Stochastic trend = differencing
        };

        // Chapter 2 answers (20 questions)
        const ch2Answers = {
            1: 'C',   // AR stationarity: phi = -0.8
            2: 'B',   // ACF/PACF: MA(1)
            3: 'C',   // MA invertibility: No, |theta| > 1
            4: 'C',   // ARMA representation
            5: 'B',   // Lag operator: second difference
            6: 'C',   // BIC: lower is preferred
            7: 'B',   // Ljung-Box: inadequate model
            8: 'C',   // Forecast: converge to mean
            9: 'C',   // AR(1) variance: sigma^2/(1-phi^2)
            10: 'D',  // MA(1) rho(2) = 0
            11: 'C',  // AR(1) mean = 5
            12: 'B',  // Wold: MA(inf) + deterministic
            13: 'B',  // AR(2) stationarity conditions
            14: 'B',  // Yule-Walker: estimate AR params
            15: 'B',  // PACF: partial correlation
            16: 'B',  // Parsimony: simplest adequate
            17: 'B',  // Characteristic root: 1/phi
            18: 'B',  // MLE preferred for ARMA
            19: 'C',  // Forecast variance -> gamma(0)
            20: 'B'   // Box-Jenkins: ID -> Est -> Diag
        };

        // Chapter 3 answers (20 questions)
        const ch3Answers = {
            1: 'C',   // I(2) - two differences
            2: 'B',   // t*sigma^2 variance
            3: 'B',   // ADF H0 = unit root
            4: 'A',   // ARIMA(2,1,1) notation
            5: 'B',   // Second difference expansion
            6: 'B',   // KPSS vs ADF
            7: 'B',   // Overdifferencing
            8: 'C',   // Forecast variance grows linearly
            9: 'C',   // Stochastic = permanent shocks
            10: 'B',  // ADF reject when more negative
            11: 'B',  // IMA(1,1) = SES
            12: 'B',  // Constant = drift for d>0
            13: 'B',  // Auto-ARIMA uses AIC/BIC
            14: 'B',  // Box-Jenkins step 1 = identify
            15: 'B',  // I(1) ACF decays slowly
            16: 'B',  // LB p<0.05 = inadequate
            17: 'B',  // MLE for ARIMA
            18: 'B',  // Economic data usually I(1)
            19: 'D',  // Conflicting = inconclusive
            20: 'C'   // Handling non-stationarity is strength
        };

        const ch4Answers = {
            1: 'B',   // Seasonal diff = Y_t - Y_{t-12}
            2: 'B',   // Subscript = seasonal period
            3: 'A',   // Airline model has 2 params
            4: 'B',   // ACF at 12, 24, 36...
            5: 'B',   // Multiplicative = polynomials multiplied
            6: 'C',   // Both d=1 and D=1 for trend+season
            7: 'B',   // Log when amplitude grows with level
            8: 'B',   // Quarterly annual = s=4
            9: 'B',   // (1-L)(1-L^12) expansion
            10: 'B'   // Stochastic evolves over time
        };

        const ch5Answers = {
            1: 'A',   // VAR(2) has 2 coefficient matrices
            2: 'C',   // 7 parameters per equation
            3: 'B',   // Past X helps predict Y
            4: 'B',   // Test lagged Y2 coefficients in Y1 equation
            5: 'C',   // Eigenvalues < 1 in absolute value
            6: 'B',   // Effect of shock over time
            7: 'B',   // BIC most parsimonious
            8: 'B',   // Proportion of variance from each shock
            9: 'B',   // First affects later contemporaneously
            10: 'C',  // VECM for cointegrated I(1)
            11: 'B',  // Residuals serially uncorrelated
            12: 'B',  // SVAR identifies structural shocks
            13: 'B',  // Granger = predictive, not true causation
            14: 'A',  // OLS on each equation
            15: 'B',  // IRF converges to zero
            16: 'C',  // Bidirectional causality
            17: 'B',  // Companion form for stability
            18: 'B',  // FEVD converges to long-run
            19: 'B',  // Instantaneous = same-period correlation
            20: 'B'   // Check stationarity first
        };

        const ch8Answers = {
            1: 'B',   // H=0.8 means persistence/long memory
            2: 'C',   // ARFIMA d can be any real value
            3: 'C',   // Long memory in volatility
            4: 'B',   // Feature engineering: lags + rolling stats
            5: 'B',   // TS CV: violates temporal order
            6: 'B',   // LSTM solves vanishing gradients
            7: 'B',   // Normalize to [0,1] or [-1,1]
            8: 'D',   // d parameter is ARFIMA, not LSTM
            9: 'B',   // Feature importance = identify predictive features
            10: 'C',  // Best model depends on data
            11: 'B',  // Long memory ACF decays hyperbolically
            12: 'B',  // d=0.3 is stationary with long memory
            13: 'B',  // RF uses bagging + averaging
            14: 'B',  // Data leakage: scaling with full data
            15: 'B',  // Forget gate discards info
            16: 'B',  // Dropout prevents overfitting
            17: 'B',  // Early stopping prevents overfitting
            18: 'B',  // Sequence length: balance memory vs cost
            19: 'B',  // R/S estimates Hurst exponent
            20: 'B'   // Direction accuracy: up/down prediction
        };

        const ch9Answers = {
            1: 'B',   // SARIMA allows only one seasonal period
            2: 'B',   // TBATS = Trigonometric, Box-Cox, ARMA, Trend, Seasonal
            3: 'B',   // More K = more flexible
            4: 'B',   // Prophet: trend + seasonality + holidays + error
            5: 'B',   // Prophet when holidays/changepoints known
            6: 'B',   // Multiplicative when amplitude scales with level
            7: 'B',   // Changepoints adjust trend slope
            8: 'C',   // SARIMA for single seasonality
            9: 'B',   // Prophet uses posterior sampling
            10: 'D',  // TBATS or Prophet depending on needs
            11: 'B',  // Box-Cox stabilizes variance
            12: 'B',  // Default trend is piecewise linear
            13: 'B',  // 2*K = 6 parameters
            14: 'B',  // Prophet handles missing data well
            15: 'B',  // Holidays are additive with windows
            16: 'B',  // Overfitting: jagged patterns
            17: 'B',  // TBATS uses AIC
            18: 'B',  // Prophet uses rolling origin CV
            19: 'B',  // Higher prior = more flexible trend
            20: 'B'   // Prophet: interpretable decomposition
        };

        // Chapter 10 answers (Comprehensive Review)
        const ch10Answers = {
            1: 'B',   // Correct workflow order
            2: 'B',   // Large RMSE/MAE ratio = outlying errors
            3: 'B',   // MAPE problematic near zero
            4: 'C',   // Volatility clustering = GARCH
            5: 'B',   // ADF no reject + KPSS reject = non-stationary
            6: 'B',   // Multiplicative for increasing amplitude
            7: 'C',   // Monthly yearly pattern: m=12
            8: 'C',   // MAPE is scale-independent
            9: 'B',   // Prophet changepoints for structural breaks
            10: 'B',  // Ljung-Box tests autocorrelation
            11: 'B',  // PACF cutoff = AR order
            12: 'B',  // Returns are stationary, prices are not
            13: 'B',  // BIC selects simpler models
            14: 'C',  // Time series CV = rolling origin
            15: 'C',  // Multiple seasonality = TBATS/Prophet
            16: 'B',  // High persistence: alpha+beta close to 1
            17: 'C',  // Prediction intervals widen with horizon
            18: 'B',  // 45% < 50% = worse than random
            19: 'B',  // Parsimony: simplest adequate model
            20: 'B'   // Systematic data-driven workflow
        };

        let userAnswersCh0 = {};
        let userAnswersCh1 = {};
        let userAnswersCh2 = {};
        let userAnswersCh3 = {};
        let userAnswersCh4 = {};
        let userAnswersCh5 = {};
        let userAnswersCh8 = {};
        let userAnswersCh9 = {};
        let userAnswersCh10 = {};

        // Show/hide chapters
        function showChapter(chapter) {
            document.getElementById('chapter0-quizzes').style.display = chapter === 0 ? 'block' : 'none';
            document.getElementById('chapter1-quizzes').style.display = chapter === 1 ? 'block' : 'none';
            document.getElementById('chapter2-quizzes').style.display = chapter === 2 ? 'block' : 'none';
            document.getElementById('chapter3-quizzes').style.display = chapter === 3 ? 'block' : 'none';
            document.getElementById('chapter4-quizzes').style.display = chapter === 4 ? 'block' : 'none';
            document.getElementById('chapter5-quizzes').style.display = chapter === 5 ? 'block' : 'none';
            document.getElementById('chapter6-quizzes').style.display = chapter === 6 ? 'block' : 'none';
            document.getElementById('chapter7-quizzes').style.display = chapter === 7 ? 'block' : 'none';
            document.getElementById('chapter8-quizzes').style.display = chapter === 8 ? 'block' : 'none';
            document.getElementById('chapter9-quizzes').style.display = chapter === 9 ? 'block' : 'none';
            document.getElementById('chapter10-quizzes').style.display = chapter === 10 ? 'block' : 'none';

            // Update tab styles
            document.getElementById('tab-ch0').style.background = chapter === 0 ? 'var(--main-blue)' : 'white';
            document.getElementById('tab-ch0').style.color = chapter === 0 ? 'white' : 'var(--main-blue)';
            document.getElementById('tab-ch1').style.background = chapter === 1 ? 'var(--main-blue)' : 'white';
            document.getElementById('tab-ch1').style.color = chapter === 1 ? 'white' : 'var(--main-blue)';
            document.getElementById('tab-ch2').style.background = chapter === 2 ? 'var(--main-blue)' : 'white';
            document.getElementById('tab-ch2').style.color = chapter === 2 ? 'white' : 'var(--main-blue)';
            document.getElementById('tab-ch3').style.background = chapter === 3 ? 'var(--main-blue)' : 'white';
            document.getElementById('tab-ch3').style.color = chapter === 3 ? 'white' : 'var(--main-blue)';
            document.getElementById('tab-ch4').style.background = chapter === 4 ? 'var(--main-blue)' : 'white';
            document.getElementById('tab-ch4').style.color = chapter === 4 ? 'white' : 'var(--main-blue)';
            document.getElementById('tab-ch5').style.background = chapter === 5 ? 'var(--main-blue)' : 'white';
            document.getElementById('tab-ch5').style.color = chapter === 5 ? 'white' : 'var(--main-blue)';
            document.getElementById('tab-ch6').style.background = chapter === 6 ? 'var(--main-blue)' : 'white';
            document.getElementById('tab-ch6').style.color = chapter === 6 ? 'white' : 'var(--main-blue)';
            document.getElementById('tab-ch7').style.background = chapter === 7 ? 'var(--main-blue)' : 'white';
            document.getElementById('tab-ch7').style.color = chapter === 7 ? 'white' : 'var(--main-blue)';
            document.getElementById('tab-ch8').style.background = chapter === 8 ? 'var(--main-blue)' : 'white';
            document.getElementById('tab-ch8').style.color = chapter === 8 ? 'white' : 'var(--main-blue)';
            document.getElementById('tab-ch9').style.background = chapter === 9 ? 'var(--main-blue)' : 'white';
            document.getElementById('tab-ch9').style.color = chapter === 9 ? 'white' : 'var(--main-blue)';
            document.getElementById('tab-ch10').style.background = chapter === 10 ? 'var(--main-blue)' : 'white';
            document.getElementById('tab-ch10').style.color = chapter === 10 ? 'white' : 'var(--main-blue)';
        }

        function checkAnswer(chapter, questionNum, selectedAnswer) {
            let correctAnswers, userAnswers, prefix;

            if (chapter === 'ch0') {
                correctAnswers = ch0Answers;
                userAnswers = userAnswersCh0;
                prefix = 'ch0';
            } else if (chapter === 'ch10') {
                correctAnswers = ch10Answers;
                userAnswers = userAnswersCh10;
                prefix = 'ch10';
            } else if (chapter === 'ch9') {
                correctAnswers = ch9Answers;
                userAnswers = userAnswersCh9;
                prefix = 'ch9';
            } else if (chapter === 'ch8') {
                correctAnswers = ch8Answers;
                userAnswers = userAnswersCh8;
                prefix = 'ch8';
            } else if (chapter === 'ch6') {
                correctAnswers = ch6Answers;
                userAnswers = userAnswersCh6;
                prefix = 'ch6';
            } else if (chapter === 'ch5') {
                correctAnswers = ch5Answers;
                userAnswers = userAnswersCh5;
                prefix = 'ch5';
            } else if (chapter === 'ch4') {
                correctAnswers = ch4Answers;
                userAnswers = userAnswersCh4;
                prefix = 'ch4';
            } else if (chapter === 'ch3') {
                correctAnswers = ch3Answers;
                userAnswers = userAnswersCh3;
                prefix = 'ch3';
            } else if (chapter === 'ch2') {
                correctAnswers = ch2Answers;
                userAnswers = userAnswersCh2;
                prefix = 'ch2';
            } else {
                correctAnswers = ch1Answers;
                userAnswers = userAnswersCh1;
                prefix = '';
            }

            userAnswers[questionNum] = selectedAnswer;

            // Visually check the radio button
            const qId = prefix ? prefix + 'q' + questionNum : 'q' + questionNum;
            const qDiv = document.getElementById(qId);
            if (qDiv) {
                qDiv.querySelectorAll('input[type="radio"]').forEach(r => r.checked = false);
                const lis = qDiv.querySelectorAll('.quiz-options li');
                lis.forEach(li => {
                    const text = li.textContent.trim();
                    if (text.match(new RegExp('^' + selectedAnswer + '\\)'))) {
                        const radio = li.querySelector('input[type="radio"]');
                        if (radio) radio.checked = true;
                    }
                });
            }
        }

        function calculateScore(chapter) {
            let score = 0;
            let answered = 0;
            let total, correctAnswers, userAnswers, displayId, qPrefix;

            if (chapter === 'ch0' || chapter === 0) {
                total = 20;
                correctAnswers = ch0Answers;
                userAnswers = userAnswersCh0;
                displayId = 'score-display-ch0';
                qPrefix = 'ch0';
            } else if (chapter === 10) {
                total = 20;
                correctAnswers = ch10Answers;
                userAnswers = userAnswersCh10;
                displayId = 'score-display-ch10';
                qPrefix = 'ch10';
            } else if (chapter === 9) {
                total = 20;
                correctAnswers = ch9Answers;
                userAnswers = userAnswersCh9;
                displayId = 'score-display-ch9';
                qPrefix = 'ch9';
            } else if (chapter === 8) {
                total = 20;
                correctAnswers = ch8Answers;
                userAnswers = userAnswersCh8;
                displayId = 'score-display-ch8';
                qPrefix = 'ch8';
            } else if (chapter === 6) {
                total = 20;
                correctAnswers = ch6Answers;
                userAnswers = userAnswersCh6;
                displayId = 'score-display-ch6';
                qPrefix = 'ch6';
            } else if (chapter === 5) {
                total = 20;
                correctAnswers = ch5Answers;
                userAnswers = userAnswersCh5;
                displayId = 'score-display-ch5';
                qPrefix = 'ch5';
            } else if (chapter === 4) {
                total = 10;
                correctAnswers = ch4Answers;
                userAnswers = userAnswersCh4;
                displayId = 'score-display-ch4';
                qPrefix = 'ch4';
            } else if (chapter === 3) {
                total = 20;
                correctAnswers = ch3Answers;
                userAnswers = userAnswersCh3;
                displayId = 'score-display-ch3';
                qPrefix = 'ch3';
            } else if (chapter === 2) {
                total = 20;
                correctAnswers = ch2Answers;
                userAnswers = userAnswersCh2;
                displayId = 'score-display-ch2';
                qPrefix = 'ch2';
            } else {
                total = 20;
                correctAnswers = ch1Answers;
                userAnswers = userAnswersCh1;
                displayId = 'score-display-ch1';
                qPrefix = '';
            }

            for (let i = 1; i <= total; i++) {
                if (userAnswers[i]) {
                    answered++;
                    if (userAnswers[i] === correctAnswers[i]) {
                        score++;
                    }
                }
            }

            const totalPercentage = Math.round((score / total) * 100);

            let message = `Score: ${score}/${total} (${totalPercentage}%)`;
            if (answered < total) {
                message += ` - ${total - answered} questions unanswered`;
            }

            if (totalPercentage >= 90) {
                message += ' - Excellent!';
            } else if (totalPercentage >= 70) {
                message += ' - Good job!';
            } else if (totalPercentage >= 50) {
                message += ' - Keep studying!';
            } else {
                message += ' - Keep practicing!';
            }

            document.getElementById(displayId).textContent = message;

            // Send results to Google Sheets
            const chapterNum = (chapter === 'ch0' || chapter === 0) ? 0 :
                               (chapter === 'garch' || chapter === 5) ? 5 :
                               (typeof chapter === 'number') ? chapter : parseInt(chapter);
            sendResults(chapterNum, score, total);

            // Show answer key
            const keyId = displayId.replace('score-display', 'answer-key');
            let existingKey = document.getElementById(keyId);
            if (!existingKey) {
                existingKey = document.createElement('div');
                existingKey.id = keyId;
                existingKey.style.cssText = 'margin-top: 1.5rem; padding: 1.5rem; background: #f8f9fa; border-radius: 8px; border: 1px solid #dee2e6;';
                document.getElementById(displayId).parentNode.appendChild(existingKey);
            }
            // Helper: get option text from DOM
            function getOptionText(qId, letter) {
                const qDiv = document.getElementById(qId);
                if (!qDiv) return letter;
                const lis = qDiv.querySelectorAll('.quiz-options li');
                for (const li of lis) {
                    const text = li.textContent.trim();
                    if (text.match(new RegExp('^' + letter + '\\)'))) return text;
                }
                return letter;
            }

            // Helper: get question text from DOM
            function getQuestionText(qId) {
                const qDiv = document.getElementById(qId);
                if (!qDiv) return '';
                const p = qDiv.querySelector('p');
                return p ? p.textContent.trim() : '';
            }

            let keyHtml = '<h4 style="margin-bottom: 0.8rem; color: var(--main-blue);">Detailed Results</h4>';
            keyHtml += '<table style="width: 100%; border-collapse: collapse; font-size: 0.85rem;">';
            keyHtml += '<tr style="background: var(--main-blue); color: white;"><th style="padding: 0.4rem 0.6rem; text-align: center; border: 1px solid #dee2e6; width: 3%;">Q</th><th style="padding: 0.4rem 0.6rem; text-align: left; border: 1px solid #dee2e6;">Question</th><th style="padding: 0.4rem 0.6rem; text-align: left; border: 1px solid #dee2e6;">Correct Answer</th><th style="padding: 0.4rem 0.6rem; text-align: left; border: 1px solid #dee2e6;">Your Answer</th><th style="padding: 0.4rem 0.6rem; text-align: center; border: 1px solid #dee2e6; width: 3%;">â/â</th></tr>';
            for (let i = 1; i <= total; i++) {
                const qId = qPrefix ? qPrefix + 'q' + i : 'q' + i;
                const ua = userAnswers[i] || 'â';
                const isCorrect = userAnswers[i] === correctAnswers[i];
                const bgColor = !userAnswers[i] ? '#f8f9fa' : (isCorrect ? '#e8f5e9' : '#ffebee');
                const resultText = !userAnswers[i] ? '<span style="color:#999;">â</span>' : (isCorrect ? '<span style="color:#2E7D32; font-weight:bold;">â</span>' : '<span style="color:#DC3545; font-weight:bold;">â</span>');
                const questionText = getQuestionText(qId);
                const correctText = getOptionText(qId, correctAnswers[i]);
                const userText = userAnswers[i] ? getOptionText(qId, userAnswers[i]) : 'â';
                keyHtml += `<tr style="background: ${bgColor};"><td style="padding: 0.3rem 0.6rem; text-align: center; border: 1px solid #dee2e6;"><strong>${i}</strong></td><td style="padding: 0.3rem 0.6rem; text-align: left; border: 1px solid #dee2e6;">${questionText}</td><td style="padding: 0.3rem 0.6rem; text-align: left; border: 1px solid #dee2e6;">${correctText}</td><td style="padding: 0.3rem 0.6rem; text-align: left; border: 1px solid #dee2e6;">${userText}</td><td style="padding: 0.3rem 0.6rem; text-align: center; border: 1px solid #dee2e6;">${resultText}</td></tr>`;
            }
            keyHtml += '</table>';
            existingKey.innerHTML = keyHtml;
            existingKey.style.display = 'block';
        }

        function resetQuiz(chapter) {
            let total, prefix, displayId, container;

            if (chapter === 'ch0' || chapter === 0) {
                total = 20;
                prefix = 'ch0';
                displayId = 'score-display-ch0';
                container = 'chapter0-quizzes';
                userAnswersCh0 = {};
            } else if (chapter === 10) {
                total = 20;
                prefix = 'ch10';
                displayId = 'score-display-ch10';
                container = 'chapter10-quizzes';
                userAnswersCh10 = {};
            } else if (chapter === 9) {
                total = 20;
                prefix = 'ch9';
                displayId = 'score-display-ch9';
                container = 'chapter9-quizzes';
                userAnswersCh9 = {};
            } else if (chapter === 8) {
                total = 20;
                prefix = 'ch8';
                displayId = 'score-display-ch8';
                container = 'chapter8-quizzes';
                userAnswersCh8 = {};
            } else if (chapter === 6) {
                total = 20;
                prefix = 'ch6';
                displayId = 'score-display-ch6';
                container = 'chapter6-quizzes';
                userAnswersCh6 = {};
            } else if (chapter === 5) {
                total = 20;
                prefix = 'ch5';
                displayId = 'score-display-ch5';
                container = 'chapter5-quizzes';
                userAnswersCh5 = {};
            } else if (chapter === 4) {
                total = 10;
                prefix = 'ch4';
                displayId = 'score-display-ch4';
                container = 'chapter4-quizzes';
                userAnswersCh4 = {};
            } else if (chapter === 3) {
                total = 20;
                prefix = 'ch3';
                displayId = 'score-display-ch3';
                container = 'chapter3-quizzes';
                userAnswersCh3 = {};
            } else if (chapter === 2) {
                total = 20;
                prefix = 'ch2';
                displayId = 'score-display-ch2';
                container = 'chapter2-quizzes';
                userAnswersCh2 = {};
            } else {
                total = 20;
                prefix = '';
                displayId = 'score-display-ch1';
                container = 'chapter1-quizzes';
                userAnswersCh1 = {};
            }

            for (let i = 1; i <= total; i++) {
                const correctDiv = document.getElementById(`${prefix}answer${i}-correct`);
                const incorrectDiv = document.getElementById(`${prefix}answer${i}-incorrect`);
                if (correctDiv) correctDiv.style.display = 'none';
                if (incorrectDiv) incorrectDiv.style.display = 'none';
            }

            // Uncheck radio buttons for this chapter
            document.querySelectorAll(`#${container} input[type="radio"]`).forEach(radio => {
                radio.checked = false;
            });

            document.getElementById(displayId).textContent = '';

            // Hide answer key
            const keyId = displayId.replace('score-display', 'answer-key');
            const keyDiv = document.getElementById(keyId);
            if (keyDiv) keyDiv.style.display = 'none';

            // Reset 10+10 toggle (show set1, hide set2)
            const set1 = document.getElementById(prefix + '-set1');
            const set2 = document.getElementById(prefix + '-set2');
            if (set1) set1.style.display = 'block';
            if (set2) set2.style.display = 'none';
        }

        // Smooth scrolling for navigation
        document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>
</html>
