<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time Series Analysis - Course Website</title>

    <!-- MathJax for beautiful math rendering -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>

    <style>
        :root {
            --main-blue: #1A3A6E;
            --accent-blue: #2A528C;
            --ida-red: #DC3545;
            --forest: #2E7D32;
            --dark-gray: #333;
            --light-gray: #f5f5f5;
            --white: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark-gray);
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--main-blue) 0%, var(--accent-blue) 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        /* Navigation */
        nav {
            background: var(--dark-gray);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background 0.3s;
        }

        nav a:hover {
            background: var(--main-blue);
        }

        /* Language Switcher */
        .lang-switcher {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-left: auto;
            padding-left: 2rem;
        }

        .lang-btn {
            padding: 0.4rem 0.8rem;
            border: 2px solid white;
            border-radius: 4px;
            background: transparent;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .lang-btn:hover {
            background: white;
            color: var(--dark-gray);
        }

        .lang-btn.active {
            background: white;
            color: var(--main-blue);
        }

        /* Main Content */
        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        section {
            margin-bottom: 3rem;
        }

        h2 {
            color: var(--main-blue);
            border-bottom: 3px solid var(--ida-red);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }

        /* Course Info */
        .course-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .info-card {
            background: var(--light-gray);
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid var(--main-blue);
        }

        .info-card h3 {
            color: var(--main-blue);
            margin-bottom: 0.5rem;
        }

        /* Chapter Cards */
        .chapters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .chapter-card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .chapter-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .chapter-header {
            background: var(--main-blue);
            color: white;
            padding: 1rem;
        }

        .chapter-header h3 {
            margin: 0;
        }

        .chapter-body {
            padding: 1.5rem;
        }

        .chapter-body ul {
            list-style: none;
            margin-bottom: 1rem;
        }

        .chapter-body li {
            padding: 0.3rem 0;
            padding-left: 1.5rem;
            position: relative;
        }

        .chapter-body li::before {
            content: ">";
            color: var(--ida-red);
            position: absolute;
            left: 0;
            font-weight: bold;
        }

        .chapter-links {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .btn {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            text-decoration: none;
            font-size: 0.9rem;
            transition: background 0.3s;
        }

        .btn-primary {
            background: var(--main-blue);
            color: white;
        }

        .btn-primary:hover {
            background: var(--accent-blue);
        }

        .btn-secondary {
            background: var(--forest);
            color: white;
        }

        .btn-secondary:hover {
            background: #1b5e20;
        }

        .btn-outline {
            border: 2px solid var(--main-blue);
            color: var(--main-blue);
            background: white;
        }

        .btn-outline:hover {
            background: var(--main-blue);
            color: white;
        }

        .btn-colab {
            background: #F9AB00;
            color: #333;
        }

        .btn-colab:hover {
            background: #E09600;
        }

        .colab-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.3rem;
            background: #F9AB00;
            color: #333;
            padding: 0.3rem 0.6rem;
            border-radius: 4px;
            font-size: 0.8rem;
            text-decoration: none;
            margin-left: 0.5rem;
            transition: background 0.3s;
        }

        .colab-badge:hover {
            background: #E09600;
        }

        .colab-badge img {
            height: 16px;
        }

        /* Quiz Section */
        .quiz-container {
            background: var(--light-gray);
            padding: 2rem;
            border-radius: 8px;
        }

        .quiz-question {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            border-left: 4px solid var(--main-blue);
        }

        .quiz-question h4 {
            color: var(--main-blue);
            margin-bottom: 1rem;
        }

        .quiz-options {
            list-style: none;
        }

        .quiz-options li {
            padding: 0.5rem;
            margin: 0.3rem 0;
            cursor: pointer;
            border-radius: 4px;
            transition: background 0.3s;
        }

        .quiz-options li:hover {
            background: #e3f2fd;
        }

        .quiz-options input[type="radio"] {
            margin-right: 0.5rem;
        }

        .answer-reveal {
            display: none;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 4px;
        }

        .answer-correct {
            background: #c8e6c9;
            border-left: 4px solid var(--forest);
        }

        .answer-incorrect {
            background: #ffcdd2;
            border-left: 4px solid var(--ida-red);
        }

        /* Resources */
        .resources-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .resource-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: white;
            border-radius: 8px;
            border: 1px solid #ddd;
            text-decoration: none;
            color: var(--dark-gray);
            transition: background 0.3s;
        }

        .resource-item:hover {
            background: var(--light-gray);
        }

        .resource-icon {
            width: 40px;
            height: 40px;
            background: var(--main-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        /* Footer */
        footer {
            background: var(--dark-gray);
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            nav ul {
                flex-direction: column;
                align-items: center;
                gap: 0.5rem;
            }

            header h1 {
                font-size: 1.8rem;
            }

            .chapter-links {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <div style="display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto; padding: 0 2rem;">
            <a href="https://www.ase.ro" target="_blank"><img src="logos/ase_logo.png" alt="ASE Logo" style="height: 60px; background: white; padding: 5px; border-radius: 4px;"></a>
            <div style="text-align: center; flex: 1;">
                <h1>Time Series Analysis</h1>
                <p>Bachelor program | Faculty of Cybernetics, Statistics and Economic Informatics | Bucharest University of Economic Studies, Romania</p>
            </div>
            <a href="https://www.theida.net/" target="_blank"><img src="logos/ida_logo.png" alt="IDA Logo" style="height: 60px; background: white; padding: 5px; border-radius: 4px;"></a>
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#chapters">Chapters</a></li>
            <li><a href="#quizzes">Quizzes</a></li>
            <li><a href="#resources">Resources</a></li>
            <li><a href="#contact">Contact</a></li>
            <li class="lang-switcher">
                <a href="index.html" class="lang-btn active">EN</a>
                <a href="index_ro.html" class="lang-btn">RO</a>
            </li>
        </ul>
    </nav>

    <main>
        <section id="home">
            <h2>Course Overview</h2>
            <div class="course-info">
                <div class="info-card">
                    <h3>Course</h3>
                    <p>Time Series Analysis and Forecasting</p>
                    <p>Bucharest University of Economic Studies</p>
                </div>
                <div class="info-card">
                    <h3>Schedule</h3>
                    <p><strong>Lectures:</strong> 2 hours/week</p>
                    <p><strong>Seminars:</strong> 2 hours/week</p>
                </div>
                <div class="info-card">
                    <h3>Prerequisites</h3>
                    <p>Statistics, Probability Theory</p>
                    <p>Linear Algebra, Python Programming</p>
                </div>
                <div class="info-card">
                    <h3>Assessment</h3>
                    <p>Final Exam: 60%</p>
                    <p>Projects & Assignments: 40%</p>
                </div>
            </div>

            <h3>Learning Objectives</h3>
            <p>By the end of this course, you will be able to:</p>
            <ul style="margin-left: 2rem; margin-top: 1rem;">
                <li>Understand stationarity, autocorrelation (ACF), and partial autocorrelation (PACF)</li>
                <li>Apply decomposition methods and exponential smoothing (SES, Holt, Holt-Winters)</li>
                <li>Build and diagnose ARMA and ARIMA models using Box-Jenkins methodology</li>
                <li>Model seasonal time series with SARIMA</li>
                <li>Analyze multivariate systems with VAR models and Granger causality tests</li>
                <li>Interpret Impulse Response Functions and Forecast Error Variance Decomposition</li>
                <li>Implement time series analysis and forecasting in Python</li>
            </ul>

            <h3 style="margin-top: 2rem;">Key Formulas</h3>
            <div class="course-info" style="margin-top: 1rem;">
                <div class="info-card">
                    <h3>Decomposition</h3>
                    <p><strong>Additive:</strong> $X_t = T_t + S_t + \varepsilon_t$</p>
                    <p><strong>Multiplicative:</strong> $X_t = T_t \times S_t \times \varepsilon_t$</p>
                </div>
                <div class="info-card">
                    <h3>Stationarity</h3>
                    <p>$\mathbb{E}[X_t] = \mu$ (constant)</p>
                    <p>$\text{Var}(X_t) = \sigma^2$ (constant)</p>
                    <p>$\text{Cov}(X_t, X_{t+h}) = \gamma(h)$</p>
                </div>
                <div class="info-card">
                    <h3>AR(p) Model</h3>
                    <p>$X_t = c + \phi_1 X_{t-1} + ... + \phi_p X_{t-p} + \varepsilon_t$</p>
                    <p>Stationary if roots outside unit circle</p>
                </div>
                <div class="info-card">
                    <h3>MA(q) Model</h3>
                    <p>$X_t = \mu + \varepsilon_t + \theta_1\varepsilon_{t-1} + ... + \theta_q\varepsilon_{t-q}$</p>
                    <p>Always stationary</p>
                </div>
                <div class="info-card">
                    <h3>ARIMA(p,d,q)</h3>
                    <p>$\phi(L)(1-L)^d X_t = \theta(L)\varepsilon_t$</p>
                    <p>$d$ = order of differencing</p>
                </div>
                <div class="info-card">
                    <h3>SARIMA</h3>
                    <p>$(p,d,q) \times (P,D,Q)_s$</p>
                    <p>$\Phi(L^s)\phi(L)(1-L)^d(1-L^s)^D X_t = \Theta(L^s)\theta(L)\varepsilon_t$</p>
                </div>
                <div class="info-card">
                    <h3>VAR(p) Model</h3>
                    <p>$\mathbf{Y}_t = \mathbf{c} + \mathbf{A}_1\mathbf{Y}_{t-1} + ... + \mathbf{A}_p\mathbf{Y}_{t-p} + \boldsymbol{\varepsilon}_t$</p>
                    <p>Multivariate extension of AR</p>
                </div>
                <div class="info-card">
                    <h3>Granger Causality</h3>
                    <p>$X$ Granger-causes $Y$ if past $X$ improves forecast of $Y$</p>
                    <p>$H_0$: coefficients on lagged $X$ are zero</p>
                </div>
                <div class="info-card">
                    <h3>Model Selection</h3>
                    <p>AIC $= -2\log L + 2k$</p>
                    <p>BIC $= -2\log L + k\log n$</p>
                </div>
            </div>
        </section>

        <section id="chapters">
            <h2>Course Chapters</h2>
            <div class="chapters-grid">
                <div class="chapter-card">
                    <div class="chapter-header">
                        <h3>Chapter 1: Introduction to Time Series</h3>
                    </div>
                    <div class="chapter-body">
                        <ul>
                            <li>Time Series Definition & Types</li>
                            <li>Decomposition Methods</li>
                            <li>Exponential Smoothing (SES, Holt, HW)</li>
                            <li>Forecast Evaluation</li>
                            <li>Stationarity & Unit Root Tests</li>
                            <li>ACF and PACF</li>
                        </ul>
                        <div class="chapter-links">
                            <a href="chapter1_intro_timeseries.pdf" class="btn btn-primary">Lecture Slides</a>
                            <a href="chapter1_seminar.pdf" class="btn btn-secondary">Seminar</a>
                            <a href="chapter1_lecture_notebook.html" class="btn btn-outline">Lecture Notebook</a>
                            <a href="chapter1_seminar_notebook.html" class="btn btn-outline">Seminar Notebook</a>
                        </div>
                    </div>
                </div>

                <div class="chapter-card">
                    <div class="chapter-header">
                        <h3>Chapter 2: ARMA Models</h3>
                    </div>
                    <div class="chapter-body">
                        <ul>
                            <li>Autoregressive (AR) Models</li>
                            <li>Moving Average (MA) Models</li>
                            <li>ARMA Model Identification</li>
                            <li>Parameter Estimation</li>
                            <li>Model Diagnostics</li>
                            <li>Forecasting with ARMA</li>
                        </ul>
                        <div class="chapter-links">
                            <a href="chapter2_arma_models.pdf" class="btn btn-primary">Lecture Slides</a>
                            <a href="chapter2_seminar.pdf" class="btn btn-secondary">Seminar</a>
                            <a href="chapter2_lecture_notebook.html" class="btn btn-outline">Lecture Notebook</a>
                            <a href="chapter2_seminar_notebook.html" class="btn btn-outline">Seminar Notebook</a>
                        </div>
                    </div>
                </div>

                <div class="chapter-card">
                    <div class="chapter-header">
                        <h3>Chapter 3: ARIMA Models</h3>
                    </div>
                    <div class="chapter-body">
                        <ul>
                            <li>Non-Stationarity & Unit Roots</li>
                            <li>Differencing & Integration</li>
                            <li>ARIMA(p,d,q) Models</li>
                            <li>Unit Root Tests (ADF, KPSS)</li>
                            <li>Box-Jenkins Methodology</li>
                            <li>Forecasting with ARIMA</li>
                        </ul>
                        <div class="chapter-links">
                            <a href="chapter3_arima_models.pdf" class="btn btn-primary">Lecture Slides</a>
                            <a href="chapter3_seminar.pdf" class="btn btn-secondary">Seminar</a>
                            <a href="chapter3_lecture_notebook.html" class="btn btn-outline">Lecture Notebook</a>
                            <a href="chapter3_seminar_notebook.html" class="btn btn-outline">Seminar Notebook</a>
                        </div>
                    </div>
                </div>

                <div class="chapter-card">
                    <div class="chapter-header">
                        <h3>Chapter 4: SARIMA Models</h3>
                    </div>
                    <div class="chapter-body">
                        <ul>
                            <li>Seasonality in Time Series</li>
                            <li>Seasonal Decomposition</li>
                            <li>Seasonal Differencing</li>
                            <li>SARIMA$(p,d,q) \times (P,D,Q)_s$</li>
                            <li>Airline Model</li>
                            <li>Seasonal Forecasting</li>
                        </ul>
                        <div class="chapter-links">
                            <a href="chapter4_sarima_models.pdf" class="btn btn-primary">Lecture Slides</a>
                            <a href="chapter4_seminar.pdf" class="btn btn-secondary">Seminar</a>
                            <a href="chapter4_lecture_notebook.html" class="btn btn-outline">Lecture Notebook</a>
                            <a href="chapter4_seminar_notebook.html" class="btn btn-outline">Seminar Notebook</a>
                        </div>
                    </div>
                </div>

                <div class="chapter-card">
                    <div class="chapter-header">
                        <h3>Chapter 5: VAR Models & Granger Causality</h3>
                    </div>
                    <div class="chapter-body">
                        <ul>
                            <li>Vector Autoregression (VAR)</li>
                            <li>Granger Causality Testing</li>
                            <li>Impulse Response Functions</li>
                            <li>Forecast Error Variance Decomposition</li>
                            <li>Structural VAR (SVAR)</li>
                            <li>Cointegration & VECM</li>
                        </ul>
                        <div class="chapter-links">
                            <a href="chapter5_var_granger.pdf" class="btn btn-primary">Lecture Slides</a>
                            <a href="chapter5_seminar.pdf" class="btn btn-secondary">Seminar</a>
                            <a href="chapter5_lecture_notebook.html" class="btn btn-outline">Lecture Notebook</a>
                            <a href="chapter5_seminar_notebook.html" class="btn btn-outline">Seminar Notebook</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="quizzes">
            <h2>Interactive Quizzes</h2>

            <!-- Chapter Selector Tabs -->
            <div class="chapter-tabs" style="margin-bottom: 2rem; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; padding: 1rem; background: var(--light-gray); border-radius: 8px;">
                <button class="tab-btn active" onclick="showChapter(1)" id="tab-ch1" style="padding: 1rem 2rem; font-size: 1.1rem; cursor: pointer; border: 3px solid var(--main-blue); background: var(--main-blue); color: white; border-radius: 8px; font-weight: bold; transition: all 0.3s; box-shadow: 0 2px 8px rgba(0,0,0,0.2);">Chapter 1</button>
                <button class="tab-btn" onclick="showChapter(2)" id="tab-ch2" style="padding: 1rem 2rem; font-size: 1.1rem; cursor: pointer; border: 3px solid var(--main-blue); background: white; color: var(--main-blue); border-radius: 8px; font-weight: bold; transition: all 0.3s;">Chapter 2</button>
                <button class="tab-btn" onclick="showChapter(3)" id="tab-ch3" style="padding: 1rem 2rem; font-size: 1.1rem; cursor: pointer; border: 3px solid var(--main-blue); background: white; color: var(--main-blue); border-radius: 8px; font-weight: bold; transition: all 0.3s;">Chapter 3</button>
                <button class="tab-btn" onclick="showChapter(4)" id="tab-ch4" style="padding: 1rem 2rem; font-size: 1.1rem; cursor: pointer; border: 3px solid var(--main-blue); background: white; color: var(--main-blue); border-radius: 8px; font-weight: bold; transition: all 0.3s;">Chapter 4</button>
                <button class="tab-btn" onclick="showChapter(5)" id="tab-ch5" style="padding: 1rem 2rem; font-size: 1.1rem; cursor: pointer; border: 3px solid var(--main-blue); background: white; color: var(--main-blue); border-radius: 8px; font-weight: bold; transition: all 0.3s;">Chapter 5</button>
            </div>
            <p style="text-align: center; color: #666; margin-bottom: 1.5rem;"><em>Click on a chapter tab above to switch between quizzes</em></p>

            <!-- Chapter 1 Quizzes -->
            <div class="quiz-container" id="chapter1-quizzes">
                <h3 style="margin-bottom: 1.5rem;">Chapter 1: Introduction to Time Series</h3>

                <!-- Question 1 -->
                <div class="quiz-question" id="q1">
                    <h4>Question 1: Time Series Basics</h4>
                    <p>Which of the following is NOT a characteristic of time series data?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 1, 'A')"><input type="radio" name="q1"> A) Observations are ordered in time</li>
                        <li onclick="checkAnswer('ch1', 1, 'B')"><input type="radio" name="q1"> B) Consecutive observations are typically correlated</li>
                        <li onclick="checkAnswer('ch1', 1, 'C')"><input type="radio" name="q1"> C) Observations are independent and identically distributed</li>
                        <li onclick="checkAnswer('ch1', 1, 'D')"><input type="radio" name="q1"> D) The data has a natural temporal ordering</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer1-correct">
                        <strong>Correct!</strong> Time series observations are typically DEPENDENT (autocorrelated), not i.i.d.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer1-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Time series observations are typically dependent, not independent.
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="quiz-question" id="q2">
                    <h4>Question 2: Data Types</h4>
                    <p>Which type of data has multiple units observed over multiple time periods?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 2, 'A')"><input type="radio" name="q2"> A) Cross-sectional data</li>
                        <li onclick="checkAnswer('ch1', 2, 'B')"><input type="radio" name="q2"> B) Time series data</li>
                        <li onclick="checkAnswer('ch1', 2, 'C')"><input type="radio" name="q2"> C) Panel data</li>
                        <li onclick="checkAnswer('ch1', 2, 'D')"><input type="radio" name="q2"> D) Pooled data</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer2-correct">
                        <strong>Correct!</strong> Panel data (longitudinal data) has both cross-sectional and time dimensions.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer2-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Panel data combines multiple units across multiple time periods.
                    </div>
                </div>

                <!-- Question 3 -->
                <div class="quiz-question" id="q3">
                    <h4>Question 3: Decomposition</h4>
                    <p>When should you use multiplicative decomposition instead of additive?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 3, 'A')"><input type="radio" name="q3"> A) When the seasonal pattern has constant amplitude</li>
                        <li onclick="checkAnswer('ch1', 3, 'B')"><input type="radio" name="q3"> B) When the variance is stable over time</li>
                        <li onclick="checkAnswer('ch1', 3, 'C')"><input type="radio" name="q3"> C) When seasonal fluctuations grow with the level</li>
                        <li onclick="checkAnswer('ch1', 3, 'D')"><input type="radio" name="q3"> D) When there is no trend component</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer3-correct">
                        <strong>Correct!</strong> In multiplicative decomposition $X_t = T_t \times S_t \times \varepsilon_t$, the seasonal effect scales with the level.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer3-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Use multiplicative when seasonal peaks grow with the series level.
                    </div>
                </div>

                <!-- Question 4 -->
                <div class="quiz-question" id="q4">
                    <h4>Question 4: Seasonal Component</h4>
                    <p>In multiplicative decomposition, if $S_t = 1.15$ for July, this means:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 4, 'A')"><input type="radio" name="q4"> A) July values are 1.15 units above average</li>
                        <li onclick="checkAnswer('ch1', 4, 'B')"><input type="radio" name="q4"> B) July values are 15% above average</li>
                        <li onclick="checkAnswer('ch1', 4, 'C')"><input type="radio" name="q4"> C) July values are 115% of the trend</li>
                        <li onclick="checkAnswer('ch1', 4, 'D')"><input type="radio" name="q4"> D) Both B and C are correct</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer4-correct">
                        <strong>Correct!</strong> In multiplicative models, $S_t = 1.15$ means 15% above average, or equivalently, 115% of the trend value.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer4-incorrect">
                        <strong>Incorrect.</strong> The correct answer is D. $S_t = 1.15$ means both 15% above average AND 115% of trend.
                    </div>
                </div>

                <!-- Question 5 -->
                <div class="quiz-question" id="q5">
                    <h4>Question 5: Moving Average</h4>
                    <p>What is the main purpose of using a centered moving average in decomposition?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 5, 'A')"><input type="radio" name="q5"> A) To forecast future values</li>
                        <li onclick="checkAnswer('ch1', 5, 'B')"><input type="radio" name="q5"> B) To estimate the trend component</li>
                        <li onclick="checkAnswer('ch1', 5, 'C')"><input type="radio" name="q5"> C) To remove outliers</li>
                        <li onclick="checkAnswer('ch1', 5, 'D')"><input type="radio" name="q5"> D) To test for stationarity</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer5-correct">
                        <strong>Correct!</strong> Moving averages smooth out seasonal and random fluctuations to reveal the underlying trend.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer5-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Moving averages are used to estimate trend by smoothing.
                    </div>
                </div>

                <!-- Question 6 -->
                <div class="quiz-question" id="q6">
                    <h4>Question 6: Simple Exponential Smoothing</h4>
                    <p>In SES with $\alpha = 0.1$, what happens?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 6, 'A')"><input type="radio" name="q6"> A) Forecasts react quickly to recent changes</li>
                        <li onclick="checkAnswer('ch1', 6, 'B')"><input type="radio" name="q6"> B) Forecasts are smooth and stable</li>
                        <li onclick="checkAnswer('ch1', 6, 'C')"><input type="radio" name="q6"> C) Only the most recent observation matters</li>
                        <li onclick="checkAnswer('ch1', 6, 'D')"><input type="radio" name="q6"> D) The model captures seasonality</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer6-correct">
                        <strong>Correct!</strong> Low $\alpha$ means more weight on historical data, producing smoother, more stable forecasts.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer6-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Low $\alpha$ = smooth forecasts, high $\alpha$ = reactive forecasts.
                    </div>
                </div>

                <!-- Question 7 -->
                <div class="quiz-question" id="q7">
                    <h4>Question 7: Holt's Method</h4>
                    <p>Holt's linear trend method extends SES by adding:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 7, 'A')"><input type="radio" name="q7"> A) A seasonal component</li>
                        <li onclick="checkAnswer('ch1', 7, 'B')"><input type="radio" name="q7"> B) A trend component</li>
                        <li onclick="checkAnswer('ch1', 7, 'C')"><input type="radio" name="q7"> C) A cyclical component</li>
                        <li onclick="checkAnswer('ch1', 7, 'D')"><input type="radio" name="q7"> D) An error correction term</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer7-correct">
                        <strong>Correct!</strong> Holt's method adds a trend equation: $b_t = \beta^*(\ell_t - \ell_{t-1}) + (1-\beta^*)b_{t-1}$
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer7-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Holt adds trend; Holt-Winters adds both trend and seasonality.
                    </div>
                </div>

                <!-- Question 8 -->
                <div class="quiz-question" id="q8">
                    <h4>Question 8: Holt-Winters</h4>
                    <p>For monthly data with trend and seasonality, which method is most appropriate?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 8, 'A')"><input type="radio" name="q8"> A) Simple Exponential Smoothing</li>
                        <li onclick="checkAnswer('ch1', 8, 'B')"><input type="radio" name="q8"> B) Holt's Linear Method</li>
                        <li onclick="checkAnswer('ch1', 8, 'C')"><input type="radio" name="q8"> C) Holt-Winters Method</li>
                        <li onclick="checkAnswer('ch1', 8, 'D')"><input type="radio" name="q8"> D) Moving Average</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer8-correct">
                        <strong>Correct!</strong> Holt-Winters captures level, trend, AND seasonality with three smoothing equations.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer8-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Only Holt-Winters handles both trend and seasonality.
                    </div>
                </div>

                <!-- Question 9 -->
                <div class="quiz-question" id="q9">
                    <h4>Question 9: Forecast Metrics</h4>
                    <p>Which metric is scale-independent and useful for comparing forecasts across different series?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 9, 'A')"><input type="radio" name="q9"> A) Mean Absolute Error (MAE)</li>
                        <li onclick="checkAnswer('ch1', 9, 'B')"><input type="radio" name="q9"> B) Root Mean Squared Error (RMSE)</li>
                        <li onclick="checkAnswer('ch1', 9, 'C')"><input type="radio" name="q9"> C) Mean Absolute Percentage Error (MAPE)</li>
                        <li onclick="checkAnswer('ch1', 9, 'D')"><input type="radio" name="q9"> D) Mean Squared Error (MSE)</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer9-correct">
                        <strong>Correct!</strong> MAPE $= \frac{100}{n}\sum\left|\frac{e_t}{X_t}\right|$ expresses errors as percentages, making it scale-independent.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer9-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. MAPE is in percentage units, while MAE/RMSE/MSE depend on the scale.
                    </div>
                </div>

                <!-- Question 10 -->
                <div class="quiz-question" id="q10">
                    <h4>Question 10: Train/Test Split</h4>
                    <p>What is the purpose of the validation set in time series modeling?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 10, 'A')"><input type="radio" name="q10"> A) To estimate model parameters</li>
                        <li onclick="checkAnswer('ch1', 10, 'B')"><input type="radio" name="q10"> B) To tune hyperparameters and compare models</li>
                        <li onclick="checkAnswer('ch1', 10, 'C')"><input type="radio" name="q10"> C) To report final model performance</li>
                        <li onclick="checkAnswer('ch1', 10, 'D')"><input type="radio" name="q10"> D) To detect outliers</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer10-correct">
                        <strong>Correct!</strong> Validation set is for model selection and hyperparameter tuning. Test set is for final evaluation only!
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer10-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Training = fit parameters, Validation = tune/compare, Test = final evaluation.
                    </div>
                </div>

                <!-- Question 11 -->
                <div class="quiz-question" id="q11">
                    <h4>Question 11: Residual Diagnostics</h4>
                    <p>Good forecast residuals should have which property?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 11, 'A')"><input type="radio" name="q11"> A) Strong autocorrelation</li>
                        <li onclick="checkAnswer('ch1', 11, 'B')"><input type="radio" name="q11"> B) Increasing variance over time</li>
                        <li onclick="checkAnswer('ch1', 11, 'C')"><input type="radio" name="q11"> C) Zero mean and no autocorrelation</li>
                        <li onclick="checkAnswer('ch1', 11, 'D')"><input type="radio" name="q11"> D) A clear trend pattern</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer11-correct">
                        <strong>Correct!</strong> Good residuals should be white noise: $\mathbb{E}[e_t] = 0$ and $\text{Cov}(e_t, e_{t-k}) = 0$ for $k \neq 0$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer11-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Residuals should resemble white noise (no patterns left to model).
                    </div>
                </div>

                <!-- Question 12 -->
                <div class="quiz-question" id="q12">
                    <h4>Question 12: Weak Stationarity</h4>
                    <p>Which condition is NOT required for weak stationarity?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 12, 'A')"><input type="radio" name="q12"> A) Constant mean: $\mathbb{E}[X_t] = \mu$</li>
                        <li onclick="checkAnswer('ch1', 12, 'B')"><input type="radio" name="q12"> B) Constant variance: $\text{Var}(X_t) = \sigma^2$</li>
                        <li onclick="checkAnswer('ch1', 12, 'C')"><input type="radio" name="q12"> C) Normal distribution</li>
                        <li onclick="checkAnswer('ch1', 12, 'D')"><input type="radio" name="q12"> D) Covariance depends only on lag</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer12-correct">
                        <strong>Correct!</strong> Weak stationarity only requires constant mean, constant variance, and lag-dependent covariance. No distributional assumption!
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer12-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Normality is NOT required for weak stationarity.
                    </div>
                </div>

                <!-- Question 13 -->
                <div class="quiz-question" id="q13">
                    <h4>Question 13: Random Walk</h4>
                    <p>For a random walk $X_t = X_{t-1} + \varepsilon_t$ with $X_0 = 100$ and $\sigma^2 = 4$, what is $\text{Var}(X_{25})$?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 13, 'A')"><input type="radio" name="q13"> A) 4</li>
                        <li onclick="checkAnswer('ch1', 13, 'B')"><input type="radio" name="q13"> B) 25</li>
                        <li onclick="checkAnswer('ch1', 13, 'C')"><input type="radio" name="q13"> C) 100</li>
                        <li onclick="checkAnswer('ch1', 13, 'D')"><input type="radio" name="q13"> D) 625</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer13-correct">
                        <strong>Correct!</strong> $\text{Var}(X_t) = t \cdot \sigma^2 = 25 \times 4 = 100$
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer13-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. For random walk: $\text{Var}(X_t) = t \cdot \sigma^2 = 25 \times 4 = 100$.
                    </div>
                </div>

                <!-- Question 14 -->
                <div class="quiz-question" id="q14">
                    <h4>Question 14: White Noise</h4>
                    <p>Which statement about white noise is FALSE?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 14, 'A')"><input type="radio" name="q14"> A) White noise has zero mean</li>
                        <li onclick="checkAnswer('ch1', 14, 'B')"><input type="radio" name="q14"> B) White noise has constant variance</li>
                        <li onclick="checkAnswer('ch1', 14, 'C')"><input type="radio" name="q14"> C) White noise must be normally distributed</li>
                        <li onclick="checkAnswer('ch1', 14, 'D')"><input type="radio" name="q14"> D) White noise has no autocorrelation</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer14-correct">
                        <strong>Correct!</strong> White noise only requires zero mean, constant variance, and no autocorrelation. Gaussian white noise is a special case.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer14-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. White noise does NOT require normality.
                    </div>
                </div>

                <!-- Question 15 -->
                <div class="quiz-question" id="q15">
                    <h4>Question 15: ACF Patterns</h4>
                    <p>For an AR(1) process with $\phi = 0.8$, the ACF:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 15, 'A')"><input type="radio" name="q15"> A) Cuts off after lag 1</li>
                        <li onclick="checkAnswer('ch1', 15, 'B')"><input type="radio" name="q15"> B) Decays exponentially</li>
                        <li onclick="checkAnswer('ch1', 15, 'C')"><input type="radio" name="q15"> C) Oscillates around zero</li>
                        <li onclick="checkAnswer('ch1', 15, 'D')"><input type="radio" name="q15"> D) Is zero for all lags</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer15-correct">
                        <strong>Correct!</strong> For AR(1): $\rho(h) = \phi^h = 0.8^h$, which decays exponentially toward zero.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer15-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. AR processes have exponentially decaying ACF; MA processes cut off.
                    </div>
                </div>

                <!-- Question 16 -->
                <div class="quiz-question" id="q16">
                    <h4>Question 16: PACF Interpretation</h4>
                    <p>The PACF of an MA(1) process:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 16, 'A')"><input type="radio" name="q16"> A) Cuts off after lag 1</li>
                        <li onclick="checkAnswer('ch1', 16, 'B')"><input type="radio" name="q16"> B) Decays exponentially</li>
                        <li onclick="checkAnswer('ch1', 16, 'C')"><input type="radio" name="q16"> C) Is zero for all lags</li>
                        <li onclick="checkAnswer('ch1', 16, 'D')"><input type="radio" name="q16"> D) Shows a seasonal pattern</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer16-correct">
                        <strong>Correct!</strong> For MA processes, PACF decays; ACF cuts off. For AR processes, it's the opposite.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer16-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. MA: ACF cuts off, PACF decays. AR: ACF decays, PACF cuts off.
                    </div>
                </div>

                <!-- Question 17 -->
                <div class="quiz-question" id="q17">
                    <h4>Question 17: Differencing</h4>
                    <p>If $X_t$ is a random walk, then $\Delta X_t = X_t - X_{t-1}$ is:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 17, 'A')"><input type="radio" name="q17"> A) Still a random walk</li>
                        <li onclick="checkAnswer('ch1', 17, 'B')"><input type="radio" name="q17"> B) White noise (stationary)</li>
                        <li onclick="checkAnswer('ch1', 17, 'C')"><input type="radio" name="q17"> C) An AR(1) process</li>
                        <li onclick="checkAnswer('ch1', 17, 'D')"><input type="radio" name="q17"> D) A trending series</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer17-correct">
                        <strong>Correct!</strong> If $X_t = X_{t-1} + \varepsilon_t$, then $\Delta X_t = \varepsilon_t$, which is white noise!
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer17-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Differencing a random walk gives white noise.
                    </div>
                </div>

                <!-- Question 18 -->
                <div class="quiz-question" id="q18">
                    <h4>Question 18: ADF Test</h4>
                    <p>In the ADF test, the null hypothesis is:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 18, 'A')"><input type="radio" name="q18"> A) The series is stationary</li>
                        <li onclick="checkAnswer('ch1', 18, 'B')"><input type="radio" name="q18"> B) The series has a unit root</li>
                        <li onclick="checkAnswer('ch1', 18, 'C')"><input type="radio" name="q18"> C) The series is white noise</li>
                        <li onclick="checkAnswer('ch1', 18, 'D')"><input type="radio" name="q18"> D) The series has no trend</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer18-correct">
                        <strong>Correct!</strong> ADF: $H_0$: unit root (non-stationary). Reject $H_0$ $\Rightarrow$ stationary.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer18-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. ADF tests for unit root; KPSS tests for stationarity.
                    </div>
                </div>

                <!-- Question 19 -->
                <div class="quiz-question" id="q19">
                    <h4>Question 19: KPSS Test</h4>
                    <p>If KPSS rejects $H_0$, we conclude:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 19, 'A')"><input type="radio" name="q19"> A) The series is stationary</li>
                        <li onclick="checkAnswer('ch1', 19, 'B')"><input type="radio" name="q19"> B) The series is non-stationary</li>
                        <li onclick="checkAnswer('ch1', 19, 'C')"><input type="radio" name="q19"> C) The series is white noise</li>
                        <li onclick="checkAnswer('ch1', 19, 'D')"><input type="radio" name="q19"> D) We need more data</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer19-correct">
                        <strong>Correct!</strong> KPSS: $H_0$: stationary. Reject $H_0$ $\Rightarrow$ evidence of non-stationarity.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer19-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. KPSS has opposite hypotheses to ADF.
                    </div>
                </div>

                <!-- Question 20 -->
                <div class="quiz-question" id="q20">
                    <h4>Question 20: Deterministic vs Stochastic Trend</h4>
                    <p>How should you remove a stochastic trend (unit root)?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch1', 20, 'A')"><input type="radio" name="q20"> A) Fit a linear regression on time</li>
                        <li onclick="checkAnswer('ch1', 20, 'B')"><input type="radio" name="q20"> B) Apply differencing</li>
                        <li onclick="checkAnswer('ch1', 20, 'C')"><input type="radio" name="q20"> C) Use a moving average</li>
                        <li onclick="checkAnswer('ch1', 20, 'D')"><input type="radio" name="q20"> D) Apply seasonal adjustment</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="answer20-correct">
                        <strong>Correct!</strong> Stochastic trend $\Rightarrow$ differencing. Deterministic trend $\Rightarrow$ regression.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="answer20-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Use differencing for stochastic trends, regression for deterministic trends.
                    </div>
                </div>

                <div style="margin-top: 2rem; text-align: center;">
                    <p id="score-display-ch1" style="font-size: 1.2rem; margin-bottom: 1rem; font-weight: bold;"></p>
                    <button onclick="calculateScore(1)" class="btn btn-secondary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none; margin-right: 1rem;">Check Score</button>
                    <button onclick="resetQuiz(1)" class="btn btn-primary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none;">Reset Quiz</button>
                </div>
            </div>

            <!-- Chapter 2 Quizzes -->
            <div class="quiz-container" id="chapter2-quizzes" style="display: none;">
                <h3 style="margin-bottom: 1.5rem;">Chapter 2: ARMA Models</h3>

                <!-- Ch2 Question 1 -->
                <div class="quiz-question" id="ch2q1">
                    <h4>Question 1: AR Stationarity</h4>
                    <p>For which value of $\phi$ is the AR(1) process $X_t = c + \phi X_{t-1} + \varepsilon_t$ stationary?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 1, 'A')"><input type="radio" name="ch2q1"> A) $\phi = 1.2$</li>
                        <li onclick="checkAnswer('ch2', 1, 'B')"><input type="radio" name="ch2q1"> B) $\phi = 1.0$</li>
                        <li onclick="checkAnswer('ch2', 1, 'C')"><input type="radio" name="ch2q1"> C) $\phi = -0.8$</li>
                        <li onclick="checkAnswer('ch2', 1, 'D')"><input type="radio" name="ch2q1"> D) $\phi = -1.5$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer1-correct">
                        <strong>Correct!</strong> AR(1) is stationary iff $|\phi| < 1$. Only $|-0.8| = 0.8 < 1$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer1-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. AR(1) requires $|\phi| < 1$ for stationarity.
                    </div>
                </div>

                <!-- Ch2 Question 2 -->
                <div class="quiz-question" id="ch2q2">
                    <h4>Question 2: ACF/PACF Pattern Recognition</h4>
                    <p>You observe: ACF has a spike at lag 1, then cuts off. PACF decays gradually. What model is suggested?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 2, 'A')"><input type="radio" name="ch2q2"> A) AR(1)</li>
                        <li onclick="checkAnswer('ch2', 2, 'B')"><input type="radio" name="ch2q2"> B) MA(1)</li>
                        <li onclick="checkAnswer('ch2', 2, 'C')"><input type="radio" name="ch2q2"> C) ARMA(1,1)</li>
                        <li onclick="checkAnswer('ch2', 2, 'D')"><input type="radio" name="ch2q2"> D) White noise</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer2-correct">
                        <strong>Correct!</strong> ACF cuts off  MA process; PACF decays  confirms MA(1).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer2-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. MA: ACF cuts off, PACF decays. AR: ACF decays, PACF cuts off.
                    </div>
                </div>

                <!-- Ch2 Question 3 -->
                <div class="quiz-question" id="ch2q3">
                    <h4>Question 3: MA Invertibility</h4>
                    <p>Is the MA(1) process $X_t = \varepsilon_t + 1.5\varepsilon_{t-1}$ invertible?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 3, 'A')"><input type="radio" name="ch2q3"> A) Yes, MA processes are always invertible</li>
                        <li onclick="checkAnswer('ch2', 3, 'B')"><input type="radio" name="ch2q3"> B) Yes, because $\theta = 1.5 > 0$</li>
                        <li onclick="checkAnswer('ch2', 3, 'C')"><input type="radio" name="ch2q3"> C) No, because $|\theta| = 1.5 > 1$</li>
                        <li onclick="checkAnswer('ch2', 3, 'D')"><input type="radio" name="ch2q3"> D) No, MA processes are never invertible</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer3-correct">
                        <strong>Correct!</strong> Invertibility requires $|\theta| < 1$. Here $|\theta| = 1.5 > 1$, so NOT invertible.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer3-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Invertibility condition for MA(1): $|\theta| < 1$.
                    </div>
                </div>

                <!-- Ch2 Question 4 -->
                <div class="quiz-question" id="ch2q4">
                    <h4>Question 4: ARMA Representation</h4>
                    <p>The compact form $\phi(L)X_t = \theta(L)\varepsilon_t$ represents which model?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 4, 'A')"><input type="radio" name="ch2q4"> A) Pure AR model</li>
                        <li onclick="checkAnswer('ch2', 4, 'B')"><input type="radio" name="ch2q4"> B) Pure MA model</li>
                        <li onclick="checkAnswer('ch2', 4, 'C')"><input type="radio" name="ch2q4"> C) ARMA model</li>
                        <li onclick="checkAnswer('ch2', 4, 'D')"><input type="radio" name="ch2q4"> D) None of the above</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer4-correct">
                        <strong>Correct!</strong> $\phi(L)$ is the AR polynomial, $\theta(L)$ is the MA polynomial  ARMA(p,q).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer4-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. This notation combines AR and MA into ARMA.
                    </div>
                </div>

                <!-- Ch2 Question 5 -->
                <div class="quiz-question" id="ch2q5">
                    <h4>Question 5: Lag Operator</h4>
                    <p>What is $(1-L)^2 X_t$?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 5, 'A')"><input type="radio" name="ch2q5"> A) $X_t - X_{t-1}$</li>
                        <li onclick="checkAnswer('ch2', 5, 'B')"><input type="radio" name="ch2q5"> B) $X_t - 2X_{t-1} + X_{t-2}$</li>
                        <li onclick="checkAnswer('ch2', 5, 'C')"><input type="radio" name="ch2q5"> C) $X_t + X_{t-1} + X_{t-2}$</li>
                        <li onclick="checkAnswer('ch2', 5, 'D')"><input type="radio" name="ch2q5"> D) $X_t - X_{t-2}$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer5-correct">
                        <strong>Correct!</strong> $(1-L)^2 = 1 - 2L + L^2$, so $(1-L)^2 X_t = X_t - 2X_{t-1} + X_{t-2}$ (second difference).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer5-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Expand $(1-L)^2 = 1 - 2L + L^2$.
                    </div>
                </div>

                <!-- Ch2 Question 6 -->
                <div class="quiz-question" id="ch2q6">
                    <h4>Question 6: Information Criteria</h4>
                    <p>Comparing ARMA(1,1) vs ARMA(2,1) using BIC, which statement is correct?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 6, 'A')"><input type="radio" name="ch2q6"> A) Lower BIC always means better forecasts</li>
                        <li onclick="checkAnswer('ch2', 6, 'B')"><input type="radio" name="ch2q6"> B) BIC penalizes complexity less than AIC</li>
                        <li onclick="checkAnswer('ch2', 6, 'C')"><input type="radio" name="ch2q6"> C) The model with lower BIC is preferred</li>
                        <li onclick="checkAnswer('ch2', 6, 'D')"><input type="radio" name="ch2q6"> D) BIC can only compare models with same number of parameters</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer6-correct">
                        <strong>Correct!</strong> Lower BIC indicates better fit-complexity trade-off. BIC penalizes complexity MORE than AIC.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer6-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. BIC balances fit and complexity; lower is better.
                    </div>
                </div>

                <!-- Ch2 Question 7 -->
                <div class="quiz-question" id="ch2q7">
                    <h4>Question 7: Ljung-Box Test</h4>
                    <p>After fitting an ARMA model, you run the Ljung-Box test on residuals and get p-value = 0.03. What does this mean?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 7, 'A')"><input type="radio" name="ch2q7"> A) Model is adequate, residuals are white noise</li>
                        <li onclick="checkAnswer('ch2', 7, 'B')"><input type="radio" name="ch2q7"> B) Model is inadequate, residuals have autocorrelation</li>
                        <li onclick="checkAnswer('ch2', 7, 'C')"><input type="radio" name="ch2q7"> C) Need to increase sample size</li>
                        <li onclick="checkAnswer('ch2', 7, 'D')"><input type="radio" name="ch2q7"> D) Test is inconclusive</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer7-correct">
                        <strong>Correct!</strong> p-value < 0.05 rejects $H_0$ (white noise), indicating remaining autocorrelation  model inadequate.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer7-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Rejecting $H_0$ means residuals are NOT white noise.
                    </div>
                </div>

                <!-- Ch2 Question 8 -->
                <div class="quiz-question" id="ch2q8">
                    <h4>Question 8: Forecast Properties</h4>
                    <p>For a stationary AR(1) model, what happens to forecasts as horizon $h \to \infty$?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 8, 'A')"><input type="radio" name="ch2q8"> A) Forecasts grow without bound</li>
                        <li onclick="checkAnswer('ch2', 8, 'B')"><input type="radio" name="ch2q8"> B) Forecasts oscillate forever</li>
                        <li onclick="checkAnswer('ch2', 8, 'C')"><input type="radio" name="ch2q8"> C) Forecasts converge to the unconditional mean $\mu$</li>
                        <li onclick="checkAnswer('ch2', 8, 'D')"><input type="radio" name="ch2q8"> D) Forecasts become more accurate</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer8-correct">
                        <strong>Correct!</strong> $\hat{X}_{n+h|n} = \mu + \phi^h(X_n - \mu) \to \mu$ as $h \to \infty$ (since $|\phi|<1$). This is mean reversion.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer8-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Stationary AR forecasts revert to the unconditional mean.
                    </div>
                </div>

                <!-- Ch2 Question 9 -->
                <div class="quiz-question" id="ch2q9">
                    <h4>Question 9: AR(1) Variance</h4>
                    <p>For the AR(1) process $X_t = \phi X_{t-1} + \varepsilon_t$ with $\text{Var}(\varepsilon_t) = \sigma^2$, what is $\text{Var}(X_t)$?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 9, 'A')"><input type="radio" name="ch2q9"> A) $\sigma^2$</li>
                        <li onclick="checkAnswer('ch2', 9, 'B')"><input type="radio" name="ch2q9"> B) $\sigma^2 / (1 - \phi)$</li>
                        <li onclick="checkAnswer('ch2', 9, 'C')"><input type="radio" name="ch2q9"> C) $\sigma^2 / (1 - \phi^2)$</li>
                        <li onclick="checkAnswer('ch2', 9, 'D')"><input type="radio" name="ch2q9"> D) $\sigma^2 (1 + \phi^2)$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer9-correct">
                        <strong>Correct!</strong> For stationary AR(1): $\gamma(0) = \text{Var}(X_t) = \sigma^2 / (1 - \phi^2)$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer9-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Use $\gamma(0) = \phi^2 \gamma(0) + \sigma^2$ and solve.
                    </div>
                </div>

                <!-- Ch2 Question 10 -->
                <div class="quiz-question" id="ch2q10">
                    <h4>Question 10: MA(1) Autocorrelation</h4>
                    <p>For an MA(1) process $X_t = \varepsilon_t + \theta \varepsilon_{t-1}$, what is $\rho(2)$?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 10, 'A')"><input type="radio" name="ch2q10"> A) $\theta / (1 + \theta^2)$</li>
                        <li onclick="checkAnswer('ch2', 10, 'B')"><input type="radio" name="ch2q10"> B) $\theta^2 / (1 + \theta^2)$</li>
                        <li onclick="checkAnswer('ch2', 10, 'C')"><input type="radio" name="ch2q10"> C) $\theta^2$</li>
                        <li onclick="checkAnswer('ch2', 10, 'D')"><input type="radio" name="ch2q10"> D) 0</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer10-correct">
                        <strong>Correct!</strong> MA(q) has $\rho(h) = 0$ for $h > q$. Since MA(1) has $q=1$, $\rho(2) = 0$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer10-incorrect">
                        <strong>Incorrect.</strong> The correct answer is D. MA(1) ACF cuts off after lag 1.
                    </div>
                </div>

                <!-- Ch2 Question 11 -->
                <div class="quiz-question" id="ch2q11">
                    <h4>Question 11: AR(1) Mean</h4>
                    <p>For the AR(1) process $X_t = c + \phi X_{t-1} + \varepsilon_t$ with $c = 2$ and $\phi = 0.6$, what is $E[X_t]$?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 11, 'A')"><input type="radio" name="ch2q11"> A) 2</li>
                        <li onclick="checkAnswer('ch2', 11, 'B')"><input type="radio" name="ch2q11"> B) 3.33</li>
                        <li onclick="checkAnswer('ch2', 11, 'C')"><input type="radio" name="ch2q11"> C) 5</li>
                        <li onclick="checkAnswer('ch2', 11, 'D')"><input type="radio" name="ch2q11"> D) 0.8</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer11-correct">
                        <strong>Correct!</strong> $\mu = c / (1 - \phi) = 2 / (1 - 0.6) = 2 / 0.4 = 5$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer11-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Use formula $\mu = c / (1 - \phi)$.
                    </div>
                </div>

                <!-- Ch2 Question 12 -->
                <div class="quiz-question" id="ch2q12">
                    <h4>Question 12: Wold's Theorem</h4>
                    <p>According to Wold's decomposition theorem, any stationary process can be written as:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 12, 'A')"><input type="radio" name="ch2q12"> A) A finite AR process</li>
                        <li onclick="checkAnswer('ch2', 12, 'B')"><input type="radio" name="ch2q12"> B) An infinite MA process plus a deterministic component</li>
                        <li onclick="checkAnswer('ch2', 12, 'C')"><input type="radio" name="ch2q12"> C) A random walk</li>
                        <li onclick="checkAnswer('ch2', 12, 'D')"><input type="radio" name="ch2q12"> D) White noise only</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer12-correct">
                        <strong>Correct!</strong> Wold: $X_t = \sum_{j=0}^{\infty} \psi_j \varepsilon_{t-j} + D_t$ where $D_t$ is deterministic.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer12-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Wold's theorem gives an MA($\infty$) representation.
                    </div>
                </div>

                <!-- Ch2 Question 13 -->
                <div class="quiz-question" id="ch2q13">
                    <h4>Question 13: AR(2) Stationarity</h4>
                    <p>For AR(2): $X_t = \phi_1 X_{t-1} + \phi_2 X_{t-2} + \varepsilon_t$, which conditions ensure stationarity?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 13, 'A')"><input type="radio" name="ch2q13"> A) $|\phi_1| < 1$ and $|\phi_2| < 1$</li>
                        <li onclick="checkAnswer('ch2', 13, 'B')"><input type="radio" name="ch2q13"> B) $\phi_1 + \phi_2 < 1$, $\phi_2 - \phi_1 < 1$, $|\phi_2| < 1$</li>
                        <li onclick="checkAnswer('ch2', 13, 'C')"><input type="radio" name="ch2q13"> C) $\phi_1^2 + \phi_2^2 < 1$</li>
                        <li onclick="checkAnswer('ch2', 13, 'D')"><input type="radio" name="ch2q13"> D) $|\phi_1 + \phi_2| < 1$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer13-correct">
                        <strong>Correct!</strong> AR(2) stationarity requires all three conditions in B (the stationarity triangle).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer13-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. These define the AR(2) stationarity region.
                    </div>
                </div>

                <!-- Ch2 Question 14 -->
                <div class="quiz-question" id="ch2q14">
                    <h4>Question 14: Yule-Walker Equations</h4>
                    <p>The Yule-Walker equations are used to:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 14, 'A')"><input type="radio" name="ch2q14"> A) Test for stationarity</li>
                        <li onclick="checkAnswer('ch2', 14, 'B')"><input type="radio" name="ch2q14"> B) Estimate AR parameters from autocorrelations</li>
                        <li onclick="checkAnswer('ch2', 14, 'C')"><input type="radio" name="ch2q14"> C) Estimate MA parameters</li>
                        <li onclick="checkAnswer('ch2', 14, 'D')"><input type="radio" name="ch2q14"> D) Compute forecasts</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer14-correct">
                        <strong>Correct!</strong> Yule-Walker: $\boldsymbol{\phi} = \mathbf{R}^{-1} \boldsymbol{\rho}$ relates AR parameters to ACF.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer14-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Yule-Walker provides method-of-moments AR estimation.
                    </div>
                </div>

                <!-- Ch2 Question 15 -->
                <div class="quiz-question" id="ch2q15">
                    <h4>Question 15: PACF Interpretation</h4>
                    <p>The PACF at lag $k$ measures:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 15, 'A')"><input type="radio" name="ch2q15"> A) Total correlation between $X_t$ and $X_{t-k}$</li>
                        <li onclick="checkAnswer('ch2', 15, 'B')"><input type="radio" name="ch2q15"> B) Correlation between $X_t$ and $X_{t-k}$ after removing effects of intermediate lags</li>
                        <li onclick="checkAnswer('ch2', 15, 'C')"><input type="radio" name="ch2q15"> C) The MA coefficient at lag $k$</li>
                        <li onclick="checkAnswer('ch2', 15, 'D')"><input type="radio" name="ch2q15"> D) The variance at lag $k$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer15-correct">
                        <strong>Correct!</strong> PACF measures direct correlation after controlling for $X_{t-1}, ..., X_{t-k+1}$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer15-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. PACF removes indirect correlations through intermediate lags.
                    </div>
                </div>

                <!-- Ch2 Question 16 -->
                <div class="quiz-question" id="ch2q16">
                    <h4>Question 16: Parsimony Principle</h4>
                    <p>The parsimony principle in ARMA modeling suggests:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 16, 'A')"><input type="radio" name="ch2q16"> A) Always use the highest order model</li>
                        <li onclick="checkAnswer('ch2', 16, 'B')"><input type="radio" name="ch2q16"> B) Choose the simplest adequate model</li>
                        <li onclick="checkAnswer('ch2', 16, 'C')"><input type="radio" name="ch2q16"> C) Only use AR models</li>
                        <li onclick="checkAnswer('ch2', 16, 'D')"><input type="radio" name="ch2q16"> D) Always include seasonal terms</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer16-correct">
                        <strong>Correct!</strong> Parsimony: prefer simpler models to avoid overfitting and improve generalization.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer16-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Simpler models often forecast better.
                    </div>
                </div>

                <!-- Ch2 Question 17 -->
                <div class="quiz-question" id="ch2q17">
                    <h4>Question 17: Characteristic Roots</h4>
                    <p>For AR(1) with $\phi = 0.9$, the characteristic root is:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 17, 'A')"><input type="radio" name="ch2q17"> A) 0.9</li>
                        <li onclick="checkAnswer('ch2', 17, 'B')"><input type="radio" name="ch2q17"> B) 1/0.9  1.11</li>
                        <li onclick="checkAnswer('ch2', 17, 'C')"><input type="radio" name="ch2q17"> C) -0.9</li>
                        <li onclick="checkAnswer('ch2', 17, 'D')"><input type="radio" name="ch2q17"> D) 0.81</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer17-correct">
                        <strong>Correct!</strong> Characteristic equation: $1 - 0.9z = 0 \Rightarrow z = 1/0.9 \approx 1.11 > 1$ (stationary).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer17-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Root = $1/\phi$, must be outside unit circle.
                    </div>
                </div>

                <!-- Ch2 Question 18 -->
                <div class="quiz-question" id="ch2q18">
                    <h4>Question 18: Estimation Methods</h4>
                    <p>Which estimation method is generally preferred for ARMA models?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 18, 'A')"><input type="radio" name="ch2q18"> A) Ordinary Least Squares (OLS)</li>
                        <li onclick="checkAnswer('ch2', 18, 'B')"><input type="radio" name="ch2q18"> B) Maximum Likelihood Estimation (MLE)</li>
                        <li onclick="checkAnswer('ch2', 18, 'C')"><input type="radio" name="ch2q18"> C) Method of Moments only</li>
                        <li onclick="checkAnswer('ch2', 18, 'D')"><input type="radio" name="ch2q18"> D) Simple averaging</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer18-correct">
                        <strong>Correct!</strong> MLE is efficient and handles both AR and MA components properly.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer18-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. MLE is the standard for ARMA estimation.
                    </div>
                </div>

                <!-- Ch2 Question 19 -->
                <div class="quiz-question" id="ch2q19">
                    <h4>Question 19: Forecast Error Variance</h4>
                    <p>For a stationary ARMA model, as forecast horizon increases, the forecast error variance:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 19, 'A')"><input type="radio" name="ch2q19"> A) Decreases to zero</li>
                        <li onclick="checkAnswer('ch2', 19, 'B')"><input type="radio" name="ch2q19"> B) Increases without bound</li>
                        <li onclick="checkAnswer('ch2', 19, 'C')"><input type="radio" name="ch2q19"> C) Converges to the unconditional variance</li>
                        <li onclick="checkAnswer('ch2', 19, 'D')"><input type="radio" name="ch2q19"> D) Remains constant</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer19-correct">
                        <strong>Correct!</strong> As $h \to \infty$, forecast error variance $\to \gamma(0)$ (unconditional variance).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer19-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Long-run forecast uncertainty equals process variance.
                    </div>
                </div>

                <!-- Ch2 Question 20 -->
                <div class="quiz-question" id="ch2q20">
                    <h4>Question 20: Box-Jenkins Methodology</h4>
                    <p>The correct order of steps in Box-Jenkins methodology is:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch2', 20, 'A')"><input type="radio" name="ch2q20"> A) Estimation  Identification  Diagnostics</li>
                        <li onclick="checkAnswer('ch2', 20, 'B')"><input type="radio" name="ch2q20"> B) Identification  Estimation  Diagnostics</li>
                        <li onclick="checkAnswer('ch2', 20, 'C')"><input type="radio" name="ch2q20"> C) Diagnostics  Identification  Estimation</li>
                        <li onclick="checkAnswer('ch2', 20, 'D')"><input type="radio" name="ch2q20"> D) Estimation  Diagnostics  Identification</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch2answer20-correct">
                        <strong>Correct!</strong> Box-Jenkins: (1) Identify model order via ACF/PACF, (2) Estimate parameters, (3) Diagnose residuals.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch2answer20-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Identification comes first, then estimation, then diagnostics.
                    </div>
                </div>

                <div style="margin-top: 2rem; text-align: center;">
                    <p id="score-display-ch2" style="font-size: 1.2rem; margin-bottom: 1rem; font-weight: bold;"></p>
                    <button onclick="calculateScore(2)" class="btn btn-secondary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none; margin-right: 1rem;">Check Score</button>
                    <button onclick="resetQuiz(2)" class="btn btn-primary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none;">Reset Quiz</button>
                </div>
            </div>

            <!-- Chapter 3 Quizzes -->
            <div class="quiz-container" id="chapter3-quizzes" style="display: none;">
                <h3 style="margin-bottom: 1.5rem;">Chapter 3: ARIMA Models</h3>

                <!-- Ch3 Question 1 -->
                <div class="quiz-question" id="ch3q1">
                    <h4>Question 1: Order of Integration</h4>
                    <p>A time series requires two differences to become stationary. What is its order of integration?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 1, 'A')"><input type="radio" name="ch3q1"> A) $I(0)$</li>
                        <li onclick="checkAnswer('ch3', 1, 'B')"><input type="radio" name="ch3q1"> B) $I(1)$</li>
                        <li onclick="checkAnswer('ch3', 1, 'C')"><input type="radio" name="ch3q1"> C) $I(2)$</li>
                        <li onclick="checkAnswer('ch3', 1, 'D')"><input type="radio" name="ch3q1"> D) Cannot be determined</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer1-correct">
                        <strong>Correct!</strong> By definition, $Y_t \sim I(d)$ means $d$ differences are needed for stationarity.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer1-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Two differences means $I(2)$.
                    </div>
                </div>

                <!-- Ch3 Question 2 -->
                <div class="quiz-question" id="ch3q2">
                    <h4>Question 2: Random Walk Variance</h4>
                    <p>For a random walk $Y_t = Y_{t-1} + \varepsilon_t$ with $\text{Var}(\varepsilon_t) = \sigma^2$, what is $\text{Var}(Y_t)$?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 2, 'A')"><input type="radio" name="ch3q2"> A) $\sigma^2$</li>
                        <li onclick="checkAnswer('ch3', 2, 'B')"><input type="radio" name="ch3q2"> B) $t \cdot \sigma^2$</li>
                        <li onclick="checkAnswer('ch3', 2, 'C')"><input type="radio" name="ch3q2"> C) $\sigma^2 / t$</li>
                        <li onclick="checkAnswer('ch3', 2, 'D')"><input type="radio" name="ch3q2"> D) $\sigma^2 / (1-\phi^2)$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer2-correct">
                        <strong>Correct!</strong> The variance grows linearly: $\text{Var}(Y_t) = t\sigma^2$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer2-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Random walk variance grows with time.
                    </div>
                </div>

                <!-- Ch3 Question 3 -->
                <div class="quiz-question" id="ch3q3">
                    <h4>Question 3: ADF Test Hypothesis</h4>
                    <p>In the Augmented Dickey-Fuller test, what is the null hypothesis?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 3, 'A')"><input type="radio" name="ch3q3"> A) The series is stationary</li>
                        <li onclick="checkAnswer('ch3', 3, 'B')"><input type="radio" name="ch3q3"> B) The series has a unit root</li>
                        <li onclick="checkAnswer('ch3', 3, 'C')"><input type="radio" name="ch3q3"> C) The series has no autocorrelation</li>
                        <li onclick="checkAnswer('ch3', 3, 'D')"><input type="radio" name="ch3q3"> D) The series is normally distributed</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer3-correct">
                        <strong>Correct!</strong> ADF tests H0: unit root vs H1: stationary.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer3-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. ADF null hypothesis is unit root (non-stationary).
                    </div>
                </div>

                <!-- Ch3 Question 4 -->
                <div class="quiz-question" id="ch3q4">
                    <h4>Question 4: ARIMA Notation</h4>
                    <p>What does ARIMA(2,1,1) represent?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 4, 'A')"><input type="radio" name="ch3q4"> A) AR(2) on differenced data with MA(1) errors</li>
                        <li onclick="checkAnswer('ch3', 4, 'B')"><input type="radio" name="ch3q4"> B) AR(1) with 2 differences and MA(1)</li>
                        <li onclick="checkAnswer('ch3', 4, 'C')"><input type="radio" name="ch3q4"> C) MA(2) with 1 difference and AR(1)</li>
                        <li onclick="checkAnswer('ch3', 4, 'D')"><input type="radio" name="ch3q4"> D) 2 lags, 1 trend, 1 seasonal component</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer4-correct">
                        <strong>Correct!</strong> ARIMA(p,d,q): p=AR order, d=differences, q=MA order.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer4-incorrect">
                        <strong>Incorrect.</strong> The correct answer is A. ARIMA(2,1,1) has AR(2), 1 difference, MA(1).
                    </div>
                </div>

                <!-- Ch3 Question 5 -->
                <div class="quiz-question" id="ch3q5">
                    <h4>Question 5: Second Difference</h4>
                    <p>What is $(1-L)^2 Y_t$ expanded?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 5, 'A')"><input type="radio" name="ch3q5"> A) $Y_t - Y_{t-1}$</li>
                        <li onclick="checkAnswer('ch3', 5, 'B')"><input type="radio" name="ch3q5"> B) $Y_t - 2Y_{t-1} + Y_{t-2}$</li>
                        <li onclick="checkAnswer('ch3', 5, 'C')"><input type="radio" name="ch3q5"> C) $Y_t + 2Y_{t-1} + Y_{t-2}$</li>
                        <li onclick="checkAnswer('ch3', 5, 'D')"><input type="radio" name="ch3q5"> D) $Y_t - Y_{t-2}$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer5-correct">
                        <strong>Correct!</strong> $(1-L)^2 = 1 - 2L + L^2$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer5-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Second difference: $Y_t - 2Y_{t-1} + Y_{t-2}$.
                    </div>
                </div>

                <!-- Ch3 Question 6 -->
                <div class="quiz-question" id="ch3q6">
                    <h4>Question 6: KPSS vs ADF</h4>
                    <p>How does the KPSS test differ from the ADF test?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 6, 'A')"><input type="radio" name="ch3q6"> A) KPSS tests for seasonality, ADF tests for trends</li>
                        <li onclick="checkAnswer('ch3', 6, 'B')"><input type="radio" name="ch3q6"> B) KPSS has stationarity as null, ADF has unit root as null</li>
                        <li onclick="checkAnswer('ch3', 6, 'C')"><input type="radio" name="ch3q6"> C) KPSS is more powerful than ADF</li>
                        <li onclick="checkAnswer('ch3', 6, 'D')"><input type="radio" name="ch3q6"> D) There is no difference</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer6-correct">
                        <strong>Correct!</strong> They have reversed null hypotheses.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer6-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. KPSS: H0=stationary, ADF: H0=unit root.
                    </div>
                </div>

                <!-- Ch3 Question 7 -->
                <div class="quiz-question" id="ch3q7">
                    <h4>Question 7: Overdifferencing</h4>
                    <p>If $Y_t \sim I(1)$ and we compute $\Delta^2 Y_t$, what happens?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 7, 'A')"><input type="radio" name="ch3q7"> A) We get a better stationary series</li>
                        <li onclick="checkAnswer('ch3', 7, 'B')"><input type="radio" name="ch3q7"> B) We introduce artificial negative autocorrelation</li>
                        <li onclick="checkAnswer('ch3', 7, 'C')"><input type="radio" name="ch3q7"> C) The variance decreases</li>
                        <li onclick="checkAnswer('ch3', 7, 'D')"><input type="radio" name="ch3q7"> D) Nothing changes</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer7-correct">
                        <strong>Correct!</strong> Overdifferencing creates an MA unit root boundary.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer7-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Overdifferencing introduces spurious MA structure.
                    </div>
                </div>

                <!-- Ch3 Question 8 -->
                <div class="quiz-question" id="ch3q8">
                    <h4>Question 8: Forecast Variance</h4>
                    <p>For ARIMA(0,1,0) (random walk), how does forecast variance behave as horizon $h$ increases?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 8, 'A')"><input type="radio" name="ch3q8"> A) Stays constant</li>
                        <li onclick="checkAnswer('ch3', 8, 'B')"><input type="radio" name="ch3q8"> B) Decreases to zero</li>
                        <li onclick="checkAnswer('ch3', 8, 'C')"><input type="radio" name="ch3q8"> C) Grows linearly with $h$</li>
                        <li onclick="checkAnswer('ch3', 8, 'D')"><input type="radio" name="ch3q8"> D) Converges to a finite limit</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer8-correct">
                        <strong>Correct!</strong> Forecast variance = $h\sigma^2$ for random walk.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer8-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. I(1) forecast uncertainty grows unboundedly.
                    </div>
                </div>

                <!-- Ch3 Question 9 -->
                <div class="quiz-question" id="ch3q9">
                    <h4>Question 9: Deterministic vs Stochastic Trend</h4>
                    <p>What distinguishes a stochastic trend from a deterministic trend?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 9, 'A')"><input type="radio" name="ch3q9"> A) Stochastic trends can be removed by detrending</li>
                        <li onclick="checkAnswer('ch3', 9, 'B')"><input type="radio" name="ch3q9"> B) Deterministic trends have permanent shock effects</li>
                        <li onclick="checkAnswer('ch3', 9, 'C')"><input type="radio" name="ch3q9"> C) Stochastic trends have permanent shock effects</li>
                        <li onclick="checkAnswer('ch3', 9, 'D')"><input type="radio" name="ch3q9"> D) They are mathematically equivalent</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer9-correct">
                        <strong>Correct!</strong> Stochastic trends: shocks are permanent. Deterministic: shocks are temporary.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer9-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Stochastic trends have permanent shock effects.
                    </div>
                </div>

                <!-- Ch3 Question 10 -->
                <div class="quiz-question" id="ch3q10">
                    <h4>Question 10: ADF Critical Values</h4>
                    <p>In the ADF test, you reject H0 (unit root) when:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 10, 'A')"><input type="radio" name="ch3q10"> A) Test statistic > critical value</li>
                        <li onclick="checkAnswer('ch3', 10, 'B')"><input type="radio" name="ch3q10"> B) Test statistic < critical value (more negative)</li>
                        <li onclick="checkAnswer('ch3', 10, 'C')"><input type="radio" name="ch3q10"> C) p-value > 0.05</li>
                        <li onclick="checkAnswer('ch3', 10, 'D')"><input type="radio" name="ch3q10"> D) Test statistic equals zero</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer10-correct">
                        <strong>Correct!</strong> ADF rejects when statistic is sufficiently negative.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer10-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. More negative = reject unit root.
                    </div>
                </div>

                <!-- Ch3 Question 11 -->
                <div class="quiz-question" id="ch3q11">
                    <h4>Question 11: IMA(1,1) Model</h4>
                    <p>ARIMA(0,1,1) is also known as:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 11, 'A')"><input type="radio" name="ch3q11"> A) Random walk</li>
                        <li onclick="checkAnswer('ch3', 11, 'B')"><input type="radio" name="ch3q11"> B) Simple exponential smoothing</li>
                        <li onclick="checkAnswer('ch3', 11, 'C')"><input type="radio" name="ch3q11"> C) Holt's method</li>
                        <li onclick="checkAnswer('ch3', 11, 'D')"><input type="radio" name="ch3q11"> D) Pure AR model</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer11-correct">
                        <strong>Correct!</strong> IMA(1,1) is equivalent to simple exponential smoothing.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer11-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. ARIMA(0,1,1) = IMA(1,1) = SES.
                    </div>
                </div>

                <!-- Ch3 Question 12 -->
                <div class="quiz-question" id="ch3q12">
                    <h4>Question 12: Constant in ARIMA</h4>
                    <p>In ARIMA(1,1,0) with constant $c$, what does $c$ represent?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 12, 'A')"><input type="radio" name="ch3q12"> A) The mean of $Y_t$</li>
                        <li onclick="checkAnswer('ch3', 12, 'B')"><input type="radio" name="ch3q12"> B) The drift (average change)</li>
                        <li onclick="checkAnswer('ch3', 12, 'C')"><input type="radio" name="ch3q12"> C) The variance</li>
                        <li onclick="checkAnswer('ch3', 12, 'D')"><input type="radio" name="ch3q12"> D) The AR coefficient</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer12-correct">
                        <strong>Correct!</strong> When $d>0$, the constant represents the drift.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer12-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. For $d \geq 1$, $c$ is the drift.
                    </div>
                </div>

                <!-- Ch3 Question 13 -->
                <div class="quiz-question" id="ch3q13">
                    <h4>Question 13: Auto-ARIMA</h4>
                    <p>What does auto_arima primarily use to select the best model?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 13, 'A')"><input type="radio" name="ch3q13"> A) Only visual inspection</li>
                        <li onclick="checkAnswer('ch3', 13, 'B')"><input type="radio" name="ch3q13"> B) Information criteria (AIC/BIC)</li>
                        <li onclick="checkAnswer('ch3', 13, 'C')"><input type="radio" name="ch3q13"> C) Only residual analysis</li>
                        <li onclick="checkAnswer('ch3', 13, 'D')"><input type="radio" name="ch3q13"> D) Random selection</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer13-correct">
                        <strong>Correct!</strong> Auto-ARIMA uses AIC/BIC to compare and select models.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer13-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Information criteria guide selection.
                    </div>
                </div>

                <!-- Ch3 Question 14 -->
                <div class="quiz-question" id="ch3q14">
                    <h4>Question 14: Box-Jenkins Step 1</h4>
                    <p>What is the first step in Box-Jenkins methodology?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 14, 'A')"><input type="radio" name="ch3q14"> A) Estimate parameters</li>
                        <li onclick="checkAnswer('ch3', 14, 'B')"><input type="radio" name="ch3q14"> B) Identify model order (p,d,q)</li>
                        <li onclick="checkAnswer('ch3', 14, 'C')"><input type="radio" name="ch3q14"> C) Diagnose residuals</li>
                        <li onclick="checkAnswer('ch3', 14, 'D')"><input type="radio" name="ch3q14"> D) Generate forecasts</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer14-correct">
                        <strong>Correct!</strong> Identification  Estimation  Diagnostics.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer14-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. First identify, then estimate, then diagnose.
                    </div>
                </div>

                <!-- Ch3 Question 15 -->
                <div class="quiz-question" id="ch3q15">
                    <h4>Question 15: ACF of I(1) Series</h4>
                    <p>What is characteristic of the ACF of an I(1) series?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 15, 'A')"><input type="radio" name="ch3q15"> A) Cuts off sharply at lag 1</li>
                        <li onclick="checkAnswer('ch3', 15, 'B')"><input type="radio" name="ch3q15"> B) Decays very slowly</li>
                        <li onclick="checkAnswer('ch3', 15, 'C')"><input type="radio" name="ch3q15"> C) Shows no significant lags</li>
                        <li onclick="checkAnswer('ch3', 15, 'D')"><input type="radio" name="ch3q15"> D) Alternates between positive and negative</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer15-correct">
                        <strong>Correct!</strong> Slow ACF decay is a hallmark of non-stationarity.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer15-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. I(1) series have slowly decaying ACF.
                    </div>
                </div>

                <!-- Ch3 Question 16 -->
                <div class="quiz-question" id="ch3q16">
                    <h4>Question 16: Ljung-Box on ARIMA Residuals</h4>
                    <p>If Ljung-Box test p-value is 0.02 on ARIMA residuals, what should you conclude?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 16, 'A')"><input type="radio" name="ch3q16"> A) The model is adequate</li>
                        <li onclick="checkAnswer('ch3', 16, 'B')"><input type="radio" name="ch3q16"> B) The model is inadequate, consider re-specifying</li>
                        <li onclick="checkAnswer('ch3', 16, 'C')"><input type="radio" name="ch3q16"> C) The series is stationary</li>
                        <li onclick="checkAnswer('ch3', 16, 'D')"><input type="radio" name="ch3q16"> D) The series has a unit root</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer16-correct">
                        <strong>Correct!</strong> p < 0.05 indicates significant residual autocorrelation.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer16-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Residuals should be white noise (p > 0.05).
                    </div>
                </div>

                <!-- Ch3 Question 17 -->
                <div class="quiz-question" id="ch3q17">
                    <h4>Question 17: MLE for ARIMA</h4>
                    <p>What is the standard estimation method for ARIMA parameters?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 17, 'A')"><input type="radio" name="ch3q17"> A) Ordinary Least Squares</li>
                        <li onclick="checkAnswer('ch3', 17, 'B')"><input type="radio" name="ch3q17"> B) Maximum Likelihood Estimation</li>
                        <li onclick="checkAnswer('ch3', 17, 'C')"><input type="radio" name="ch3q17"> C) Method of Moments</li>
                        <li onclick="checkAnswer('ch3', 17, 'D')"><input type="radio" name="ch3q17"> D) Bayesian estimation only</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer17-correct">
                        <strong>Correct!</strong> MLE is standard for ARIMA estimation.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer17-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Maximum Likelihood is standard.
                    </div>
                </div>

                <!-- Ch3 Question 18 -->
                <div class="quiz-question" id="ch3q18">
                    <h4>Question 18: Typical $d$ for Economic Data</h4>
                    <p>For most macroeconomic time series (GDP, prices), what is the typical order of integration?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 18, 'A')"><input type="radio" name="ch3q18"> A) $I(0)$ - stationary</li>
                        <li onclick="checkAnswer('ch3', 18, 'B')"><input type="radio" name="ch3q18"> B) $I(1)$ - unit root</li>
                        <li onclick="checkAnswer('ch3', 18, 'C')"><input type="radio" name="ch3q18"> C) $I(2)$ or higher</li>
                        <li onclick="checkAnswer('ch3', 18, 'D')"><input type="radio" name="ch3q18"> D) $I(-1)$ - overdifferenced</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer18-correct">
                        <strong>Correct!</strong> Most economic series are I(1).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer18-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. GDP, prices typically are I(1).
                    </div>
                </div>

                <!-- Ch3 Question 19 -->
                <div class="quiz-question" id="ch3q19">
                    <h4>Question 19: Conflicting Test Results</h4>
                    <p>If ADF does not reject but KPSS rejects, what does this suggest?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 19, 'A')"><input type="radio" name="ch3q19"> A) The series is definitely stationary</li>
                        <li onclick="checkAnswer('ch3', 19, 'B')"><input type="radio" name="ch3q19"> B) The series is definitely non-stationary</li>
                        <li onclick="checkAnswer('ch3', 19, 'C')"><input type="radio" name="ch3q19"> C) Both tests agree the series has a unit root</li>
                        <li onclick="checkAnswer('ch3', 19, 'D')"><input type="radio" name="ch3q19"> D) Results are inconclusive, need more analysis</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer19-correct">
                        <strong>Correct!</strong> Conflicting results suggest borderline cases or structural breaks.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer19-incorrect">
                        <strong>Incorrect.</strong> The correct answer is D. Conflicting results require further investigation.
                    </div>
                </div>

                <!-- Ch3 Question 20 -->
                <div class="quiz-question" id="ch3q20">
                    <h4>Question 20: ARIMA Limitations</h4>
                    <p>Which is NOT a limitation of ARIMA models?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch3', 20, 'A')"><input type="radio" name="ch3q20"> A) Assumes linearity</li>
                        <li onclick="checkAnswer('ch3', 20, 'B')"><input type="radio" name="ch3q20"> B) Cannot capture volatility clustering</li>
                        <li onclick="checkAnswer('ch3', 20, 'C')"><input type="radio" name="ch3q20"> C) Can handle non-stationary data</li>
                        <li onclick="checkAnswer('ch3', 20, 'D')"><input type="radio" name="ch3q20"> D) Assumes constant variance</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch3answer20-correct">
                        <strong>Correct!</strong> Handling non-stationarity via differencing is a strength, not a limitation.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch3answer20-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Handling non-stationarity is a feature, not a limitation.
                    </div>
                </div>

                <div style="margin-top: 2rem; text-align: center;">
                    <p id="score-display-ch3" style="font-size: 1.2rem; margin-bottom: 1rem; font-weight: bold;"></p>
                    <button onclick="calculateScore(3)" class="btn btn-secondary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none; margin-right: 1rem;">Check Score</button>
                    <button onclick="resetQuiz(3)" class="btn btn-primary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none;">Reset Quiz</button>
                </div>
            </div>

            <!-- Chapter 4 Quizzes (SARIMA) -->
            <div class="quiz-container" id="chapter4-quizzes" style="display: none;">
                <h3 style="margin-bottom: 1.5rem;">Chapter 4: SARIMA Models</h3>

                <!-- Ch4 Question 1 -->
                <div class="quiz-question" id="ch4q1">
                    <h4>Question 1: Seasonal Differencing</h4>
                    <p>For monthly data with annual seasonality, what does $(1-L^{12})Y_t$ compute?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch4', 1, 'A')"><input type="radio" name="ch4q1"> A) $Y_t - Y_{t-1}$</li>
                        <li onclick="checkAnswer('ch4', 1, 'B')"><input type="radio" name="ch4q1"> B) $Y_t - Y_{t-12}$</li>
                        <li onclick="checkAnswer('ch4', 1, 'C')"><input type="radio" name="ch4q1"> C) Average of 12 months</li>
                        <li onclick="checkAnswer('ch4', 1, 'D')"><input type="radio" name="ch4q1"> D) $Y_t / Y_{t-12}$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch4answer1-correct">
                        <strong>Correct!</strong> $(1-L^{12})Y_t = Y_t - Y_{t-12}$ compares each observation with the same month in the previous year.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch4answer1-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. The seasonal differencing operator $(1-L^s)$ computes $Y_t - Y_{t-s}$.
                    </div>
                </div>

                <!-- Ch4 Question 2 -->
                <div class="quiz-question" id="ch4q2">
                    <h4>Question 2: SARIMA Notation</h4>
                    <p>In SARIMA$(1,1,1) \times (1,1,1)_{12}$, what does the subscript 12 represent?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch4', 2, 'A')"><input type="radio" name="ch4q2"> A) Number of parameters</li>
                        <li onclick="checkAnswer('ch4', 2, 'B')"><input type="radio" name="ch4q2"> B) Seasonal period</li>
                        <li onclick="checkAnswer('ch4', 2, 'C')"><input type="radio" name="ch4q2"> C) Maximum lag order</li>
                        <li onclick="checkAnswer('ch4', 2, 'D')"><input type="radio" name="ch4q2"> D) Sample size requirement</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch4answer2-correct">
                        <strong>Correct!</strong> The subscript $s=12$ indicates the seasonal period (12 months for monthly data with annual seasonality).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch4answer2-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. The subscript represents the seasonal period.
                    </div>
                </div>

                <!-- Ch4 Question 3 -->
                <div class="quiz-question" id="ch4q3">
                    <h4>Question 3: Airline Model</h4>
                    <p>The classic "airline model" SARIMA$(0,1,1) \times (0,1,1)_{12}$ has how many parameters (excluding $\sigma^2$)?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch4', 3, 'A')"><input type="radio" name="ch4q3"> A) 2</li>
                        <li onclick="checkAnswer('ch4', 3, 'B')"><input type="radio" name="ch4q3"> B) 4</li>
                        <li onclick="checkAnswer('ch4', 3, 'C')"><input type="radio" name="ch4q3"> C) 6</li>
                        <li onclick="checkAnswer('ch4', 3, 'D')"><input type="radio" name="ch4q3"> D) 12</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch4answer3-correct">
                        <strong>Correct!</strong> Only 2 parameters: $\theta_1$ (regular MA) and $\Theta_1$ (seasonal MA). Despite its simplicity, it captures complex seasonal dynamics.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch4answer3-incorrect">
                        <strong>Incorrect.</strong> The correct answer is A. The airline model has just 2 MA parameters: $\theta_1$ and $\Theta_1$.
                    </div>
                </div>

                <!-- Ch4 Question 4 -->
                <div class="quiz-question" id="ch4q4">
                    <h4>Question 4: Seasonal ACF Pattern</h4>
                    <p>For monthly data with strong annual seasonality, where would you expect significant ACF spikes?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch4', 4, 'A')"><input type="radio" name="ch4q4"> A) Only at lag 1</li>
                        <li onclick="checkAnswer('ch4', 4, 'B')"><input type="radio" name="ch4q4"> B) At lags 12, 24, 36, ...</li>
                        <li onclick="checkAnswer('ch4', 4, 'C')"><input type="radio" name="ch4q4"> C) Randomly distributed</li>
                        <li onclick="checkAnswer('ch4', 4, 'D')"><input type="radio" name="ch4q4"> D) No spikes at all</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch4answer4-correct">
                        <strong>Correct!</strong> Seasonal data shows significant ACF at multiples of the seasonal period (12, 24, 36, ...).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch4answer4-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Seasonal ACF shows spikes at seasonal lags and their multiples.
                    </div>
                </div>

                <!-- Ch4 Question 5 -->
                <div class="quiz-question" id="ch4q5">
                    <h4>Question 5: Multiplicative Structure</h4>
                    <p>In SARIMA, "multiplicative structure" means:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch4', 5, 'A')"><input type="radio" name="ch4q5"> A) Seasonal amplitude grows proportionally with level</li>
                        <li onclick="checkAnswer('ch4', 5, 'B')"><input type="radio" name="ch4q5"> B) Regular and seasonal polynomials are multiplied</li>
                        <li onclick="checkAnswer('ch4', 5, 'C')"><input type="radio" name="ch4q5"> C) Data must be multiplied by seasonal factors</li>
                        <li onclick="checkAnswer('ch4', 5, 'D')"><input type="radio" name="ch4q5"> D) Model is estimated using multiplication</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch4answer5-correct">
                        <strong>Correct!</strong> The AR polynomials $\phi(L)\Phi(L^s)$ and MA polynomials $\theta(L)\Theta(L^s)$ are multiplied, creating cross-terms.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch4answer5-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Multiplicative structure refers to the multiplication of regular and seasonal polynomials.
                    </div>
                </div>

                <!-- Ch4 Question 6 -->
                <div class="quiz-question" id="ch4q6">
                    <h4>Question 6: Full Differencing</h4>
                    <p>When should you apply both regular ($d=1$) and seasonal ($D=1$) differencing?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch4', 6, 'A')"><input type="radio" name="ch4q6"> A) When data has only a trend</li>
                        <li onclick="checkAnswer('ch4', 6, 'B')"><input type="radio" name="ch4q6"> B) When data has only seasonality</li>
                        <li onclick="checkAnswer('ch4', 6, 'C')"><input type="radio" name="ch4q6"> C) When data has both trend and seasonal non-stationarity</li>
                        <li onclick="checkAnswer('ch4', 6, 'D')"><input type="radio" name="ch4q6"> D) Never - they cancel each other</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch4answer6-correct">
                        <strong>Correct!</strong> Both differencing types are needed when the series has both a stochastic trend (unit root) and stochastic seasonality.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch4answer6-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Use both when the series exhibits both regular and seasonal non-stationarity.
                    </div>
                </div>

                <!-- Ch4 Question 7 -->
                <div class="quiz-question" id="ch4q7">
                    <h4>Question 7: Log Transformation</h4>
                    <p>When should you apply log transformation before fitting SARIMA?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch4', 7, 'A')"><input type="radio" name="ch4q7"> A) When data contains zeros or negative values</li>
                        <li onclick="checkAnswer('ch4', 7, 'B')"><input type="radio" name="ch4q7"> B) When seasonal fluctuations grow with the level</li>
                        <li onclick="checkAnswer('ch4', 7, 'C')"><input type="radio" name="ch4q7"> C) Always, regardless of data characteristics</li>
                        <li onclick="checkAnswer('ch4', 7, 'D')"><input type="radio" name="ch4q7"> D) Never for seasonal data</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch4answer7-correct">
                        <strong>Correct!</strong> Log transformation stabilizes variance when seasonal amplitude grows with level (multiplicative seasonality).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch4answer7-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Log transformation is used for multiplicative seasonality where amplitude grows with level.
                    </div>
                </div>

                <!-- Ch4 Question 8 -->
                <div class="quiz-question" id="ch4q8">
                    <h4>Question 8: Seasonal Period</h4>
                    <p>What seasonal period ($s$) would you use for quarterly GDP data with annual patterns?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch4', 8, 'A')"><input type="radio" name="ch4q8"> A) $s = 1$</li>
                        <li onclick="checkAnswer('ch4', 8, 'B')"><input type="radio" name="ch4q8"> B) $s = 4$</li>
                        <li onclick="checkAnswer('ch4', 8, 'C')"><input type="radio" name="ch4q8"> C) $s = 12$</li>
                        <li onclick="checkAnswer('ch4', 8, 'D')"><input type="radio" name="ch4q8"> D) $s = 52$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch4answer8-correct">
                        <strong>Correct!</strong> For quarterly data with annual seasonality, $s=4$ (4 quarters per year).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch4answer8-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Quarterly data has 4 observations per annual cycle.
                    </div>
                </div>

                <!-- Ch4 Question 9 -->
                <div class="quiz-question" id="ch4q9">
                    <h4>Question 9: Expansion Formula</h4>
                    <p>What is $(1-L)(1-L^{12})$ expanded?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch4', 9, 'A')"><input type="radio" name="ch4q9"> A) $1 - L - L^{12}$</li>
                        <li onclick="checkAnswer('ch4', 9, 'B')"><input type="radio" name="ch4q9"> B) $1 - L - L^{12} + L^{13}$</li>
                        <li onclick="checkAnswer('ch4', 9, 'C')"><input type="radio" name="ch4q9"> C) $1 - 2L + L^{12}$</li>
                        <li onclick="checkAnswer('ch4', 9, 'D')"><input type="radio" name="ch4q9"> D) $1 - L^{13}$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch4answer9-correct">
                        <strong>Correct!</strong> $(1-L)(1-L^{12}) = 1 - L - L^{12} + L^{13}$, so $(1-L)(1-L^{12})Y_t = Y_t - Y_{t-1} - Y_{t-12} + Y_{t-13}$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch4answer9-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Multiply out: $(1-L)(1-L^{12}) = 1 - L - L^{12} + L^{13}$.
                    </div>
                </div>

                <!-- Ch4 Question 10 -->
                <div class="quiz-question" id="ch4q10">
                    <h4>Question 10: Deterministic vs Stochastic</h4>
                    <p>What distinguishes stochastic seasonality (SARIMA) from deterministic seasonality (seasonal dummies)?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch4', 10, 'A')"><input type="radio" name="ch4q10"> A) Stochastic seasonality requires more data</li>
                        <li onclick="checkAnswer('ch4', 10, 'B')"><input type="radio" name="ch4q10"> B) Stochastic seasonality evolves over time</li>
                        <li onclick="checkAnswer('ch4', 10, 'C')"><input type="radio" name="ch4q10"> C) Deterministic seasonality is more flexible</li>
                        <li onclick="checkAnswer('ch4', 10, 'D')"><input type="radio" name="ch4q10"> D) There is no difference</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch4answer10-correct">
                        <strong>Correct!</strong> Stochastic seasonality evolves: this year's December depends on last year's December. Deterministic assumes fixed, repeating patterns.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch4answer10-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Stochastic seasonality allows the seasonal pattern to evolve over time.
                    </div>
                </div>

                <div style="margin-top: 2rem; text-align: center;">
                    <p id="score-display-ch4" style="font-size: 1.2rem; margin-bottom: 1rem; font-weight: bold;"></p>
                    <button onclick="calculateScore(4)" class="btn btn-secondary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none; margin-right: 1rem;">Check Score</button>
                    <button onclick="resetQuiz(4)" class="btn btn-primary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none;">Reset Quiz</button>
                </div>
            </div>

            <!-- Chapter 5 Quizzes (VAR & Granger Causality) -->
            <div class="quiz-container" id="chapter5-quizzes" style="display: none;">
                <h3 style="margin-bottom: 1.5rem;">Chapter 5: VAR Models & Granger Causality</h3>

                <!-- Question 1 -->
                <div class="quiz-question" id="ch5q1">
                    <h4>Question 1: VAR Definition</h4>
                    <p>In a VAR(2) model with 3 variables, how many coefficient matrices $\mathbf{A}_i$ are there?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 1, 'A')"><input type="radio" name="ch5q1"> A) 2</li>
                        <li onclick="checkAnswer('ch5', 1, 'B')"><input type="radio" name="ch5q1"> B) 3</li>
                        <li onclick="checkAnswer('ch5', 1, 'C')"><input type="radio" name="ch5q1"> C) 6</li>
                        <li onclick="checkAnswer('ch5', 1, 'D')"><input type="radio" name="ch5q1"> D) 9</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer1-correct">
                        <strong>Correct!</strong> VAR(p) has p coefficient matrices. VAR(2) has $\mathbf{A}_1$ and $\mathbf{A}_2$, regardless of the number of variables.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer1-incorrect">
                        <strong>Incorrect.</strong> The correct answer is A. VAR(p) has p coefficient matrices (one for each lag).
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="quiz-question" id="ch5q2">
                    <h4>Question 2: Number of Parameters</h4>
                    <p>A VAR(2) with $K=3$ variables (including constants) has how many parameters per equation?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 2, 'A')"><input type="radio" name="ch5q2"> A) 3</li>
                        <li onclick="checkAnswer('ch5', 2, 'B')"><input type="radio" name="ch5q2"> B) 6</li>
                        <li onclick="checkAnswer('ch5', 2, 'C')"><input type="radio" name="ch5q2"> C) 7</li>
                        <li onclick="checkAnswer('ch5', 2, 'D')"><input type="radio" name="ch5q2"> D) 9</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer2-correct">
                        <strong>Correct!</strong> Per equation: $1 + K \times p = 1 + 3 \times 2 = 7$ parameters (constant + 6 lagged coefficients).
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer2-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Each equation has 1 constant + $K \times p = 3 \times 2 = 6$ lagged terms = 7 parameters.
                    </div>
                </div>

                <!-- Question 3 -->
                <div class="quiz-question" id="ch5q3">
                    <h4>Question 3: Granger Causality</h4>
                    <p>"$X$ Granger-causes $Y$" means:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 3, 'A')"><input type="radio" name="ch5q3"> A) $X$ is the economic cause of $Y$</li>
                        <li onclick="checkAnswer('ch5', 3, 'B')"><input type="radio" name="ch5q3"> B) Past $X$ helps predict future $Y$</li>
                        <li onclick="checkAnswer('ch5', 3, 'C')"><input type="radio" name="ch5q3"> C) $X$ and $Y$ are contemporaneously correlated</li>
                        <li onclick="checkAnswer('ch5', 3, 'D')"><input type="radio" name="ch5q3"> D) $X$ always increases when $Y$ increases</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer3-correct">
                        <strong>Correct!</strong> Granger causality is about predictive content: past values of $X$ help forecast $Y$ beyond $Y$'s own history.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer3-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Granger causality tests whether past $X$ improves predictions of $Y$.
                    </div>
                </div>

                <!-- Question 4 -->
                <div class="quiz-question" id="ch5q4">
                    <h4>Question 4: Granger Causality Test</h4>
                    <p>To test if $Y_2$ Granger-causes $Y_1$ in a VAR(p), we test:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 4, 'A')"><input type="radio" name="ch5q4"> A) All coefficients in the $Y_1$ equation equal zero</li>
                        <li onclick="checkAnswer('ch5', 4, 'B')"><input type="radio" name="ch5q4"> B) Coefficients on lagged $Y_2$ in the $Y_1$ equation equal zero</li>
                        <li onclick="checkAnswer('ch5', 4, 'C')"><input type="radio" name="ch5q4"> C) Coefficients on lagged $Y_1$ in the $Y_2$ equation equal zero</li>
                        <li onclick="checkAnswer('ch5', 4, 'D')"><input type="radio" name="ch5q4"> D) The error covariance equals zero</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer4-correct">
                        <strong>Correct!</strong> We test $H_0$: all coefficients on lagged $Y_2$ in the $Y_1$ equation are jointly zero.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer4-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Test whether lagged $Y_2$ terms in the $Y_1$ equation are jointly zero.
                    </div>
                </div>

                <!-- Question 5 -->
                <div class="quiz-question" id="ch5q5">
                    <h4>Question 5: VAR Stability</h4>
                    <p>A VAR(1) model is stable (stationary) if:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 5, 'A')"><input type="radio" name="ch5q5"> A) All diagonal elements of $\mathbf{A}_1$ are less than 1</li>
                        <li onclick="checkAnswer('ch5', 5, 'B')"><input type="radio" name="ch5q5"> B) The determinant of $\mathbf{A}_1$ is less than 1</li>
                        <li onclick="checkAnswer('ch5', 5, 'C')"><input type="radio" name="ch5q5"> C) All eigenvalues of $\mathbf{A}_1$ are less than 1 in absolute value</li>
                        <li onclick="checkAnswer('ch5', 5, 'D')"><input type="radio" name="ch5q5"> D) The trace of $\mathbf{A}_1$ equals zero</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer5-correct">
                        <strong>Correct!</strong> Stability requires all eigenvalues inside the unit circle ($|\lambda_i| < 1$), ensuring shocks die out over time.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer5-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. Stability requires all eigenvalues of $\mathbf{A}_1$ to have modulus less than 1.
                    </div>
                </div>

                <!-- Question 6 -->
                <div class="quiz-question" id="ch5q6">
                    <h4>Question 6: Impulse Response Functions</h4>
                    <p>An impulse response function shows:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 6, 'A')"><input type="radio" name="ch5q6"> A) The correlation between two variables</li>
                        <li onclick="checkAnswer('ch5', 6, 'B')"><input type="radio" name="ch5q6"> B) The effect of a shock to one variable on all variables over time</li>
                        <li onclick="checkAnswer('ch5', 6, 'C')"><input type="radio" name="ch5q6"> C) The forecast accuracy of the model</li>
                        <li onclick="checkAnswer('ch5', 6, 'D')"><input type="radio" name="ch5q6"> D) The p-values of coefficient tests</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer6-correct">
                        <strong>Correct!</strong> IRF$_{ij}(h)$ shows the response of variable $i$ at horizon $h$ to a one-unit shock in variable $j$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer6-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. IRFs trace how shocks propagate through the system over time.
                    </div>
                </div>

                <!-- Question 7 -->
                <div class="quiz-question" id="ch5q7">
                    <h4>Question 7: Lag Order Selection</h4>
                    <p>Which criterion typically selects the most parsimonious VAR model?</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 7, 'A')"><input type="radio" name="ch5q7"> A) AIC (Akaike Information Criterion)</li>
                        <li onclick="checkAnswer('ch5', 7, 'B')"><input type="radio" name="ch5q7"> B) BIC (Bayesian Information Criterion)</li>
                        <li onclick="checkAnswer('ch5', 7, 'C')"><input type="radio" name="ch5q7"> C) FPE (Final Prediction Error)</li>
                        <li onclick="checkAnswer('ch5', 7, 'D')"><input type="radio" name="ch5q7"> D) Adjusted $R^2$</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer7-correct">
                        <strong>Correct!</strong> BIC penalizes complexity more heavily than AIC ($k \ln n$ vs $2k$), favoring simpler models.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer7-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. BIC has a stronger penalty for parameters, selecting more parsimonious models.
                    </div>
                </div>

                <!-- Question 8 -->
                <div class="quiz-question" id="ch5q8">
                    <h4>Question 8: FEVD</h4>
                    <p>Forecast Error Variance Decomposition (FEVD) tells us:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 8, 'A')"><input type="radio" name="ch5q8"> A) The correlation between variables</li>
                        <li onclick="checkAnswer('ch5', 8, 'B')"><input type="radio" name="ch5q8"> B) What proportion of forecast error variance comes from each shock</li>
                        <li onclick="checkAnswer('ch5', 8, 'C')"><input type="radio" name="ch5q8"> C) The optimal forecast horizon</li>
                        <li onclick="checkAnswer('ch5', 8, 'D')"><input type="radio" name="ch5q8"> D) Which variables to include in the model</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer8-correct">
                        <strong>Correct!</strong> FEVD shows how much of the forecast uncertainty for each variable is attributable to each structural shock.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer8-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. FEVD decomposes forecast variance by shock source.
                    </div>
                </div>

                <!-- Question 9 -->
                <div class="quiz-question" id="ch5q9">
                    <h4>Question 9: Cholesky Ordering</h4>
                    <p>Cholesky ordering in IRF analysis assumes:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 9, 'A')"><input type="radio" name="ch5q9"> A) All variables are equally important</li>
                        <li onclick="checkAnswer('ch5', 9, 'B')"><input type="radio" name="ch5q9"> B) Variables ordered first affect later variables contemporaneously, not vice versa</li>
                        <li onclick="checkAnswer('ch5', 9, 'C')"><input type="radio" name="ch5q9"> C) Shocks are uncorrelated</li>
                        <li onclick="checkAnswer('ch5', 9, 'D')"><input type="radio" name="ch5q9"> D) No restrictions are needed</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer9-correct">
                        <strong>Correct!</strong> Cholesky imposes a recursive structure: variables ordered earlier can affect later ones within the period, but not vice versa.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer9-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Cholesky assumes a causal ordering for contemporaneous effects.
                    </div>
                </div>

                <!-- Question 10 -->
                <div class="quiz-question" id="ch5q10">
                    <h4>Question 10: Cointegration</h4>
                    <p>If variables are I(1) and cointegrated, you should use:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 10, 'A')"><input type="radio" name="ch5q10"> A) VAR in levels</li>
                        <li onclick="checkAnswer('ch5', 10, 'B')"><input type="radio" name="ch5q10"> B) VAR in first differences</li>
                        <li onclick="checkAnswer('ch5', 10, 'C')"><input type="radio" name="ch5q10"> C) Vector Error Correction Model (VECM)</li>
                        <li onclick="checkAnswer('ch5', 10, 'D')"><input type="radio" name="ch5q10"> D) Univariate ARIMA models</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer10-correct">
                        <strong>Correct!</strong> VECM incorporates both short-run dynamics and the long-run equilibrium relationship through the error correction term.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer10-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. With cointegration, VECM preserves the long-run relationship that would be lost in differences.
                    </div>
                </div>

                <!-- Question 11 -->
                <div class="quiz-question" id="ch5q11">
                    <h4>Question 11: VAR Residuals</h4>
                    <p>In a well-specified VAR, residuals should be:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 11, 'A')"><input type="radio" name="ch5q11"> A) Autocorrelated but homoskedastic</li>
                        <li onclick="checkAnswer('ch5', 11, 'B')"><input type="radio" name="ch5q11"> B) Serially uncorrelated (white noise)</li>
                        <li onclick="checkAnswer('ch5', 11, 'C')"><input type="radio" name="ch5q11"> C) Perfectly normally distributed</li>
                        <li onclick="checkAnswer('ch5', 11, 'D')"><input type="radio" name="ch5q11"> D) Zero for all observations</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer11-correct">
                        <strong>Correct!</strong> Residuals should have no autocorrelation. Cross-equation correlation is allowed and captured in the covariance matrix.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer11-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. The model should capture all serial dependence, leaving white noise residuals.
                    </div>
                </div>

                <!-- Question 12 -->
                <div class="quiz-question" id="ch5q12">
                    <h4>Question 12: Structural VAR</h4>
                    <p>The main difference between SVAR and reduced-form VAR is:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 12, 'A')"><input type="radio" name="ch5q12"> A) SVAR uses more lags</li>
                        <li onclick="checkAnswer('ch5', 12, 'B')"><input type="radio" name="ch5q12"> B) SVAR identifies structural shocks with economic interpretation</li>
                        <li onclick="checkAnswer('ch5', 12, 'C')"><input type="radio" name="ch5q12"> C) SVAR requires more data</li>
                        <li onclick="checkAnswer('ch5', 12, 'D')"><input type="radio" name="ch5q12"> D) SVAR cannot forecast</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer12-correct">
                        <strong>Correct!</strong> SVAR imposes identifying restrictions to recover orthogonal structural shocks with economic meaning (e.g., "monetary policy shock").
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer12-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. SVAR uses restrictions to identify economically meaningful structural shocks.
                    </div>
                </div>

                <!-- Question 13 -->
                <div class="quiz-question" id="ch5q13">
                    <h4>Question 13: Granger vs True Causality</h4>
                    <p>Finding that X Granger-causes Y means:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 13, 'A')"><input type="radio" name="ch5q13"> A) X definitely causes Y economically</li>
                        <li onclick="checkAnswer('ch5', 13, 'B')"><input type="radio" name="ch5q13"> B) X has predictive power for Y, but may not be true causation</li>
                        <li onclick="checkAnswer('ch5', 13, 'C')"><input type="radio" name="ch5q13"> C) Y causes X</li>
                        <li onclick="checkAnswer('ch5', 13, 'D')"><input type="radio" name="ch5q13"> D) X and Y are unrelated</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer13-correct">
                        <strong>Correct!</strong> Granger causality is about prediction, not true causation. It may be spurious due to omitted variables or anticipation effects.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer13-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Granger causality tests predictive content, not economic causation.
                    </div>
                </div>

                <!-- Question 14 -->
                <div class="quiz-question" id="ch5q14">
                    <h4>Question 14: VAR Estimation</h4>
                    <p>VAR models can be estimated by:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 14, 'A')"><input type="radio" name="ch5q14"> A) OLS on each equation separately</li>
                        <li onclick="checkAnswer('ch5', 14, 'B')"><input type="radio" name="ch5q14"> B) Only maximum likelihood</li>
                        <li onclick="checkAnswer('ch5', 14, 'C')"><input type="radio" name="ch5q14"> C) Only Bayesian methods</li>
                        <li onclick="checkAnswer('ch5', 14, 'D')"><input type="radio" name="ch5q14"> D) Weighted least squares only</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer14-correct">
                        <strong>Correct!</strong> With identical regressors in each equation, OLS = GLS = MLE (under Gaussian errors). This makes estimation simple and efficient.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer14-incorrect">
                        <strong>Incorrect.</strong> The correct answer is A. VAR can be estimated equation-by-equation with OLS.
                    </div>
                </div>

                <!-- Question 15 -->
                <div class="quiz-question" id="ch5q15">
                    <h4>Question 15: IRF Convergence</h4>
                    <p>In a stable VAR, impulse responses as $h \to \infty$:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 15, 'A')"><input type="radio" name="ch5q15"> A) Explode to infinity</li>
                        <li onclick="checkAnswer('ch5', 15, 'B')"><input type="radio" name="ch5q15"> B) Converge to zero</li>
                        <li onclick="checkAnswer('ch5', 15, 'C')"><input type="radio" name="ch5q15"> C) Oscillate forever</li>
                        <li onclick="checkAnswer('ch5', 15, 'D')"><input type="radio" name="ch5q15"> D) Stay constant</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer15-correct">
                        <strong>Correct!</strong> Stability means eigenvalues inside unit circle, so $A^h \to 0$. Shocks have transitory effects that die out.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer15-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. In stable VARs, all impulse responses converge to zero.
                    </div>
                </div>

                <!-- Question 16 -->
                <div class="quiz-question" id="ch5q16">
                    <h4>Question 16: Bidirectional Causality</h4>
                    <p>If both "X Granger-causes Y" and "Y Granger-causes X", this is called:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 16, 'A')"><input type="radio" name="ch5q16"> A) No causality</li>
                        <li onclick="checkAnswer('ch5', 16, 'B')"><input type="radio" name="ch5q16"> B) Unidirectional causality</li>
                        <li onclick="checkAnswer('ch5', 16, 'C')"><input type="radio" name="ch5q16"> C) Bidirectional (feedback) causality</li>
                        <li onclick="checkAnswer('ch5', 16, 'D')"><input type="radio" name="ch5q16"> D) Instantaneous causality</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer16-correct">
                        <strong>Correct!</strong> Bidirectional or feedback causality means each variable helps predict the other. Common in financial markets.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer16-incorrect">
                        <strong>Incorrect.</strong> The correct answer is C. When causality runs both ways, it's called bidirectional or feedback.
                    </div>
                </div>

                <!-- Question 17 -->
                <div class="quiz-question" id="ch5q17">
                    <h4>Question 17: Companion Form</h4>
                    <p>The companion matrix of a VAR(p) is used to:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 17, 'A')"><input type="radio" name="ch5q17"> A) Reduce the number of parameters</li>
                        <li onclick="checkAnswer('ch5', 17, 'B')"><input type="radio" name="ch5q17"> B) Convert VAR(p) to VAR(1) form for stability analysis</li>
                        <li onclick="checkAnswer('ch5', 17, 'C')"><input type="radio" name="ch5q17"> C) Estimate the model faster</li>
                        <li onclick="checkAnswer('ch5', 17, 'D')"><input type="radio" name="ch5q17"> D) Test for Granger causality</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer17-correct">
                        <strong>Correct!</strong> Any VAR(p) can be written as VAR(1) in companion form. Eigenvalues of the companion matrix determine stability.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer17-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Companion form allows stability analysis through eigenvalue computation.
                    </div>
                </div>

                <!-- Question 18 -->
                <div class="quiz-question" id="ch5q18">
                    <h4>Question 18: FEVD Over Horizons</h4>
                    <p>In FEVD, as the horizon $h$ increases:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 18, 'A')"><input type="radio" name="ch5q18"> A) Own shocks always dominate</li>
                        <li onclick="checkAnswer('ch5', 18, 'B')"><input type="radio" name="ch5q18"> B) The proportions converge to long-run values</li>
                        <li onclick="checkAnswer('ch5', 18, 'C')"><input type="radio" name="ch5q18"> C) All shocks contribute equally</li>
                        <li onclick="checkAnswer('ch5', 18, 'D')"><input type="radio" name="ch5q18"> D) FEVD becomes undefined</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer18-correct">
                        <strong>Correct!</strong> FEVD proportions stabilize at long horizons, showing the ultimate importance of each shock source.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer18-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. FEVD converges to long-run decomposition as horizon increases.
                    </div>
                </div>

                <!-- Question 19 -->
                <div class="quiz-question" id="ch5q19">
                    <h4>Question 19: Instantaneous Causality</h4>
                    <p>Instantaneous causality tests whether:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 19, 'A')"><input type="radio" name="ch5q19"> A) Lagged X predicts Y</li>
                        <li onclick="checkAnswer('ch5', 19, 'B')"><input type="radio" name="ch5q19"> B) Shocks to X and Y are correlated within the same period</li>
                        <li onclick="checkAnswer('ch5', 19, 'C')"><input type="radio" name="ch5q19"> C) X and Y share a common trend</li>
                        <li onclick="checkAnswer('ch5', 19, 'D')"><input type="radio" name="ch5q19"> D) The VAR is stable</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer19-correct">
                        <strong>Correct!</strong> Instantaneous causality tests contemporaneous correlation of residuals: $Cov(\varepsilon_{1t}, \varepsilon_{2t}) = 0$.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer19-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Instantaneous causality is about same-period correlation, not lags.
                    </div>
                </div>

                <!-- Question 20 -->
                <div class="quiz-question" id="ch5q20">
                    <h4>Question 20: Pre-Estimation Checks</h4>
                    <p>Before estimating a VAR, you should always check:</p>
                    <ul class="quiz-options">
                        <li onclick="checkAnswer('ch5', 20, 'A')"><input type="radio" name="ch5q20"> A) That all variables are I(2)</li>
                        <li onclick="checkAnswer('ch5', 20, 'B')"><input type="radio" name="ch5q20"> B) The stationarity of each variable</li>
                        <li onclick="checkAnswer('ch5', 20, 'C')"><input type="radio" name="ch5q20"> C) That variables are perfectly correlated</li>
                        <li onclick="checkAnswer('ch5', 20, 'D')"><input type="radio" name="ch5q20"> D) That the sample size is exactly 100</li>
                    </ul>
                    <div class="answer-reveal answer-correct" id="ch5answer20-correct">
                        <strong>Correct!</strong> Standard VAR requires stationary variables. Use ADF/KPSS tests first; if I(1), consider VECM if cointegrated.
                    </div>
                    <div class="answer-reveal answer-incorrect" id="ch5answer20-incorrect">
                        <strong>Incorrect.</strong> The correct answer is B. Always test for stationarity before VAR estimation.
                    </div>
                </div>

                <div style="margin-top: 2rem; text-align: center;">
                    <p id="score-display-ch5" style="font-size: 1.2rem; margin-bottom: 1rem; font-weight: bold;"></p>
                    <button onclick="calculateScore(5)" class="btn btn-secondary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none; margin-right: 1rem;">Check Score</button>
                    <button onclick="resetQuiz(5)" class="btn btn-primary" style="padding: 1rem 2rem; font-size: 1rem; cursor: pointer; border: none;">Reset Quiz</button>
                </div>
            </div>
        </section>

        <section id="resources">
            <h2>Resources</h2>

            <h3 style="margin-bottom: 1rem;">Recommended Textbooks</h3>
            <ul style="margin-left: 2rem; margin-bottom: 2rem;">
                <li>Hyndman, R.J. & Athanasopoulos, G. (2021). <em>Forecasting: Principles and Practice</em>, 3rd ed. <a href="https://otexts.com/fpp3/" target="_blank" style="color: var(--main-blue);">OTexts (free online)</a></li>
                <li>Hamilton, J.D. (1994). <em>Time Series Analysis</em>. Princeton University Press.</li>
                <li>Tsay, R.S. (2010). <em>Analysis of Financial Time Series</em>, 3rd ed. Wiley.</li>
                <li>Shumway, R.H. & Stoffer, D.S. (2017). <em>Time Series Analysis and Its Applications</em>, 4th ed. Springer.</li>
            </ul>

            <h3 style="margin-bottom: 1rem;">Online Resources</h3>
            <div class="resources-list" style="display: flex; gap: 2rem; flex-wrap: wrap; justify-content: center;">
                <a href="https://quantlet.com/" target="_blank" class="resource-item" style="text-decoration: none; display: flex; align-items: center; gap: 1rem; padding: 1.5rem; background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: transform 0.3s;">
                    <img src="logos/ql_logo.png" alt="Quantlet Logo" style="height: 50px; border-radius: 8px;">
                    <div>
                        <strong style="color: var(--main-blue);">Quantlet</strong>
                        <p style="font-size: 0.9rem; color: #666; margin: 0;">Quantitative finance code repository</p>
                    </div>
                </a>
                <a href="https://www.quantinar.com" target="_blank" class="resource-item" style="text-decoration: none; display: flex; align-items: center; gap: 1rem; padding: 1.5rem; background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: transform 0.3s;">
                    <img src="https://www.quantinar.com/quantinar/images/logos/navbar_logo.png" alt="Quantinar Logo" style="height: 50px;">
                    <div>
                        <strong style="color: var(--main-blue);">Quantinar</strong>
                        <p style="font-size: 0.9rem; color: #666; margin: 0;">Quantitative methods learning platform</p>
                    </div>
                </a>
            </div>
        </section>

        <section id="contact">
            <h2>Contact Information</h2>
            <div class="course-info">
                <div class="info-card">
                    <h3>Instructor</h3>
                    <p><strong>Prof. dr. Daniel Traian Pele</strong></p>
                    <p>Department of Statistics and Econometrics</p>
                </div>
                <div class="info-card">
                    <h3>Email</h3>
                    <p><a href="mailto:danpele@ase.ro" style="color: var(--main-blue);">danpele@ase.ro</a></p>
                </div>
                <div class="info-card">
                    <h3>Office Hours</h3>
                    <p>By appointment</p>
                </div>
                <div class="info-card">
                    <h3>Location</h3>
                    <p>Bucharest University of Economic Studies</p>
                    <p>Faculty of Cybernetics, Statistics and Economic Informatics</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div style="display: flex; justify-content: center; gap: 2rem; align-items: center; margin-bottom: 1.5rem; flex-wrap: wrap;">
            <a href="https://www.ase.ro" target="_blank"><img src="logos/ase_logo.png" alt="ASE Logo" style="height: 50px; background: white; padding: 5px; border-radius: 4px;"></a>
            <a href="https://www.theida.net/" target="_blank"><img src="logos/ida_logo.png" alt="IDA Logo" style="height: 50px; background: white; padding: 5px; border-radius: 4px;"></a>
            <a href="https://ai4efin.ase.ro" target="_blank"><img src="logos/ai4efin_logo.png" alt="AI4EFIN Logo" style="height: 50px; background: white; padding: 5px; border-radius: 4px;"></a>
            <a href="https://www.digital-finance-msca.com/" target="_blank"><img src="logos/msca_logo.png" alt="MSCA Logo" style="height: 50px; background: white; padding: 5px; border-radius: 4px;"></a>
            <a href="https://blockchain-research-center.com/" target="_blank"><img src="logos/brc_logo.png" alt="BRC Logo" style="height: 50px; background: white; padding: 5px; border-radius: 4px;"></a>
            <a href="https://ipe.ro/new/" target="_blank"><img src="logos/acad_logo.png" alt="Academy Logo" style="height: 50px; background: white; padding: 5px; border-radius: 4px;"></a>
        </div>
        <p>Time Series Analysis | Faculty of Cybernetics, Statistics and Economic Informatics | Bucharest University of Economic Studies</p>
        <p>Instructor: <strong>Prof. dr. Daniel Traian Pele</strong> | <a href="mailto:danpele@ase.ro" style="color: #ccc;">danpele@ase.ro</a></p>
        <p>Academic Year 2025-2026</p>
        <p style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.8;">All materials generated using Python and LaTeX</p>
    </footer>

    <script>
        // Chapter 1 answers (20 questions)
        const ch1Answers = {
            1: 'C',   // Time series NOT i.i.d.
            2: 'C',   // Panel data
            3: 'C',   // Multiplicative when seasonal grows
            4: 'D',   // S=1.15 means both 15% above and 115% of trend
            5: 'B',   // Moving average for trend
            6: 'B',   // Low alpha = smooth
            7: 'B',   // Holt adds trend
            8: 'C',   // Holt-Winters for trend+seasonal
            9: 'C',   // MAPE is scale-independent
            10: 'B',  // Validation for tuning
            11: 'C',  // Good residuals = white noise
            12: 'C',  // Normality NOT required for stationarity
            13: 'C',  // Var(X_25) = 25*4 = 100
            14: 'C',  // White noise doesn't need normality
            15: 'B',  // AR(1) ACF decays
            16: 'B',  // MA(1) PACF decays
            17: 'B',  // Differenced RW = white noise
            18: 'B',  // ADF H0 = unit root
            19: 'B',  // KPSS reject = non-stationary
            20: 'B'   // Stochastic trend = differencing
        };

        // Chapter 2 answers (20 questions)
        const ch2Answers = {
            1: 'C',   // AR stationarity: phi = -0.8
            2: 'B',   // ACF/PACF: MA(1)
            3: 'C',   // MA invertibility: No, |theta| > 1
            4: 'C',   // ARMA representation
            5: 'B',   // Lag operator: second difference
            6: 'C',   // BIC: lower is preferred
            7: 'B',   // Ljung-Box: inadequate model
            8: 'C',   // Forecast: converge to mean
            9: 'C',   // AR(1) variance: sigma^2/(1-phi^2)
            10: 'D',  // MA(1) rho(2) = 0
            11: 'C',  // AR(1) mean = 5
            12: 'B',  // Wold: MA(inf) + deterministic
            13: 'B',  // AR(2) stationarity conditions
            14: 'B',  // Yule-Walker: estimate AR params
            15: 'B',  // PACF: partial correlation
            16: 'B',  // Parsimony: simplest adequate
            17: 'B',  // Characteristic root: 1/phi
            18: 'B',  // MLE preferred for ARMA
            19: 'C',  // Forecast variance -> gamma(0)
            20: 'B'   // Box-Jenkins: ID -> Est -> Diag
        };

        // Chapter 3 answers (20 questions)
        const ch3Answers = {
            1: 'C',   // I(2) - two differences
            2: 'B',   // t*sigma^2 variance
            3: 'B',   // ADF H0 = unit root
            4: 'A',   // ARIMA(2,1,1) notation
            5: 'B',   // Second difference expansion
            6: 'B',   // KPSS vs ADF
            7: 'B',   // Overdifferencing
            8: 'C',   // Forecast variance grows linearly
            9: 'C',   // Stochastic = permanent shocks
            10: 'B',  // ADF reject when more negative
            11: 'B',  // IMA(1,1) = SES
            12: 'B',  // Constant = drift for d>0
            13: 'B',  // Auto-ARIMA uses AIC/BIC
            14: 'B',  // Box-Jenkins step 1 = identify
            15: 'B',  // I(1) ACF decays slowly
            16: 'B',  // LB p<0.05 = inadequate
            17: 'B',  // MLE for ARIMA
            18: 'B',  // Economic data usually I(1)
            19: 'D',  // Conflicting = inconclusive
            20: 'C'   // Handling non-stationarity is strength
        };

        const ch4Answers = {
            1: 'B',   // Seasonal diff = Y_t - Y_{t-12}
            2: 'B',   // Subscript = seasonal period
            3: 'A',   // Airline model has 2 params
            4: 'B',   // ACF at 12, 24, 36...
            5: 'B',   // Multiplicative = polynomials multiplied
            6: 'C',   // Both d=1 and D=1 for trend+season
            7: 'B',   // Log when amplitude grows with level
            8: 'B',   // Quarterly annual = s=4
            9: 'B',   // (1-L)(1-L^12) expansion
            10: 'B'   // Stochastic evolves over time
        };

        const ch5Answers = {
            1: 'A',   // VAR(2) has 2 coefficient matrices
            2: 'C',   // 7 parameters per equation
            3: 'B',   // Past X helps predict Y
            4: 'B',   // Test lagged Y2 coefficients in Y1 equation
            5: 'C',   // Eigenvalues < 1 in absolute value
            6: 'B',   // Effect of shock over time
            7: 'B',   // BIC most parsimonious
            8: 'B',   // Proportion of variance from each shock
            9: 'B',   // First affects later contemporaneously
            10: 'C',  // VECM for cointegrated I(1)
            11: 'B',  // Residuals serially uncorrelated
            12: 'B',  // SVAR identifies structural shocks
            13: 'B',  // Granger = predictive, not true causation
            14: 'A',  // OLS on each equation
            15: 'B',  // IRF converges to zero
            16: 'C',  // Bidirectional causality
            17: 'B',  // Companion form for stability
            18: 'B',  // FEVD converges to long-run
            19: 'B',  // Instantaneous = same-period correlation
            20: 'B'   // Check stationarity first
        };

        let userAnswersCh1 = {};
        let userAnswersCh2 = {};
        let userAnswersCh3 = {};
        let userAnswersCh4 = {};
        let userAnswersCh5 = {};

        // Show/hide chapters
        function showChapter(chapter) {
            document.getElementById('chapter1-quizzes').style.display = chapter === 1 ? 'block' : 'none';
            document.getElementById('chapter2-quizzes').style.display = chapter === 2 ? 'block' : 'none';
            document.getElementById('chapter3-quizzes').style.display = chapter === 3 ? 'block' : 'none';
            document.getElementById('chapter4-quizzes').style.display = chapter === 4 ? 'block' : 'none';
            document.getElementById('chapter5-quizzes').style.display = chapter === 5 ? 'block' : 'none';

            // Update tab styles
            document.getElementById('tab-ch1').style.background = chapter === 1 ? 'var(--main-blue)' : 'white';
            document.getElementById('tab-ch1').style.color = chapter === 1 ? 'white' : 'var(--main-blue)';
            document.getElementById('tab-ch2').style.background = chapter === 2 ? 'var(--main-blue)' : 'white';
            document.getElementById('tab-ch2').style.color = chapter === 2 ? 'white' : 'var(--main-blue)';
            document.getElementById('tab-ch3').style.background = chapter === 3 ? 'var(--main-blue)' : 'white';
            document.getElementById('tab-ch3').style.color = chapter === 3 ? 'white' : 'var(--main-blue)';
            document.getElementById('tab-ch4').style.background = chapter === 4 ? 'var(--main-blue)' : 'white';
            document.getElementById('tab-ch4').style.color = chapter === 4 ? 'white' : 'var(--main-blue)';
            document.getElementById('tab-ch5').style.background = chapter === 5 ? 'var(--main-blue)' : 'white';
            document.getElementById('tab-ch5').style.color = chapter === 5 ? 'white' : 'var(--main-blue)';
        }

        function checkAnswer(chapter, questionNum, selectedAnswer) {
            let correctAnswers, userAnswers, prefix;

            if (chapter === 'ch5') {
                correctAnswers = ch5Answers;
                userAnswers = userAnswersCh5;
                prefix = 'ch5';
            } else if (chapter === 'ch4') {
                correctAnswers = ch4Answers;
                userAnswers = userAnswersCh4;
                prefix = 'ch4';
            } else if (chapter === 'ch3') {
                correctAnswers = ch3Answers;
                userAnswers = userAnswersCh3;
                prefix = 'ch3';
            } else if (chapter === 'ch2') {
                correctAnswers = ch2Answers;
                userAnswers = userAnswersCh2;
                prefix = 'ch2';
            } else {
                correctAnswers = ch1Answers;
                userAnswers = userAnswersCh1;
                prefix = '';
            }

            const correctDiv = document.getElementById(`${prefix}answer${questionNum}-correct`);
            const incorrectDiv = document.getElementById(`${prefix}answer${questionNum}-incorrect`);

            // Store user answer
            userAnswers[questionNum] = selectedAnswer;

            // Hide both first
            correctDiv.style.display = 'none';
            incorrectDiv.style.display = 'none';

            if (selectedAnswer === correctAnswers[questionNum]) {
                correctDiv.style.display = 'block';
            } else {
                incorrectDiv.style.display = 'block';
            }
        }

        function calculateScore(chapter) {
            let score = 0;
            let answered = 0;
            let total, correctAnswers, userAnswers, displayId;

            if (chapter === 5) {
                total = 20;
                correctAnswers = ch5Answers;
                userAnswers = userAnswersCh5;
                displayId = 'score-display-ch5';
            } else if (chapter === 4) {
                total = 10;
                correctAnswers = ch4Answers;
                userAnswers = userAnswersCh4;
                displayId = 'score-display-ch4';
            } else if (chapter === 3) {
                total = 20;
                correctAnswers = ch3Answers;
                userAnswers = userAnswersCh3;
                displayId = 'score-display-ch3';
            } else if (chapter === 2) {
                total = 20;
                correctAnswers = ch2Answers;
                userAnswers = userAnswersCh2;
                displayId = 'score-display-ch2';
            } else {
                total = 20;
                correctAnswers = ch1Answers;
                userAnswers = userAnswersCh1;
                displayId = 'score-display-ch1';
            }

            for (let i = 1; i <= total; i++) {
                if (userAnswers[i]) {
                    answered++;
                    if (userAnswers[i] === correctAnswers[i]) {
                        score++;
                    }
                }
            }

            const totalPercentage = Math.round((score / total) * 100);

            let message = `Score: ${score}/${total} (${totalPercentage}%)`;
            if (answered < total) {
                message += ` - ${total - answered} questions unanswered`;
            }

            if (totalPercentage >= 90) {
                message += ' - Excellent!';
            } else if (totalPercentage >= 70) {
                message += ' - Good job!';
            } else if (totalPercentage >= 50) {
                message += ' - Keep studying!';
            } else {
                message += ' - Review the material.';
            }

            document.getElementById(displayId).textContent = message;
        }

        function resetQuiz(chapter) {
            let total, prefix, displayId, container;

            if (chapter === 5) {
                total = 20;
                prefix = 'ch5';
                displayId = 'score-display-ch5';
                container = 'chapter5-quizzes';
                userAnswersCh5 = {};
            } else if (chapter === 4) {
                total = 10;
                prefix = 'ch4';
                displayId = 'score-display-ch4';
                container = 'chapter4-quizzes';
                userAnswersCh4 = {};
            } else if (chapter === 3) {
                total = 20;
                prefix = 'ch3';
                displayId = 'score-display-ch3';
                container = 'chapter3-quizzes';
                userAnswersCh3 = {};
            } else if (chapter === 2) {
                total = 20;
                prefix = 'ch2';
                displayId = 'score-display-ch2';
                container = 'chapter2-quizzes';
                userAnswersCh2 = {};
            } else {
                total = 20;
                prefix = '';
                displayId = 'score-display-ch1';
                container = 'chapter1-quizzes';
                userAnswersCh1 = {};
            }

            for (let i = 1; i <= total; i++) {
                const correctDiv = document.getElementById(`${prefix}answer${i}-correct`);
                const incorrectDiv = document.getElementById(`${prefix}answer${i}-incorrect`);
                if (correctDiv) correctDiv.style.display = 'none';
                if (incorrectDiv) incorrectDiv.style.display = 'none';
            }

            // Uncheck radio buttons for this chapter
            document.querySelectorAll(`#${container} input[type="radio"]`).forEach(radio => {
                radio.checked = false;
            });

            document.getElementById(displayId).textContent = '';
        }

        // Smooth scrolling for navigation
        document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>
</html>
