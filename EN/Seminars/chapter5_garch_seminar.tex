% Seminar 5: GARCH and Volatility Models

\documentclass[9pt, aspectratio=169, t]{beamer}
\input{preamble}
\subtitle{Seminar 5: GARCH and Volatility Models}

\begin{document}

{
\setbeamertemplate{headline}{}
\setbeamertemplate{footline}{}
\begin{frame}
    \titlepage
\end{frame}
}


\begin{frame}{Seminar Outline}
    \begin{cminipage}{0.95\textwidth}
    \begin{itemize}
        \item \textbf{Multiple Choice Quiz} -- Knowledge check
        \vspace{0.15cm}
        \item \textbf{True/False} -- Conceptual checks
        \vspace{0.15cm}
        \item \textbf{Practice Problems} -- Applied practice
        \vspace{0.15cm}
        \item \textbf{Python Workflow} -- Hands-on coding
        \vspace{0.15cm}
        \item \textbf{AI-Assisted Exercise} -- Critical thinking
        \vspace{0.15cm}
        \item \textbf{Summary} -- Key takeaways
    \end{itemize}
    \end{cminipage}
\end{frame}

%=============================================================================
% MULTIPLE CHOICE QUIZ
%=============================================================================
\section{Multiple Choice Quiz}

\begin{frame}{Quiz 1: Volatility Clustering}
    \begin{cminipage}{0.95\textwidth}
    \begin{alertblock}{Question}
        What is ``volatility clustering''?
    \end{alertblock}

    \vspace{0.4cm}

    \begin{block}{Answer choices}
        \textcolor{MainBlue}{\textbf{(A)}} Volatility is constant over time\\[3pt]
        \textcolor{MainBlue}{\textbf{(B)}} Periods of high volatility tend to be followed by periods of high volatility\\[3pt]
        \textcolor{MainBlue}{\textbf{(C)}} Returns are correlated over time\\[3pt]
        \textcolor{MainBlue}{\textbf{(D)}} The return distribution is normal
    \end{block}

    \vspace{0.5cm}

    \begin{center}
        \textit{Answer on next slide...}
    \end{center}
    \end{cminipage}
\end{frame}

\begin{frame}{Quiz 1: Answer}
    \begin{cminipage}{0.95\textwidth}
    \begin{exampleblock}{Answer: B -- Periods of high volatility tend to be followed by periods of high volatility}

    \vspace{0.1cm}

    \begin{block}{Answer choices}
        \textcolor{MainBlue}{\textbf{(A)}} Volatility is constant over time \incorrect\\[3pt]
        \textcolor{MainBlue}{\textbf{(B)}} \textbf{\textcolor{Forest}{Periods of high volatility tend to be followed by periods of high volatility}} \correct\\[3pt]
        \textcolor{MainBlue}{\textbf{(C)}} Returns are correlated over time \incorrect\\[3pt]
        \textcolor{MainBlue}{\textbf{(D)}} The return distribution is normal \incorrect
    \end{block}

        \vspace{0.1cm}

        \begin{itemize}
            \item \textbf{Volatility clustering} is a stylized fact observed in financial time series
            \item ``Turbulent'' periods (with large movements) tend to persist
            \item This implies that conditional variance $\sigma_t^2$ is \textbf{predictable}
            \item GARCH models capture exactly this phenomenon!
        \end{itemize}
    \end{exampleblock}

    \end{cminipage}
    \quantlet{TSA\_ch5\_clustering}{https://github.com/QuantLet/TSA/tree/main/TSA_ch5/TSA_ch5_clustering}
\end{frame}

\begin{frame}{Quiz 2: GARCH Parameters}
    \begin{cminipage}{0.95\textwidth}
    \begin{alertblock}{Question}
        In the GARCH(1,1) model: $\sigma_t^2 = \omega + \alpha \varepsilon_{t-1}^2 + \beta \sigma_{t-1}^2$, what does the parameter $\alpha$ represent?
    \end{alertblock}

    \vspace{0.4cm}

    \begin{block}{Answer choices}
        \textcolor{MainBlue}{\textbf{(A)}} Volatility persistence\\[3pt]
        \textcolor{MainBlue}{\textbf{(B)}} Baseline volatility level\\[3pt]
        \textcolor{MainBlue}{\textbf{(C)}} Reaction to recent shocks (news coefficient)\\[3pt]
        \textcolor{MainBlue}{\textbf{(D)}} Unconditional variance
    \end{block}

    \vspace{0.5cm}

    \begin{center}
        \textit{Answer on next slide...}
    \end{center}
    \end{cminipage}
\end{frame}

\begin{frame}{Quiz 2: Answer}
    \begin{cminipage}{0.95\textwidth}
    {\small
    \begin{exampleblock}{Answer: C -- Reaction to recent shocks (news coefficient)}

    \vspace{0.1cm}

    \begin{block}{Answer choices}
        \textcolor{MainBlue}{\textbf{(A)}} Volatility persistence \incorrect\\[2pt]
        \textcolor{MainBlue}{\textbf{(B)}} Baseline volatility level \incorrect\\[2pt]
        \textcolor{MainBlue}{\textbf{(C)}} \textbf{\textcolor{Forest}{Reaction to recent shocks (news coefficient)}} \correct\\[2pt]
        \textcolor{MainBlue}{\textbf{(D)}} Unconditional variance \incorrect
    \end{block}

        \vspace{0.1cm}

        \begin{itemize}\setlength{\itemsep}{0pt}
            \item $\omega$ = baseline (floor) volatility level
            \item $\alpha$ = \textbf{reaction} to squared innovations (``news'')
            \item $\beta$ = volatility \textbf{persistence} (memory)
            \item $\alpha + \beta$ = total persistence
            \item A large $\alpha$ means volatility reacts strongly to recent shocks
        \end{itemize}
    \end{exampleblock}
    }

    \end{cminipage}
    \quantlet{TSA\_ch5\_garch}{https://github.com/QuantLet/TSA/tree/main/TSA_ch5/TSA_ch5_garch}
\end{frame}

\begin{frame}{Quiz 3: Stationarity Condition}
    \begin{cminipage}{0.95\textwidth}
    \begin{alertblock}{Question}
        What is the stationarity condition for GARCH(1,1)?
    \end{alertblock}

    \vspace{0.4cm}

    \begin{block}{Answer choices}
        \textcolor{MainBlue}{\textbf{(A)}} $\omega > 0$\\[3pt]
        \textcolor{MainBlue}{\textbf{(B)}} $\alpha + \beta = 1$\\[3pt]
        \textcolor{MainBlue}{\textbf{(C)}} $\alpha + \beta < 1$\\[3pt]
        \textcolor{MainBlue}{\textbf{(D)}} $\alpha > \beta$
    \end{block}

    \vspace{0.5cm}

    \begin{center}
        \textit{Answer on next slide...}
    \end{center}
    \end{cminipage}
\end{frame}

\begin{frame}{Quiz 3: Answer}
    \begin{cminipage}{0.95\textwidth}
    \begin{exampleblock}{Answer: C -- $\alpha + \beta < 1$}

    \vspace{0.1cm}

    \begin{block}{Answer choices}
        \textcolor{MainBlue}{\textbf{(A)}} $\omega > 0$ \incorrect\\[3pt]
        \textcolor{MainBlue}{\textbf{(B)}} $\alpha + \beta = 1$ \incorrect\\[3pt]
        \textcolor{MainBlue}{\textbf{(C)}} \textbf{\textcolor{Forest}{$\alpha + \beta < 1$}} \correct\\[3pt]
        \textcolor{MainBlue}{\textbf{(D)}} $\alpha > \beta$ \incorrect
    \end{block}

        \vspace{0.1cm}

        \begin{itemize}
            \item $\omega > 0$ (ensures positive variance)
            \item $\alpha \geq 0$, $\beta \geq 0$ (non-negativity)
            \item $\alpha + \beta < 1$ (\textbf{covariance stationarity})
            \item If $\alpha + \beta = 1$ $\Rightarrow$ IGARCH (shocks have permanent effect)
        \end{itemize}
    \end{exampleblock}

    \end{cminipage}
    \quantlet{TSA\_ch5\_garch\_sim}{https://github.com/QuantLet/TSA/tree/main/TSA_ch5/TSA_ch5_garch_sim}
\end{frame}

\begin{frame}{Quiz 4: Unconditional Variance}
    \begin{cminipage}{0.95\textwidth}
    \begin{alertblock}{Question}
        What is the formula for unconditional variance in GARCH(1,1)?
    \end{alertblock}

    \vspace{0.4cm}

    \begin{block}{Answer choices}
        \textcolor{MainBlue}{\textbf{(A)}} $\bar{\sigma}^2 = \omega$\\[3pt]
        \textcolor{MainBlue}{\textbf{(B)}} $\bar{\sigma}^2 = \dfrac{\omega}{1 - \alpha}$\\[3pt]
        \textcolor{MainBlue}{\textbf{(C)}} $\bar{\sigma}^2 = \dfrac{\omega}{1 - \alpha - \beta}$\\[3pt]
        \textcolor{MainBlue}{\textbf{(D)}} $\bar{\sigma}^2 = \dfrac{\omega}{\alpha + \beta}$
    \end{block}

    \vspace{0.5cm}

    \begin{center}
        \textit{Answer on next slide...}
    \end{center}
    \end{cminipage}
\end{frame}

\begin{frame}{Quiz 4: Answer}
    \begin{cminipage}{0.95\textwidth}
    {\small
    \begin{exampleblock}{Answer: C -- $\bar{\sigma}^2 = \dfrac{\omega}{1 - \alpha - \beta}$}

    \vspace{0.1cm}

    \begin{block}{Answer choices}
        \textcolor{MainBlue}{\textbf{(A)}} $\bar{\sigma}^2 = \omega$ \incorrect\\[2pt]
        \textcolor{MainBlue}{\textbf{(B)}} $\bar{\sigma}^2 = \dfrac{\omega}{1 - \alpha}$ \incorrect\\[2pt]
        \textcolor{MainBlue}{\textbf{(C)}} \textbf{\textcolor{Forest}{$\bar{\sigma}^2 = \dfrac{\omega}{1 - \alpha - \beta}$}} \correct\\[2pt]
        \textcolor{MainBlue}{\textbf{(D)}} $\bar{\sigma}^2 = \dfrac{\omega}{\alpha + \beta}$ \incorrect
    \end{block}

        \vspace{0.1cm}

        \begin{itemize}\setlength{\itemsep}{0pt}
            \item Taking unconditional expectation of GARCH(1,1):
            \item $\E[\sigma_t^2] = \omega + \alpha \E[\varepsilon_{t-1}^2] + \beta \E[\sigma_{t-1}^2]$
            \item $\bar{\sigma}^2 (1 - \alpha - \beta) = \omega$
            \item $\bar{\sigma}^2 = \frac{\omega}{1 - \alpha - \beta}$
        \end{itemize}
    \end{exampleblock}
    }

    \end{cminipage}
    \quantlet{TSA\_ch5\_garch\_sim}{https://github.com/QuantLet/TSA/tree/main/TSA_ch5/TSA_ch5_garch_sim}
\end{frame}

\begin{frame}{Quiz 5: Leverage Effect}
    \begin{cminipage}{0.95\textwidth}
    \begin{alertblock}{Question}
        What is the ``leverage effect''?
    \end{alertblock}

    \vspace{0.4cm}

    \begin{block}{Answer choices}
        \textcolor{MainBlue}{\textbf{(A)}} Positive shocks increase volatility more than negative shocks\\[3pt]
        \textcolor{MainBlue}{\textbf{(B)}} Negative shocks increase volatility more than positive shocks\\[3pt]
        \textcolor{MainBlue}{\textbf{(C)}} Volatility is independent of shock sign\\[3pt]
        \textcolor{MainBlue}{\textbf{(D)}} Returns are asymmetric
    \end{block}

    \vspace{0.5cm}

    \begin{center}
        \textit{Answer on next slide...}
    \end{center}
    \end{cminipage}
\end{frame}

\begin{frame}{Quiz 5: Answer}
    \begin{cminipage}{0.95\textwidth}
    {\small
    \begin{exampleblock}{Answer: B -- Negative shocks increase volatility more than positive shocks}

    \vspace{0.1cm}

    \begin{block}{Answer choices}
        \textcolor{MainBlue}{\textbf{(A)}} Positive shocks increase volatility more than negative shocks \incorrect\\[2pt]
        \textcolor{MainBlue}{\textbf{(B)}} \textbf{\textcolor{Forest}{Negative shocks increase volatility more than positive shocks}} \correct\\[2pt]
        \textcolor{MainBlue}{\textbf{(C)}} Volatility is independent of shock sign \incorrect\\[2pt]
        \textcolor{MainBlue}{\textbf{(D)}} Returns are asymmetric \incorrect
    \end{block}

        \vspace{0.1cm}

        \begin{itemize}\setlength{\itemsep}{0pt}
            \item Empirically observed in stock markets
            \item When prices fall, firm leverage increases (debt becomes larger relative to equity)
            \item This makes the firm riskier $\Rightarrow$ higher volatility
            \item Standard GARCH \textbf{cannot} capture this effect (depends on $\varepsilon^2$)
            \item Solutions: \textbf{EGARCH}, \textbf{GJR-GARCH}, \textbf{TGARCH}
        \end{itemize}
    \end{exampleblock}
    }

    \end{cminipage}
    \quantlet{TSA\_ch5\_egarch}{https://github.com/QuantLet/TSA/tree/main/TSA_ch5/TSA_ch5_egarch}
\end{frame}

\begin{frame}{Quiz 6: EGARCH Leverage}
    \begin{cminipage}{0.95\textwidth}
    \begin{alertblock}{Question}
        In the EGARCH model, a negative $\gamma$ parameter indicates:
    \end{alertblock}

    \vspace{0.4cm}

    \begin{block}{Answer choices}
        \textcolor{MainBlue}{\textbf{(A)}} Absence of leverage effect\\[3pt]
        \textcolor{MainBlue}{\textbf{(B)}} Presence of leverage effect\\[3pt]
        \textcolor{MainBlue}{\textbf{(C)}} Constant volatility\\[3pt]
        \textcolor{MainBlue}{\textbf{(D)}} Non-stationary model
    \end{block}

    \vspace{0.5cm}

    \begin{center}
        \textit{Answer on next slide...}
    \end{center}
    \end{cminipage}
\end{frame}

\begin{frame}{Quiz 6: Answer}
    \begin{cminipage}{0.95\textwidth}
    {\small
    \begin{exampleblock}{Answer: B -- Presence of leverage effect}

    \vspace{0.1cm}

    \begin{block}{Answer choices}
        \textcolor{MainBlue}{\textbf{(A)}} Absence of leverage effect \incorrect\\[2pt]
        \textcolor{MainBlue}{\textbf{(B)}} \textbf{\textcolor{Forest}{Presence of leverage effect}} \correct\\[2pt]
        \textcolor{MainBlue}{\textbf{(C)}} Constant volatility \incorrect\\[2pt]
        \textcolor{MainBlue}{\textbf{(D)}} Non-stationary model \incorrect
    \end{block}

        \vspace{0.1cm}

        \begin{itemize}\setlength{\itemsep}{0pt}
            \item EGARCH(1,1): $\ln(\sigma_t^2) = \omega + \alpha (|z_{t-1}| - \E[|z|]) + \gamma z_{t-1} + \beta \ln(\sigma_{t-1}^2)$
            \item $\gamma < 0$: negative shock ($z < 0$) $\Rightarrow$ increases $\ln(\sigma_t^2)$
            \item $\gamma > 0$: inverse effect (less common)
            \item $\gamma = 0$: symmetric effect (like GARCH)
        \end{itemize}
    \end{exampleblock}
    }

    \end{cminipage}
    \quantlet{TSA\_ch5\_nic}{https://github.com/QuantLet/TSA/tree/main/TSA_ch5/TSA_ch5_nic}
\end{frame}

\begin{frame}{Quiz 7: EGARCH Advantages}
    \begin{cminipage}{0.95\textwidth}
    \begin{alertblock}{Question}
        What is the main advantage of EGARCH over GARCH?
    \end{alertblock}

    \vspace{0.4cm}

    \begin{block}{Answer choices}
        \textcolor{MainBlue}{\textbf{(A)}} Faster to estimate\\[3pt]
        \textcolor{MainBlue}{\textbf{(B)}} No non-negativity constraints needed\\[3pt]
        \textcolor{MainBlue}{\textbf{(C)}} Fewer parameters\\[3pt]
        \textcolor{MainBlue}{\textbf{(D)}} Easier to interpret
    \end{block}

    \vspace{0.5cm}

    \begin{center}
        \textit{Answer on next slide...}
    \end{center}
    \end{cminipage}
\end{frame}

\begin{frame}{Quiz 7: Answer}
    \begin{cminipage}{0.95\textwidth}
    \begin{exampleblock}{Answer: B -- No non-negativity constraints needed}

    \vspace{0.1cm}

    \begin{block}{Answer choices}
        \textcolor{MainBlue}{\textbf{(A)}} Faster to estimate \incorrect\\[3pt]
        \textcolor{MainBlue}{\textbf{(B)}} \textbf{\textcolor{Forest}{No non-negativity constraints needed}} \correct\\[3pt]
        \textcolor{MainBlue}{\textbf{(C)}} Fewer parameters \incorrect\\[3pt]
        \textcolor{MainBlue}{\textbf{(D)}} Easier to interpret \incorrect
    \end{block}

        \vspace{0.1cm}

        \begin{itemize}
            \item Models $\ln(\sigma_t^2)$, not $\sigma_t^2$
            \item $\sigma_t^2 = e^{\ln(\sigma_t^2)} > 0$ \textbf{automatically}, regardless of parameter values
            \item GARCH requires $\omega > 0$, $\alpha \geq 0$, $\beta \geq 0$
            \item During estimation, these constraints can cause convergence problems
        \end{itemize}
    \end{exampleblock}

    \end{cminipage}
    \quantlet{TSA\_ch5\_egarch\_sim}{https://github.com/QuantLet/TSA/tree/main/TSA_ch5/TSA_ch5_egarch_sim}
\end{frame}

\begin{frame}{Quiz 8: ARCH Effects Test}
    \begin{cminipage}{0.95\textwidth}
    \begin{alertblock}{Question}
        Which test do we use to detect ARCH effects in residuals?
    \end{alertblock}

    \vspace{0.4cm}

    \begin{block}{Answer choices}
        \textcolor{MainBlue}{\textbf{(A)}} Dickey-Fuller test\\[3pt]
        \textcolor{MainBlue}{\textbf{(B)}} Ljung-Box test on residuals\\[3pt]
        \textcolor{MainBlue}{\textbf{(C)}} Engle's ARCH-LM test\\[3pt]
        \textcolor{MainBlue}{\textbf{(D)}} Breusch-Pagan test
    \end{block}

    \vspace{0.5cm}

    \begin{center}
        \textit{Answer on next slide...}
    \end{center}
    \end{cminipage}
\end{frame}

\begin{frame}{Quiz 8: Answer}
    \begin{cminipage}{0.95\textwidth}
    \begin{exampleblock}{Answer: C -- Engle's ARCH-LM test}

    \vspace{0.1cm}

    \begin{block}{Answer choices}
        \textcolor{MainBlue}{\textbf{(A)}} Dickey-Fuller test \incorrect\\[3pt]
        \textcolor{MainBlue}{\textbf{(B)}} Ljung-Box test on residuals \incorrect\\[3pt]
        \textcolor{MainBlue}{\textbf{(C)}} \textbf{\textcolor{Forest}{Engle's ARCH-LM test}} \correct\\[3pt]
        \textcolor{MainBlue}{\textbf{(D)}} Breusch-Pagan test \incorrect
    \end{block}

        \vspace{0.1cm}

        \begin{itemize}
            \item Estimate mean model, obtain residuals $\hat{\varepsilon}_t$
            \item Regress: $\hat{\varepsilon}_t^2 = \beta_0 + \beta_1 \hat{\varepsilon}_{t-1}^2 + \cdots + \beta_q \hat{\varepsilon}_{t-q}^2 + u_t$
            \item Test statistic: $LM = T \cdot R^2 \sim \chi^2(q)$ under $H_0$
            \item $H_0$: No ARCH effects \quad $H_1$: ARCH effects present
        \end{itemize}
    \end{exampleblock}

    \end{cminipage}
    \quantlet{TSA\_ch5\_arch\_sim}{https://github.com/QuantLet/TSA/tree/main/TSA_ch5/TSA_ch5_arch_sim}
\end{frame}

\begin{frame}{Quiz 9: Volatility Persistence}
    \begin{cminipage}{0.95\textwidth}
    \begin{alertblock}{Question}
        For S\&P 500, typical values of $\alpha + \beta$ in GARCH(1,1) are:
    \end{alertblock}

    \vspace{0.4cm}

    \begin{block}{Answer choices}
        \textcolor{MainBlue}{\textbf{(A)}} 0.50 -- 0.70\\[3pt]
        \textcolor{MainBlue}{\textbf{(B)}} 0.70 -- 0.85\\[3pt]
        \textcolor{MainBlue}{\textbf{(C)}} 0.95 -- 0.99\\[3pt]
        \textcolor{MainBlue}{\textbf{(D)}} Greater than 1
    \end{block}

    \vspace{0.5cm}

    \begin{center}
        \textit{Answer on next slide...}
    \end{center}
    \end{cminipage}
\end{frame}

\begin{frame}{Quiz 9: Answer}
    \begin{cminipage}{0.95\textwidth}
    {\small
    \begin{exampleblock}{Answer: C -- 0.95 -- 0.99}

    \vspace{0.1cm}

    \begin{block}{Answer choices}
        \textcolor{MainBlue}{\textbf{(A)}} 0.50 -- 0.70 \incorrect\\[2pt]
        \textcolor{MainBlue}{\textbf{(B)}} 0.70 -- 0.85 \incorrect\\[2pt]
        \textcolor{MainBlue}{\textbf{(C)}} \textbf{\textcolor{Forest}{0.95 -- 0.99}} \correct\\[2pt]
        \textcolor{MainBlue}{\textbf{(D)}} Greater than 1 \incorrect
    \end{block}

        \vspace{0.1cm}

        {\footnotesize
        \begin{itemize}\setlength{\itemsep}{0pt}
            \item Financial time series exhibit very persistent volatility
            \item $\alpha + \beta \approx 0.98$ for S\&P 500; Half-life $\approx 35$--$60$ days
        \end{itemize}
        \begin{center}
            \begin{tabular}{lc}
                \toprule
                \textbf{Series} & $\bm{\alpha + \beta}$ \\
                \midrule
                S\&P 500 & 0.97--0.99 \\
                Bitcoin & 0.90--0.98 \\
                EUR/USD & 0.96--0.99 \\
                \bottomrule
            \end{tabular}
        \end{center}
        }
    \end{exampleblock}
    }

    \end{cminipage}
    \quantlet{TSA\_ch5\_sp500\_garch}{https://github.com/QuantLet/TSA/tree/main/TSA_ch5/TSA_ch5_sp500_garch}
\end{frame}

\begin{frame}{Quiz 10: Innovation Distributions}
    \begin{cminipage}{0.95\textwidth}
    \begin{alertblock}{Question}
        Which distribution is most commonly used for GARCH innovations to capture fat tails?
    \end{alertblock}

    \vspace{0.4cm}

    \begin{block}{Answer choices}
        \textcolor{MainBlue}{\textbf{(A)}} Normal\\[3pt]
        \textcolor{MainBlue}{\textbf{(B)}} Uniform\\[3pt]
        \textcolor{MainBlue}{\textbf{(C)}} Student-t\\[3pt]
        \textcolor{MainBlue}{\textbf{(D)}} Exponential
    \end{block}

    \vspace{0.5cm}

    \begin{center}
        \textit{Answer on next slide...}
    \end{center}
    \end{cminipage}
\end{frame}

\begin{frame}{Quiz 10: Answer}
    \begin{cminipage}{0.95\textwidth}
    {\small
    \begin{exampleblock}{Answer: C -- Student-t}

    \vspace{0.1cm}

    \begin{block}{Answer choices}
        \textcolor{MainBlue}{\textbf{(A)}} Normal \incorrect\\[2pt]
        \textcolor{MainBlue}{\textbf{(B)}} Uniform \incorrect\\[2pt]
        \textcolor{MainBlue}{\textbf{(C)}} \textbf{\textcolor{Forest}{Student-t}} \correct\\[2pt]
        \textcolor{MainBlue}{\textbf{(D)}} Exponential \incorrect
    \end{block}

        \vspace{0.1cm}

        \begin{itemize}\setlength{\itemsep}{0pt}
            \item \textbf{Normal}: standard, but underestimates extreme risk
            \item \textbf{Student-t}: fat tails, parameter $\nu$ (degrees of freedom)
            \item \textbf{GED}: Generalized Error Distribution, flexible
            \item \textbf{Skewed Student-t}: asymmetry + fat tails
            \item For S\&P 500: $\nu \approx 5$--$8$ (significantly fatter tails than normal)
        \end{itemize}
    \end{exampleblock}
    }

    \end{cminipage}
    \quantlet{TSA\_ch5\_stylized}{https://github.com/QuantLet/TSA/tree/main/TSA_ch5/TSA_ch5_stylized}
\end{frame}

%=============================================================================
% TRUE/FALSE
%=============================================================================
\section{True/False}

\begin{frame}{True or False? --- Questions}
    \begin{cminipage}{0.95\textwidth}
    \footnotesize
    \begin{center}
    \begin{tabular}{p{9cm}c}
        \toprule
        \textbf{Statement} & \textbf{T/F?} \\
        \midrule
        1. ARIMA models can capture volatility clustering. & ? \\[0.15cm]
        2. In GARCH(1,1), if $\alpha + \beta = 1$, the model is called IGARCH. & ? \\[0.15cm]
        3. GJR-GARCH uses an indicator variable for negative shocks. & ? \\[0.15cm]
        4. GARCH volatility forecasts converge to zero in the long run. & ? \\[0.15cm]
        5. EGARCH can have negative parameters without generating negative variance. & ? \\[0.15cm]
        6. Value at Risk (VaR) can be calculated using GARCH volatility forecasts. & ? \\
        \bottomrule
    \end{tabular}
    \end{center}
    \end{cminipage}
\end{frame}

\begin{frame}{True or False? --- Answers}
    \begin{cminipage}{0.95\textwidth}
    \scriptsize
    \begin{center}
    \begin{tabular}{p{7.5cm}cc}
        \toprule
        \textbf{Statement} & \textbf{T/F} & \textbf{Explanation} \\
        \midrule
        1. ARIMA models can capture volatility clustering. & \textcolor{Crimson}{\textbf{F}} & {\tiny Assumes constant variance} \\[0.08cm]
        2. In GARCH(1,1), if $\alpha + \beta = 1$, the model is called IGARCH. & \textcolor{Forest}{\textbf{T}} & {\tiny Volatility has unit root} \\[0.08cm]
        3. GJR-GARCH uses an indicator variable for negative shocks. & \textcolor{Forest}{\textbf{T}} & {\tiny $I_{t-1} = 1$ if $\varepsilon_{t-1} < 0$} \\[0.08cm]
        4. GARCH volatility forecasts converge to zero in the long run. & \textcolor{Crimson}{\textbf{F}} & {\tiny Converges to $\bar{\sigma}^2$} \\[0.08cm]
        5. EGARCH can have negative parameters without generating negative variance. & \textcolor{Forest}{\textbf{T}} & {\tiny Models $\ln(\sigma_t^2)$} \\[0.08cm]
        6. Value at Risk (VaR) can be calculated using GARCH volatility forecasts. & \textcolor{Forest}{\textbf{T}} & {\tiny $\text{VaR}_\alpha = z_\alpha \cdot \sigma_{t+1}$} \\
        \bottomrule
    \end{tabular}
    \end{center}
    \end{cminipage}
\end{frame}

%=============================================================================
% CALCULATION EXERCISES
%=============================================================================
\section{Calculation Exercises}

\begin{frame}{Exercise 1: Calculating Unconditional Variance}
    \begin{cminipage}{0.95\textwidth}
    \begin{alertblock}{Problem}
        A GARCH(1,1) model has estimated parameters:
        \begin{itemize}\setlength{\itemsep}{0pt}
            \item $\omega = 0.000002$, $\alpha = 0.08$, $\beta = 0.90$
        \end{itemize}
        Calculate: (a) Daily unconditional variance; (b) Daily unconditional volatility (\%); (c) Annualized volatility (252 trading days); (d) Volatility half-life
    \end{alertblock}

    \vspace{0.2cm}
    \begin{exampleblock}{Solution}
        \begin{itemize}\setlength{\itemsep}{0pt}
            \item \textbf{(a)} $\bar{\sigma}^2 = \dfrac{\omega}{1 - \alpha - \beta} = \dfrac{0.000002}{0.02} = 0.0001$
            \item \textbf{(b)} $\bar{\sigma} = \sqrt{0.0001} = 0.01 = 1\%$ per day
            \item \textbf{(c)} $\sigma_{\text{annual}} = 0.01 \times \sqrt{252} = 15.87\%$ per year
            \item \textbf{(d)} $HL = \dfrac{\ln(0.5)}{\ln(0.98)} = \dfrac{-0.693}{-0.0202} \approx 34$ days
        \end{itemize}
    \end{exampleblock}
    \end{cminipage}
    \quantlet{TSA\_ch5\_garch\_sim}{https://github.com/QuantLet/TSA/tree/main/TSA_ch5/TSA_ch5_garch_sim}
\end{frame}

\begin{frame}{Exercise 2: Volatility Forecast}
    \begin{cminipage}{0.95\textwidth}
    \begin{alertblock}{Problem}
        \begin{itemize}\setlength{\itemsep}{0pt}
            \item Using GARCH(1,1): $\omega = 0.000002$, $\alpha = 0.08$, $\beta = 0.90$
            \item At time $T$: $\varepsilon_T = -0.03$ (3\% drop), $\sigma_T^2 = 0.0004$
            \item Calculate: (a) $\sigma_{T+1}^2$; (b) $\sigma_{T+5}^2$; (c) $\sigma_{T+100}^2$
        \end{itemize}
    \end{alertblock}

    \vspace{0.2cm}
    \begin{exampleblock}{Solution}
        \begin{itemize}\setlength{\itemsep}{0pt}
            \item \textbf{(a)} $\sigma_{T+1}^2 = 0.000002 + 0.08 \times (0.03)^2 + 0.90 \times 0.0004 = 0.000434$; \ Vol: $2.08\%$
            \item \textbf{(b)} $\E_T[\sigma_{T+5}^2] = \bar{\sigma}^2 + (0.98)^4 (\sigma_{T+1}^2 - \bar{\sigma}^2) = 0.000408$; \ Vol: $2.02\%$
            \item \textbf{(c)} $\E_T[\sigma_{T+100}^2] = 0.0001 + (0.98)^{99} \times 0.000334 \approx 0.000145$; \ Vol: $1.20\%$
        \end{itemize}
    \end{exampleblock}
    \end{cminipage}
    \quantlet{TSA\_ch5\_forecast}{https://github.com/QuantLet/TSA/tree/main/TSA_ch5/TSA_ch5_forecast}
\end{frame}

\begin{frame}{Exercise 3: Value at Risk}
    \begin{cminipage}{0.95\textwidth}
    \begin{alertblock}{Problem}
        \begin{itemize}\setlength{\itemsep}{0pt}
            \item Portfolio: 1,000,000 EUR; $\sigma_{T+1} = 2\%$ daily; Normal distribution, zero mean
            \item Calculate: (a) VaR 95\% (1 day); (b) VaR 99\% (1 day); (c) VaR 99\% (10 days)
            \item Quantiles: $z_{0.05} = 1.645$, $z_{0.01} = 2.326$
        \end{itemize}
    \end{alertblock}

    \vspace{0.2cm}
    \begin{exampleblock}{Solution}
        \begin{itemize}\setlength{\itemsep}{0pt}
            \item \textbf{(a)} $\text{VaR}_{95\%} = 1.645 \times 0.02 \times 1{,}000{,}000 = 32{,}900$ EUR
            \item \textbf{(b)} $\text{VaR}_{99\%} = 2.326 \times 0.02 \times 1{,}000{,}000 = 46{,}520$ EUR
            \item \textbf{(c)} $\text{VaR}_{99\%, 10d} = 46{,}520 \times \sqrt{10} = 147{,}100$ EUR
        \end{itemize}
    \end{exampleblock}

    \textit{Note: the $\sqrt{T}$ scaling rule assumes i.i.d.\ returns, which contradicts the GARCH dependence structure.}

    \begin{alertblock}{Caution}
        In practice, for Student-t distribution, quantiles are larger (fatter tails)!
    \end{alertblock}
    \end{cminipage}
    \quantlet{TSA\_ch5\_var\_es}{https://github.com/QuantLet/TSA/tree/main/TSA_ch5/TSA_ch5_var_es}
\end{frame}

\begin{frame}{Exercise 4: Model Identification}
    \begin{cminipage}{0.95\textwidth}
    {\footnotesize
    \begin{alertblock}{Problem}
        Analyze the following estimation results and identify the model:
        \begin{center}
            \footnotesize
            \begin{tabular}{lcc}
                \toprule
                \textbf{Parameter} & \textbf{Estimate} & \textbf{Std. Error} \\
                \midrule
                $\omega$ & 0.0000015 & 0.0000005 \\
                $\alpha$ & 0.0550 & 0.0120 \\
                $\gamma$ & 0.0850 & 0.0180 \\
                $\beta$ & 0.9100 & 0.0150 \\
                \bottomrule
            \end{tabular}
        \end{center}
        (a) What model is this? (b) Is leverage effect present? (c) Impact of negative vs positive shocks? (d) Is it stationary?
    \end{alertblock}

    \vspace{0.1cm}
    \begin{exampleblock}{Solution}
        \begin{itemize}\setlength{\itemsep}{0pt}
            \item \textbf{(a)} \textbf{GJR-GARCH(1,1,1)} --- presence of $\gamma$ parameter (threshold/asymmetry)
            \item \textbf{(b)} Yes: $\gamma = 0.085 > 0$ and significant
            \item \textbf{(c)} Positive shock: $\alpha = 0.055$; Negative shock: $\alpha + \gamma = 0.140$ (2.5x greater!)
            \item \textbf{(d)} $\alpha + \gamma/2 + \beta = 0.055 + 0.0425 + 0.91 = 1.0075$ --- \textbf{slightly above 1} --- technically non-stationary (covariance), very close to IGARCH
        \end{itemize}
    \end{exampleblock}
    }
    \end{cminipage}
    \quantlet{TSA\_ch5\_diagnostic}{https://github.com/QuantLet/TSA/tree/main/TSA_ch5/TSA_ch5_diagnostic}
\end{frame}

%=============================================================================
% PYTHON WORKFLOW
%=============================================================================
\section{Python Workflow}

\begin{frame}[fragile]{Step 1: Load and Prepare Data}
    \begin{cminipage}{0.95\textwidth}
\begin{verbatim}
import pandas as pd
import numpy as np
import yfinance as yf
from arch import arch_model
from arch.unitroot import ADF

# Download S&P 500 data
data = yf.download('^GSPC', start='2010-01-01', end='2024-01-01')
returns = 100 * data['Adj Close'].pct_change().dropna()

# Check stationarity
adf = ADF(returns)
print(f'ADF statistic: {adf.stat:.4f}')
print(f'p-value: {adf.pvalue:.4f}')
\end{verbatim}
    \end{cminipage}
    \quantlet{TSA\_ch5\_sp500}{https://github.com/QuantLet/TSA/tree/main/TSA_ch5/TSA_ch5_sp500}
\end{frame}

\begin{frame}[fragile]{Step 2: Test for ARCH Effects}
    \begin{cminipage}{0.95\textwidth}
\begin{verbatim}
from statsmodels.stats.diagnostic import het_arch

# ARCH-LM test on residuals
residuals = returns - returns.mean()
lm_stat, lm_pvalue, f_stat, f_pvalue = het_arch(residuals, nlags=10)

print(f'ARCH-LM statistic: {lm_stat:.4f}')
print(f'p-value: {lm_pvalue:.4f}')

if lm_pvalue < 0.05:
    print('=> ARCH effects present! GARCH modeling justified.')
\end{verbatim}
    \end{cminipage}
    \quantlet{TSA\_ch5\_btc\_arch}{https://github.com/QuantLet/TSA/tree/main/TSA_ch5/TSA_ch5_btc_arch}
\end{frame}

\begin{frame}[fragile]{Step 3: Estimate Models}
    \begin{cminipage}{0.95\textwidth}
    \vspace{-0.4cm}
\begin{verbatim}
# GARCH(1,1) with Student-t distribution
model_garch = arch_model(returns, vol='Garch', p=1, q=1, dist='t')
res_garch = model_garch.fit(disp='off')
print(res_garch.summary())

# GJR-GARCH(1,1,1)
model_gjr = arch_model(returns, vol='Garch', p=1, o=1, q=1, dist='t')
res_gjr = model_gjr.fit(disp='off')

# EGARCH(1,1)
model_egarch = arch_model(returns, vol='EGARCH', p=1, q=1, dist='t')
res_egarch = model_egarch.fit(disp='off')

# Compare AIC
print(f'GARCH AIC: {res_garch.aic:.2f}')
print(f'GJR AIC: {res_gjr.aic:.2f}')
print(f'EGARCH AIC: {res_egarch.aic:.2f}')
\end{verbatim}
    \end{cminipage}
    \quantlet{TSA\_ch5\_sp500\_comp}{https://github.com/QuantLet/TSA/tree/main/TSA_ch5/TSA_ch5_sp500_comp}
\end{frame}

\begin{frame}[fragile]{Step 4: Diagnostics}
    \begin{cminipage}{0.95\textwidth}
\begin{verbatim}
# Standardized residuals
std_resid = res_gjr.std_resid

# Ljung-Box test on squared residuals
from statsmodels.stats.diagnostic import acorr_ljungbox
lb_test = acorr_ljungbox(std_resid**2, lags=10, return_df=True)
print(lb_test)

# Check for remaining ARCH effects
lm_stat2, lm_pval2, _, _ = het_arch(std_resid, nlags=5)
print(f'ARCH-LM residuals: stat={lm_stat2:.2f}, p={lm_pval2:.4f}')

if lm_pval2 > 0.05:
    print('=> No remaining ARCH effects. Model OK!')
\end{verbatim}
    \end{cminipage}
    \quantlet{TSA\_ch5\_diagnostic}{https://github.com/QuantLet/TSA/tree/main/TSA_ch5/TSA_ch5_diagnostic}
\end{frame}

\begin{frame}[fragile]{Step 5: Forecast and VaR}
    \begin{cminipage}{0.95\textwidth}
\begin{verbatim}
# Forecast 10 days ahead
forecasts = res_gjr.forecast(horizon=10)
vol_forecast = np.sqrt(forecasts.variance.values[-1, :])

print('Volatility forecast (%):', vol_forecast)

# Value at Risk 99%
portfolio_value = 1_000_000
VaR_99 = 2.326 * vol_forecast[0] / 100 * portfolio_value
print(f'VaR 99% (1 day): {VaR_99:,.0f} EUR')

# 10-day VaR
VaR_99_10d = VaR_99 * np.sqrt(10)
print(f'VaR 99% (10 days): {VaR_99_10d:,.0f} EUR')
\end{verbatim}
    \end{cminipage}
    \quantlet{TSA\_ch5\_btc\_garch}{https://github.com/QuantLet/TSA/tree/main/TSA_ch5/TSA_ch5_btc_garch}
\end{frame}

%=============================================================================
% AI-ASSISTED EXERCISE
%=============================================================================
\section{AI-Assisted Exercise}

\begin{frame}{AI Exercise: Critical Thinking}
    \begin{cminipage}{0.95\textwidth}
    \vspace{-0.3cm}
    \begin{block}{\footnotesize Prompt to test in ChatGPT / Claude / Copilot}
        {\footnotesize
        ``Download BTC-USD daily data from Yahoo Finance (last 5 years). Fit a GARCH(1,1) model to log returns. Show the news impact curve, forecast volatility for the next 30 days, and calculate 1-day 99\% VaR.''
        }
    \end{block}
    \vspace{-2mm}
    {\footnotesize
    \textbf{Exercise}:
    \begin{enumerate}\setlength{\itemsep}{0pt}
        \item Did the AI check for ARCH effects before fitting GARCH?
        \item Is the model adequate? (Check Ljung-Box on standardized residuals)
        \item Does the news impact curve show asymmetry? Should EGARCH/GJR be used instead?
        \item Is the VaR calculation based on the conditional or unconditional distribution?
        \item Try changing to EGARCH --- does the AI explain why results differ?
    \end{enumerate}
    }
    \vspace{-2mm}
    \begin{alertblock}{}
        {\footnotesize \textbf{Warning}: AI-generated code may run without errors and look professional. \textit{That does not mean it is correct.}}
    \end{alertblock}
    \end{cminipage}
\end{frame}

%=============================================================================
% SUMMARY
%=============================================================================
\section{Summary}

\begin{frame}{Summary: Chapter 5}
    \begin{cminipage}{0.95\textwidth}
    \begin{exampleblock}{Key Concepts}
        \begin{itemize}\setlength{\itemsep}{2pt}
            \item[\textcolor{MainBlue}{\textbf{1.}}] \textbf{ARCH}: conditional variance depends on past shocks
            \item[\textcolor{MainBlue}{\textbf{2.}}] \textbf{GARCH}: adds persistence through lagged variance
            \item[\textcolor{MainBlue}{\textbf{3.}}] \textbf{EGARCH/GJR}: capture leverage effect (asymmetry)
            \item[\textcolor{MainBlue}{\textbf{4.}}] \textbf{Stationarity}: $\alpha + \beta < 1$
            \item[\textcolor{MainBlue}{\textbf{5.}}] \textbf{Key formulas}: $\bar{\sigma}^2 = \frac{\omega}{1 - \alpha - \beta}$, $HL = \frac{\ln(0.5)}{\ln(\alpha + \beta)}$, $\text{VaR}_\alpha = z_\alpha \cdot \sigma \cdot V$
        \end{itemize}
    \end{exampleblock}

    \vspace{0.3cm}

    \begin{alertblock}{Practical Tip}
        Use Student-t distribution to capture fat tails. Verify absence of ARCH effects in residuals!
    \end{alertblock}

    \vspace{0.3cm}
    \begin{center}
        \Large\textcolor{MainBlue}{Questions?}
    \end{center}
    \end{cminipage}
\end{frame}

\begin{frame}{Homework Exercises}
    \begin{cminipage}{0.95\textwidth}
    {\small
    \begin{block}{Exercise 1}
        Download daily returns for BET (BVB index) and estimate a GARCH(1,1) model. Compare persistence ($\alpha + \beta$) with S\&P 500.
    \end{block}

    \begin{block}{Exercise 2}
        For Bitcoin, estimate GARCH, EGARCH, and GJR-GARCH. Is leverage effect present for cryptocurrencies?
    \end{block}

    \begin{block}{Exercise 3}
        Calculate daily VaR for a portfolio of 100,000 EUR invested in EUR/USD, using GARCH-forecasted volatility.
    \end{block}

    \begin{block}{Exercise 4}
        Compare GARCH(1,1) volatility forecast with realized volatility (sum of squared returns) for a 20-day period.
    \end{block}
    }
    \end{cminipage}
    \quantlet{TSA\_ch5\_rolling\_forecast}{https://github.com/QuantLet/TSA/tree/main/TSA_ch5/TSA_ch5_rolling_forecast}
\end{frame}

%=============================================================================
% BIBLIOGRAPHY
%=============================================================================
\section{Bibliography}

\begin{frame}{Bibliography I}
    \begin{cminipage}{0.95\textwidth}
    \begin{block}{Time Series Fundamentals}
        {\small
        \begin{itemize}\setlength{\itemsep}{0pt}
            \item Hyndman, R.J., \& Athanasopoulos, G. (2021). \textit{Forecasting: Principles and Practice}, 3rd ed., OTexts.
            \item Shumway, R.H., \& Stoffer, D.S. (2017). \textit{Time Series Analysis and Its Applications}, 4th ed., Springer.
            \item Brockwell, P.J., \& Davis, R.A. (2016). \textit{Introduction to Time Series and Forecasting}, 3rd ed., Springer.
        \end{itemize}
        }
    \end{block}

    \begin{exampleblock}{Financial Time Series}
        {\small
        \begin{itemize}\setlength{\itemsep}{0pt}
            \item Tsay, R.S. (2010). \textit{Analysis of Financial Time Series}, 3rd ed., Wiley.
            \item Franke, J., H\"ardle, W.K., \& Hafner, C.M. (2019). \textit{Statistics of Financial Markets}, 4th ed., Springer.
        \end{itemize}
        }
    \end{exampleblock}
    \end{cminipage}
\end{frame}

\begin{frame}{Bibliography II}
    \begin{cminipage}{0.95\textwidth}
    \begin{block}{Modern Approaches and Machine Learning}
        {\small
        \begin{itemize}\setlength{\itemsep}{0pt}
            \item Nielsen, A. (2019). \textit{Practical Time Series Analysis}, O'Reilly Media.
            \item Petropoulos, F., et al. (2022). \textit{Forecasting: Theory and Practice}, International Journal of Forecasting.
            \item Makridakis, S., Spiliotis, E., \& Assimakopoulos, V. (2020). The M4 Competition, International Journal of Forecasting.
        \end{itemize}
        }
    \end{block}

    \begin{exampleblock}{Online Resources and Code}
        {\small
        \begin{itemize}\setlength{\itemsep}{0pt}
            \item \textbf{Quantlet}: \url{https://quantlet.com} --- Code repository for statistics
            \item \textbf{Quantinar}: \url{https://quantinar.com} --- Quantitative methods learning platform
            \item \textbf{GitHub TSA}: \url{https://github.com/QuantLet/TSA/tree/main/TSA_ch5} --- Python code for this seminar
        \end{itemize}
        }
    \end{exampleblock}
    \end{cminipage}
\end{frame}

\begin{frame}{}
    \begin{cminipage}{0.95\textwidth}
    \centering
    \Huge\textcolor{IDAred}{Thank You!}

    \vspace{1cm}

    \Large\textcolor{MainBlue}{Questions?}

    \vspace{0.8cm}

    \normalsize
    Seminar materials are available at: \url{https://danpele.github.io/Time-Series-Analysis/}

    \vspace{0.2cm}

    \href{https://quantlet.com}{\raisebox{-0.15em}{\includegraphics[height=0.8em]{ql_logo.png}} Quantlet} \hspace{0.5cm}
    \href{https://quantinar.com}{\raisebox{-0.15em}{\includegraphics[height=0.8em]{qr_logo.png}} Quantinar}
    \end{cminipage}
\end{frame}

\end{document}
